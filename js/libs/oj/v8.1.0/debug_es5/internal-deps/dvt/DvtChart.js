define(["./DvtToolkit","./DvtAxis","./DvtLegend","./DvtOverview"],(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license
 * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 * @ignore
 */return function(t){
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
t.Chart=function(t,e,i){this.Init(t,e,i)},t.Obj.createSubclass(t.Chart,t.BaseComponent),t.Chart.newInstance=function(e,i,r){return new t.Chart(e,i,r)},t.Chart.getDefaults=function(t){return(new l).getDefaults(t)},t.Chart.prototype.Init=function(e,i,a){t.Chart.superclass.Init.call(this,e,i,a),this.Defaults=new l(e),this.EventManager=new r(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.pieCenterDiv=null,this.Peers=[],this.SeriesStyleArray=[],this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null},t.Chart.prototype.GetComponentDescription=function(){var e=this.getOptions(),i=e.translations.componentName,r="",a=t.Context.ARIA_LABEL_DESC_DELIMITER;return e.title.text&&(r+=this.Options.title.text,e.subtitle.text&&(r+=a+this.Options.subtitle.text)),e.footnote.text&&(r=0==r.length?this.Options.footnote.text:r.concat(a,this.Options.footnote.text)),r.length>0?t.ResourceUtils.format(this.Options.translations.labelAndValue,[i,r]):i},t.Chart.prototype.SetOptions=function(e){e?(this._rawOptions=e,this.Options=this.Defaults.calcOptions(e),this.getOptionsCache().clearCache(),J.processDataObject(this),(t.Agent.isEnvironmentTest()||nt.isScatterBubble(this)&&J.getSeriesCount(this)*J.getGroupCount(this)>pt.FILTER_THRESHOLD_SCATTER_BUBBLE)&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var i=this.Options.selectionMode;this._selectionHandler="single"==i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_SINGLE):"multiple"==i?new t.SelectionHandler(this.getCtx(),t.SelectionHandler.TYPE_MULTIPLE):null,this.EventManager.setSelectionHandler(this._selectionHandler)},t.Chart.prototype.render=function(e,i,r){this.getCache().clearCache();var a=this.getCtx(),n=this.Options?this.Options.animationOnDataChange:"none",s="none"!=n?new U(this):null,o=this.__cacheChartFocus();this._container&&this.__cleanUp(),this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r);var l=new t.Container(a);this.addChild(l),gt.render(this,l,new t.Rectangle(0,0,this.Width,this.Height)),nt.isSpark(this)&&this.EventManager.removeListeners(this),this.StopAnimation();var h=it.getAnimationOnDisplay(this),u=it.getAnimationDuration(this),g=new t.Rectangle(0,0,this.Width,this.Height),d=!1;if(this._container){if("none"!=n&&e)if(this.Animation=t.BlackBoxAnimationHandler.getCombinedAnimation(a,n,this._container,l,g,u),this.Animation)d=!0;else if("auto"==n&&this.getPlotArea()){var c=this.__getPlotAreaSpace();this._delContainer=pt.createClippedGroup(this,this._container,new t.Rectangle(0,0,c.w,c.h)),this.Animation=G.createAnimation(s,this,n,u,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=h&&(this.Animation=t.BlackBoxAnimationHandler.getInAnimation(a,h,l,g,u),this.Animation||"auto"!=h||(this.Animation=H.createAnimation(this,h,u)));this.Animation?(this.EventManager.removeListeners(this),t.Playable.appendOnEnd(this.Animation,this._onAnimationEnd,this),this.Animation.play(),this._oldContainer=this._container,!d&&this._oldContainer&&this._oldContainer.removeFromParent()):this._container&&(this._container.removeFromParent(),this._container.destroy(),this._container=null),this._container=l,this._dataCursor=gt.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(o),this.Animation||this.RenderComplete()},t.Chart.prototype.__cleanUp=function(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&(this.EventManager.hideHoverFeedback(),this.EventManager.setPanZoomHandler(null),this.EventManager.setMarqueeZoomHandler(null),this.EventManager.setMarqueeSelectHandler(null),this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this.pieCenterDiv&&(this.getCtx().getContainer().removeChild(this.pieCenterDiv),this.pieCenterDiv=null),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.getCache().clearCache()},t.Chart.prototype.__cleanUpAxisAndPlotArea=function(){this.EventManager.hideHoverFeedback(),this.Peers=[],this.xAxis&&(this._container.removeChild(this.xAxis),this.xAxis.destroy()),this.yAxis&&(this._container.removeChild(this.yAxis),this.yAxis.destroy()),this.y2Axis&&(this._container.removeChild(this.y2Axis),this.y2Axis.destroy()),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._plotArea&&(this._container.removeChild(this._plotArea),this._plotArea.destroy()),this._plotArea=null,this.getCache().clearCache()},t.Chart.prototype._onAnimationEnd=function(){this._oldContainer&&(this._oldContainer.removeFromParent(),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&(this._delContainer.removeFromParent(),this._delContainer.destroy(),this._delContainer=null),this.AnimationStopped||this.RenderComplete(),this.EventManager.addListeners(this),this.Animation=null,this.AnimationStopped=!1},t.Chart.prototype.CreateKeyboardHandler=function(t){return new a(t,this)},t.Chart.prototype.getAutomation=function(){return new i(this)},t.Chart.prototype.getValuesAt=function(t,e){var i=this.__getPlotAreaSpace(),r=t-i.x,a=e-i.y,n=nt.isPolar(this),s=nt.isHorizontal(this);if(n){r-=i.w/2,a-=i.h/2;var o=Math.sqrt(r*r+a*a),l=Math.atan2(r,-a);return l<0&&(l+=2*Math.PI),{x:this.xAxis?this.xAxis.getValueAt(l):null,y:this.yAxis?this.yAxis.getValueAt(o):null}}return{x:this.xAxis?this.xAxis.getValueAt(s?a:r):null,y:this.yAxis?this.yAxis.getValueAt(s?r:a):null,y2:this.y2Axis?this.y2Axis.getValueAt(s?r:a):null}},t.Chart.prototype.filter=function(t,e){var i="out"==e?"hidden":"visible";$.setVisibility(this,t,i),this.render(this.Options)},t.Chart.prototype.highlight=function(e){this.getOptions().highlightedCategories=t.JsonUtils.clone(e),t.CategoryRolloverHandler.highlight(e,this.getObjects(),"any"==this.getOptions().highlightMatch),this.legend&&this.legend.highlight(e),this.pieChart&&this.pieChart.highlight(e),this.overview&&this.overview.getBackgroundChart().highlight(e)},t.Chart.prototype.select=function(e){this.getOptions().selection=t.JsonUtils.clone(e);var i=J.getInitialSelection(this);$.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()},t.Chart.prototype.positionDataCursor=function(e){var i=this.getEventManager().getDataCursorHandler();if(i){if(e){var r=this.xAxis&&null!=e.x?this.xAxis.getCoordAt(e.x):null,a=null;if(nt.isBLAC(this)?this.yAxis&&null!=e.y?a=this.yAxis.getBoundedCoordAt(e.y):this.y2Axis&&null!=e.y2&&(a=this.yAxis.getBoundedCoordAt(e.y2)):a=this.yAxis&&null!=e.y?this.yAxis.getCoordAt(e.y):null,null!=r&&null!=a){var n=this.__getPlotAreaSpace(),s=pt.convertAxisCoord(this,new t.Point(r,a),n);return void i.processMove(new t.Point(n.x+s.x,n.y+s.y),!0)}}i.processEnd(!0)}},t.Chart.prototype.processEvent=function(t,e){var i=t.type;if("categoryHide"==i||"categoryShow"==i)this.filter(t.category,"categoryHide"==i?"out":"in");else if("categoryHighlight"==i)this!=e&&this.highlight(t.categories),this.legend&&this.legend!=e&&this.legend.processEvent(t,e);else if("selection"==i)t=this._processSelectionEvent(t);else if("dvtPanZoom"==i)t=this._processPanZoomEvent(t);else if("dvtMarquee"==i)t=this._processMarqueeEvent(t);else if("overview"==i){var r=t.subtype;if("dropCallback"==r)return;var a="scrollTime"==r||"scrollEnd"==r||"rangeChange"==r;t=this._processScrollbarEvent(t.newX1,t.newX2,a,e)}else if("dvtSimpleScrollbar"==i)t=this._processScrollbarEvent(t.newMin,t.newMax,"end"==t.subtype,e);else if("ready"==i&&this!=e)return;if(t){if("selection"==(i=t.type)){var n,s,o=this.getOptions(),l=o.selection,h=J.getCurrentSelection(this);t.complete&&(o.selection=h),l=l||[],h=h||[];var u={};for(n=0;n<l.length;n++)u[l[n].id]=!0;var g={};for(s=0;s<h.length;s++)g[h[s].id]=!0;var d={};for(s=0;s<h.length;s++){var c=h[s].id;u[c]||(d[c]=!0)}var p={};for(n=0;n<l.length;n++){var _=l[n].id;g[_]||(p[_]=!0)}t.addedSet=d,t.removedSet=p;for(var f=0;f<t.selection.length;f++)$.addEventData(this,t.selection[f]);t.component=this.getOptions()._widgetConstructor}else"drill"==i&&($.addEventData(this,t),t.component=this.getOptions()._widgetConstructor);this.dispatchEvent(t)}},t.Chart.prototype._processSelectionEvent=function(e){var i=$.processIds(this,e.selection);return this._updateOverviewSelection(),t.EventFactory.newChartSelectionEvent(i,!0)},t.Chart.prototype._processPanZoomEvent=function(e){var i=e.subtype;return"panStart"==i||"pinchStart"==i?(t.Agent.isTouchDevice()&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea),null):(this._lastPanZoomEvent?(e.dxMin+=this._lastPanZoomEvent.dxMin,e.dxMax+=this._lastPanZoomEvent.dxMax,e.dyMin+=this._lastPanZoomEvent.dyMin,e.dyMax+=this._lastPanZoomEvent.dyMax):t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animatePanZoomEvent)),this._lastPanZoomEvent=e,null)},t.Chart.prototype._animatePanZoomEvent=function(){var e=this._lastPanZoomEvent;this._lastPanZoomEvent=null;var i,r,a=e.subtype,n="panEnd"==a||"zoom"==a||"pinchEnd"==a;($.isLiveScroll(this)?(i=$.getAxisBoundsByDelta(this,e.dxMin,e.dxMax,e.dyMin,e.dyMax),this._setScrollbarViewport(i),this._setViewport(i,n)):(i=$.getAxisBoundsByDelta(this,e.dxMinTotal,e.dxMaxTotal,e.dyMinTotal,e.dyMaxTotal),this._setScrollbarViewport(i),n&&this._setViewport(i,n)),n&&(gt._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null)),n||!i.unchanged)&&(r=nt.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(n,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(n,i.xMin,i.xMax,null,null,i.yMin,i.yMax),this.dispatchEvent(r))},t.Chart.prototype._processMarqueeEvent=function(e){var i,a=e.subtype,n=this.EventManager;if($.adjustBounds(e),n.getDragMode()==r.DRAG_MODE_SELECT){var s=n.getSelectionHandler();if("start"==a)this._initSelection=e.ctrlKey?s.getSelectedIds():[];else{var o=$.getBoundedObjects(this,e);s.processInitialSelections(this._initSelection,this.getChartObjPeers()),s.processGroupSelection(o,!0)}var l=s.getSelectedIds();i=$.getAxisBounds(this,e,!1);var h="end"==a,u=t.EventFactory.newChartSelectionEvent(l,h,i.xMin,i.xMax,i.startGroup,i.endGroup,i.yMin,i.yMax,i.y2Min,i.y2Max);return"end"==a&&this._updateOverviewSelection(),u}return n.getDragMode()==r.DRAG_MODE_ZOOM?"end"!=a?null:(i=$.getAxisBounds(this,e,!0),this._setViewport(i,!0),this._setScrollbarViewport(i),gt._setEventHandlers(this),nt.isBLAC(this)?t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,i.startGroup,i.endGroup,null,null):t.EventFactory.newChartViewportChangeEvent(!0,i.xMin,i.xMax,null,null,i.yMin,i.yMax)):null},t.Chart.prototype._processScrollbarEvent=function(e,i,r,a){return this._lastScrollbarEvent||t.Context.requestAnimationFrame(t.Obj.createCallback(this,this._animateScrollbarEvent)),this._lastScrollbarEvent={start:e,end:i,actionDone:r,source:a},null},t.Chart.prototype._animateScrollbarEvent=function(){var e=this._lastScrollbarEvent.start,i=this._lastScrollbarEvent.end,r=this._lastScrollbarEvent.actionDone,a=this._lastScrollbarEvent.source;this._lastScrollbarEvent=null;var n=a==this.yScrollbar?this.yAxis:this.xAxis,s=$.getActualMinMax(n,e,i);if(e=s.min,i=s.max,($.isLiveScroll(this)||r)&&(a==this.yScrollbar?this._setViewport({yMin:e,yMax:i},r):this._setViewport({xMin:e,xMax:i,unchanged:s.unchanged},r)),r||!s.unchanged){var o;if(a==this.yScrollbar)o=t.EventFactory.newChartViewportChangeEvent(r,null,null,null,null,e,i,null,null);else{var l=$.getAxisStartEndGroup(this.xAxis,e,i);o=t.EventFactory.newChartViewportChangeEvent(r,e,i,l.startGroup,l.endGroup,null,null,null,null)}this.dispatchEvent(o)}},t.Chart.prototype._updateOverviewSelection=function(){if(this.overview){var t=this.overview.getBackgroundChart();t.getOptions().selection=J.getCurrentSelection(this),t.render()}},t.Chart.prototype.changeOption=function(e,i,r){this.getOptions()[e]=i,this.dispatchEvent(t.EventFactory.newOptionChangeEvent(e,i,r))},t.Chart.prototype.registerObject=function(t){this.Peers.push(t)},t.Chart.prototype.getObjects=function(){return this.Peers},t.Chart.prototype.getChartObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof n&&t.push(this.Peers[e]);return t},t.Chart.prototype.getRefObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof s&&t.push(this.Peers[e]);return t},t.Chart.prototype.getObject=function(t,e){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof n&&this.Peers[i].getSeriesIndex()==t&&this.Peers[i].getGroupIndex()==e)return this.Peers[i];return null},t.Chart.prototype.getWidth=function(){return this.Width},t.Chart.prototype.getHeight=function(){return this.Height},t.Chart.prototype.getSeriesStyleArray=function(){return this.SeriesStyleArray},t.Chart.prototype.getPlotArea=function(){return this._plotArea},t.Chart.prototype.setPlotArea=function(t){this._plotArea=t},t.Chart.prototype.getType=function(){return this.getOptions().type},t.Chart.prototype.getSkin=function(){return this.getOptions().skin},t.Chart.prototype.getGapWidthRatio=function(){var t=this.getOptions();return null!==t.layout.gapWidthRatio?t.layout.gapWidthRatio:Math.min(this.Width/400,1)},t.Chart.prototype.getGapHeightRatio=function(){var t=this.getOptions();return null!==t.layout.gapHeightRatio?t.layout.gapHeightRatio:Math.min(this.Height/300,1)},t.Chart.prototype.getSelectionHandler=function(){return this._selectionHandler},t.Chart.prototype.isSelectionSupported=function(){return!!this._selectionHandler},t.Chart.prototype._setViewport=function(t,e){!e&&t.unchanged||(null!=t.xMax&&(this.Options.xAxis.viewportMax=t.xMax),null!=t.xMin&&(this.Options.xAxis.viewportMin=t.xMin),nt.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=t.yMax&&(this.Options.yAxis.viewportMax=t.yMax),null!=t.yMin&&(this.Options.yAxis.viewportMin=t.yMin)),this.Options._duringZoomAndScroll=!e,gt.rerenderAxisAndPlotArea(this,this._container))},t.Chart.prototype._setScrollbarViewport=function(t){if(this.xAxis&&null!=t.xMin&&null!=t.xMax){var e=this.xAxis.actualToLinear(t.xMin),i=this.xAxis.actualToLinear(t.xMax);this.overview&&this.overview.setViewportRange(e,i),this.xScrollbar&&this.xScrollbar.setViewportRange(e,i)}if(this.yAxis&&null!=t.yMin&&null!=t.yMax){var r=this.yAxis.actualToLinear(t.yMin),a=this.yAxis.actualToLinear(t.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(r,a)}},t.Chart.prototype.__setAxisSpace=function(t){var e,i;this._axisSpace=t,Q.isAxisRendered(this,"x")?(e=.8*t.w,i=t.h-4*Q.getTickLabelHeight(this,"x")):Q.isAxisRendered(this,"y")?(e=t.w,i=t.h-Q.getTickLabelHeight(this,"y")):(e=t.w,i=t.h),this._radius=Math.min(e,i)/2},t.Chart.prototype.__getAxisSpace=function(){return this._axisSpace},t.Chart.prototype.__setPlotAreaSpace=function(t){this._plotAreaSpace=t},t.Chart.prototype.__getPlotAreaSpace=function(){return this._plotAreaSpace},t.Chart.prototype.__setAreaContainer=function(t){this._areaContainer=t},t.Chart.prototype.__getAreaContainer=function(){return this._areaContainer},t.Chart.prototype.getRadius=function(){return this._radius},t.Chart.prototype.showDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!0)},t.Chart.prototype.hideDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!1)},t.Chart.prototype.addDataLabel=function(t){this.getDataLabels().push(t)},t.Chart.prototype.getDataLabels=function(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels},t.Chart.prototype.__cacheChartFocus=function(){var t=this.EventManager.getFocus();if(t)var e=t.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var r=i.isShowingKeyboardFocusEffect()}if(this.legend){var a=this.legend.getKeyboardFocus();if(a)var n=a.isShowingKeyboardFocusEffect()}return{chartFocus:t,chartShowingFocusEffect:e,axisFocus:i,axisShowingFocusEffect:r,legendFocus:a,legendShowingFocusEffect:n}},t.Chart.prototype.__restoreChartFocus=function(t){if(!nt.isOverview(this)&&!nt.isSpark(this)){var e=[this];if(this.xAxis&&this.xAxis.isNavigable()&&e.push(this.xAxis),this.legend&&this.legend.isNavigable()&&e.push(this.legend),this.getCtx().setKeyboardFocusArray(e),t.chartFocus){for(var i=$.getKeyboardNavigables(this),r=!1,a=0;a<i.length;a++){var n=i[a].id;if(n instanceof o&&n.equals(t.chartFocus.getId())){this.EventManager.setFocusObj(i[a]),t.chartShowingFocusEffect&&i[a].showKeyboardFocusEffect(),r=!0;break}}r||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}t.axisFocus&&(this.xAxis.setKeyboardFocus(t.axisFocus,t.axisShowingFocusEffect),t.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis)),t.legendFocus&&(this.legend.setKeyboardFocus(t.legendFocus,t.legendShowingFocusEffect),t.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend))}},t.Chart.prototype.getRawOptions=function(){return this._rawOptions};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var i=function(t){this._chart=t,this._options=this._chart.getOptions(),this._legend=this._chart.legend,this._xAxis=this._chart.xAxis,this._yAxis=this._chart.yAxis,this._y2Axis=this._chart.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null};t.Obj.createSubclass(i,t.Automation),i.PLOT_AREA_SUBID="plotArea",i.PIE_CENTER_LABEL_SUBID="pieCenterLabel",i.prototype.GetSubIdForDomElement=function(e){var r=null;if(e.isDescendantOf(this._xAxis))return(r=this._xAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(r,"xAxis"):null;if(e.isDescendantOf(this._yAxis))return(r=this._yAxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(r,"yAxis"):null;if(e.isDescendantOf(this._y2Axis))return(r=this._y2AxisAutomation.GetSubIdForDomElement(e))?this._convertAxisSubIdToChartSubId(r,"y2Axis"):null;if(e.isDescendantOf(this._legend)){var a=this._legendAutomation.GetSubIdForDomElement(e);return a?this._convertLegendSubIdToChartSubId(a):null}var o=this._chart.getEventManager().GetLogicalObject(e);if(!o)return null;if(o instanceof t.SimpleObjPeer){var l=o.getParams().type;if("pieCenterLabel"==l)return i.PIE_CENTER_LABEL_SUBID;if("plotArea"==l)return i.PLOT_AREA_SUBID}if(o instanceof N)return"dataItem["+o.getSeriesIndex()+"]";if(o instanceof n){var h=o.getSeriesIndex(),u=o.getGroupIndex();if(null!=h&&u>=0&&("funnel"!=this._options.type||"pyramid"!=this._options.type))return"dataItem["+h+"]["+u+"]";if(null!=h&&u==_t._GROUP_INDEX&&("funnel"==this._options.type||"pyramid"==this._options.type))return"dataItem["+h+"]";if(null!=h&&(null==u||u<0))return"series["+h+"]"}else if(o instanceof s){var g=o.getAxisType(),d=o.getIndex();return g&&d>=0?g+":referenceObject["+d+"]":null}return null},i.prototype._convertLegendSubIdToChartSubId=function(t){var e=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(e,t);if(i){for(var r=0;r<this._options.series.length;r++){if(this._options.series[r].name==i.text)return"series["+r+"]"}return"legend:"+t}return null},i.prototype._convertAxisSubIdToChartSubId=function(t,e){if("title"==t&&e)return e+":"+t;var i=t.substring(t.indexOf("["));return i?"group"+i:null},i.prototype.getDomElementForSubId=function(e){if(e==t.Automation.TOOLTIP_SUBID)return this.GetTooltipElement(this._chart,at.isDataCursorEnabled(this._chart)?R.TOOLTIP_ID:null);if(e==i.PIE_CENTER_LABEL_SUBID)return this._chart.pieChart.getCenterLabel().getElem();if(e==i.PLOT_AREA_SUBID)return this._chart.getPlotArea().getElem();var r,a,n,s=e.indexOf("["),o=e.indexOf("]"),l=e.indexOf(":");if(s>0&&o>0||l>0){var h=l<0?e.substring(0,s):e.substring(0,l);if("group"==h)return this._xAxisAutomation.getDomElementForSubId(e);if("series"==h)return e=this._convertToLegendSubId(e),this._legendAutomation.getDomElementForSubId(e);if("legend"==e.substring(0,l))return e=e.substring(l+1),this._legendAutomation.getDomElementForSubId(e);var u,g=e.substring(s+1,o);if("xAxis"==h||"yAxis"==h||"y2Axis"==h){var d=e.substring(l+1);if("title"==d){if("xAxis"==h)return this._xAxisAutomation.getDomElementForSubId(d);if("yAxis"==h)return this._yAxisAutomation.getDomElementForSubId(d);if("y2Axis"==h)return this._y2AxisAutomation.getDomElementForSubId(d)}else if(r=d.indexOf("["),a=d.indexOf("]"),"referenceObject"==d.substring(0,r)){var c=d.substring(r+1,a);if(n=this._getRefObjPeer(c))return n.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var p=this._chart.pieChart.getSliceDisplayable(g);if(p)return p.getElem()}if("funnel"==this._options.type?u=_t._GROUP_INDEX:"pyramid"==this._options.type?u=ft._GROUP_INDEX:(r=(e=e.substring(o+1)).indexOf("["),a=e.indexOf("]"),r>=0&&a>=0&&(u=e.substring(r+1,a))),n=this._getChartObjPeer(g,u))return n.getDisplayables()[0].getElem()}return null},i.prototype._getChartObjPeer=function(t,e){for(var i=this._chart.getChartObjPeers(),r=0;r<i.length;r++){var a=i[r].getSeriesIndex(),n=i[r].getGroupIndex();if(a==t&&n==e)return i[r]}return null},i.prototype._getRefObjPeer=function(t){for(var e=this._chart.getRefObjPeers(),i=0;i<e.length;i++)if(t==e[i].getIndex())return e[i];return null},i.prototype._convertToLegendSubId=function(t){var e=t.indexOf("["),i=t.indexOf("]"),r=t.substring(e+1,i),a=this._legend.getOptions(),n=this._options.series[r];return"section"+this._legendAutomation.getIndicesFromSeries(n,a)},i.prototype.getDataItem=function(t,e){"pie"!=this._options.type&&"funnel"!=this._options.type&&"pyramid"!=this._options.type||(e=0);var i=J.getDataItem(this._chart,t,e);return i?{borderColor:it.getBorderColor(this._chart,t,e),color:it.getColor(this._chart,t,e),label:J.getDataLabel(this._chart,t,e),targetValue:J.getTargetValue(this._chart,t,e),tooltip:at.getDatatip(this._chart,t,e,null,!1),value:J.getValue(this._chart,t,e),open:i.open,close:i.close,high:J.getHighValue(this._chart,t,e),low:J.getLowValue(this._chart,t,e),volume:i.volume,x:J.getXValue(this._chart,t,e),y:i.y,z:i.z,min:i.min,max:i.max,group:J.getGroup(this._chart,e),series:J.getSeries(this._chart,t),selected:J.isDataSelected(this._chart,t,e)}:null},i.prototype.getGroup=function(t){return J.getGroup(this._chart,t)},i.prototype.getSeries=function(t){return this._options.series[t].name},i.prototype.getGroupCount=function(){return J.getGroupCount(this._chart)},i.prototype.getSeriesCount=function(){return this._options.series.length},i.prototype.getTitle=function(){return this._options.title.text},i.prototype.getLegend=function(){var e=this._legend.__getBounds(),i=this._legend.localToStage(new t.Point(e.x,e.y));return{bounds:{x:i.x,y:i.y,width:e.w,height:e.h},title:this._legend.getOptions().title}},i.prototype.getPlotArea=function(){var t=this._chart.__getPlotAreaSpace();return{bounds:{x:t.x,y:t.y,width:t.w,height:t.h}}},i.prototype.getXAxis=function(){return this._getAxis("x")},i.prototype.getYAxis=function(){return this._getAxis("y")},i.prototype.getY2Axis=function(){return this._getAxis("y2")},i.prototype._getAxis=function(e){var i="x"==e?this._xAxis:"y"==e?this._yAxis:this._y2Axis;if(i){var r=i.__getBounds(),a=i.localToStage(new t.Point(r.x,r.y)),n={x:a.x,y:a.y,width:r.w,height:r.h},s=this._chart;return{bounds:n,title:this._options[e+"Axis"].title,getPreferredSize:function(t,r){var a,n=i.getOptions(),o=n.position,l=Q.getTickLabelGapSize(s,e),h=nt.isStandaloneXAxis(s)||nt.isStandaloneYAxis(s)||nt.isStandaloneY2Axis(s)?2:0;return"top"==o||"bottom"==o?(a=i.getPreferredSize(n,t,r-l-h)).h=Math.ceil(a.h+l+h):(a=i.getPreferredSize(n,t-l-h,r)).w=Math.ceil(a.w+l+h),{width:a.w,height:a.h}}}}return null},t.Automation.prototype.IsTooltipElement=function(e){var i=e.getAttribute("id");return!(!i||0!=i.indexOf(R.TOOLTIP_ID)&&0!=i.indexOf(t.HtmlTooltipManager._TOOLTIP_DIV_ID))};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var r=function e(i){e.superclass.Init.call(this,i.getCtx(),i.processEvent,i,i),this._chart=i,this._dragMode=null,this._dragButtonsVisible=t.Agent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null};t.Obj.createSubclass(r,t.EventManager),r.DRAG_MODE_PAN="pan",r.DRAG_MODE_ZOOM="zoom",r.DRAG_MODE_SELECT="select",r.DRAG_MODE_OFF="off",r.prototype.addListeners=function(e){t.SvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),r.superclass.addListeners.call(this,e),t.Agent.isTouchDevice()||e.addEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},r.prototype.RemoveListeners=function(e){r.superclass.RemoveListeners.call(this,e),t.Agent.isTouchDevice()||e.removeEvtListener(t.MouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},r.prototype.getLogicalObject=function(t){return this.GetLogicalObject(t,!0)},r.prototype._getDragHandler=function(t){return t&&"user"==this._chart.getOptions().dragMode&&nt.isBLAC(this._chart)&&(this._dragMode==r.DRAG_MODE_PAN||this._dragMode==r.DRAG_MODE_ZOOM)&&(this._panZoomHandler&&this._panZoomHandler.isWithinBounds(t)?this._dragMode=r.DRAG_MODE_PAN:this._dragMode=r.DRAG_MODE_ZOOM),this._dragMode==r.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==r.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==r.DRAG_MODE_SELECT?this._marqueeSelectHandler:null},r.prototype._onDragStart=function(e){return t.Agent.isTouchDevice()?this._onTouchDragStart(e):this._onMouseDragStart(e)},r.prototype._onDragMove=function(e){return t.Agent.isTouchDevice()?this._onTouchDragMove(e):this._onMouseDragMove(e)},r.prototype._onDragEnd=function(e){return t.Agent.isTouchDevice()?this._onTouchDragEnd(e):this._onMouseDragEnd(e)},r.prototype._onMouseDragStart=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler(i),a=this.GetLogicalObject(t.target);return!(a&&a.isSelectable&&a.isSelectable())&&0==t.button&&r&&((e=r.processDragStart(i,t.ctrlKey))&&this._callback.call(this._callbackObj,e),this._chart.setCursor(r.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),!!e&&(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0)},r.prototype._onMouseDragMove=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();r&&(e=r.processDragMove(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.setDragButtonsVisible(!1)),e&&t.stopPropagation()},r.prototype._onMouseDragEnd=function(t){var e,i=this._context.pageToStageCoords(t.pageX,t.pageY),r=this._getDragHandler();if(r){(e=r.processDragEnd(i,t.ctrlKey))&&(this._callback.call(this._callbackObj,e),this.autoToggleZoomButton()),this._chart.setCursor(r.getCursor(i));var a=this._chart.__getAxisSpace();a&&this.setDragButtonsVisible(a.containsPoint(i.x,i.y))}},r.prototype.OnMouseMove=function(e){r.superclass.OnMouseMove.call(this,e);var i=this._context.pageToStageCoords(e.pageX,e.pageY);this._dataCursorHandler&&(this.GetLogicalObjectAndDisplayable(e.target).displayable instanceof t.Button?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(i));var a=this._getDragHandler(i);a?this._chart.setCursor(a.getCursor(i)):this._chart.setCursor("default")},r.prototype.OnMouseOut=function(t){r.superclass.OnMouseOut.call(this,t);var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._chart.__getAxisSpace();i&&this.setDragButtonsVisible(i.containsPoint(e.x,e.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(e);this.GetLogicalObject(t.target)},r.prototype.OnMouseWheel=function(t){if($.isZoomable(this._chart)){var e=null!=t.wheelDelta?t.wheelDelta:0,i=this._context.pageToStageCoords(t.pageX,t.pageY);if(this._panZoomHandler){var r=this._panZoomHandler.processMouseWheel(i,e);r&&(t.preventDefault(),t.stopPropagation(),this._callback.call(this._callbackObj,r),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}},r.prototype.ShowFocusEffect=function(e,i){if(this._dataCursorHandler){var a=i.getDataPosition();if(a){var n=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new t.Point(a.x+n.x,a.y+n.y))}}r.superclass.ShowFocusEffect.call(this,e,i)},r.prototype.OnBlur=function(t){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),r.superclass.OnBlur.call(this,t)},r.prototype.OnClickInternal=function(t){var e=this.GetLogicalObject(t.target),i=this._context.pageToStageCoords(t.pageX,t.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,e),e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},r.prototype.OnDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&this.processDrillEvent(e)},r.prototype.HandleTouchHoverStartInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},r.prototype.HandleTouchHoverMoveInternal=function(t){if(this._dataCursorHandler&&!this.isTouchResponseTouchStart()){var e=this._context.pageToStageCoords(t.touch.pageX,t.touch.pageY);return this._dataCursorHandler.processMove(e),!1}var i=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(i)),!1},r.prototype.HandleTouchHoverEndInternal=function(t){this.endDrag();var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},r.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&(e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},r.prototype.HandleTouchDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&(t.preventDefault(),t.stopPropagation(),this.processDrillEvent(e))},r.prototype.processDrillEvent=function(e){if(e&&e.isDrillable&&e.isDrillable()){var i=e.getId();e instanceof n?this.FireEvent(t.EventFactory.newChartDrillEvent(null!=i.id?i.id:i,e.getSeries(),e.getGroup())):e instanceof N&&this.FireEvent(t.EventFactory.newChartDrillEvent(i.id,i.series,i.group))}},r.prototype.ProcessRolloverEvent=function(e,i,r){var a=this._chart.getOptions();if("dim"==$.getHoverBehavior(this._chart)){var n=i.getCategories?i.getCategories():[];a.highlightedCategories=r?n.slice():null;var s=t.EventFactory.newCategoryHighlightEvent(a.highlightedCategories,r),o=it.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(s,l,o,"any"==a.highlightMatch)}},r.prototype._onTouchDragStart=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),n=this._getDragHandler();n?e=n.processDragStart(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&$.isZoomable(this._chart)){this.endDrag();var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchStart(s,o)}return e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip()),!(!e&&!i)&&(t.preventDefault(),t.stopPropagation(),this.setDragButtonsVisible(!1),!0)},r.prototype._onTouchDragMove=function(t){var e,i,r=t.touches;if(1==r.length){var a=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),n=this._getDragHandler();n?e=n.processDragMove(a,!0):this._dataCursorHandler&&this.isTouchResponseTouchStart()&&(this._dataCursorHandler.processMove(a),i=!0)}else if(2==r.length&&this._panZoomHandler&&$.isZoomable(this._chart)){var s=this._context.pageToStageCoords(r[0].pageX,r[0].pageY),o=this._context.pageToStageCoords(r[1].pageX,r[1].pageY);e=this._panZoomHandler.processPinchMove(s,o)}(e||i)&&t.preventDefault(),e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip())},r.prototype._onTouchDragEnd=function(t){var e,i=this.endDrag();if(this._panZoomHandler&&$.isZoomable(this._chart)&&(e=this._panZoomHandler.processPinchEnd())&&this._callback.call(this._callbackObj,e),i||e){t.preventDefault(),this.getCtx().getTooltipManager().hideTooltip();var r=this.getTouchManager(),a=1==t.changedTouches.length?t.changedTouches[0].identifier:null,n=null!=a?r.getTouchInfo(a):null;n&&!n.touchMoved||r.reset()}this.setDragButtonsVisible(!0)},r.prototype.endDrag=function(){var t,e=this._getDragHandler();return e&&(t=e.processDragEnd(null,!0)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),t&&this._callback.call(this._callbackObj,t),t},r.prototype.zoomBy=function(t){if(this._panZoomHandler&&$.isZoomable(this._chart)){var e=this._panZoomHandler.zoomBy(t);e&&this._callback.call(this._callbackObj,e)}},r.prototype.panBy=function(t,e){if(this._panZoomHandler&&$.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(t,e);i&&this._callback.call(this._callbackObj,i)}},r.prototype.hideHoverFeedback=function(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()},r.prototype.hideTooltip=function(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||r.superclass.hideTooltip.call(this)},r.prototype.getTooltipsEnabled=function(t){return(!this._dataCursorHandler||!(t instanceof n||t instanceof s||this._dataCursorHandler.isDataCursorShown()))&&r.superclass.getTooltipsEnabled.call(this)},r.prototype.getDataCursorHandler=function(){return this._dataCursorHandler},r.prototype.setDataCursorHandler=function(t){this._dataCursorHandler=t},r.prototype.setPanZoomHandler=function(t){this._panZoomHandler=t},r.prototype.setMarqueeZoomHandler=function(t){this._marqueeZoomHandler=t},r.prototype.setMarqueeSelectHandler=function(t){this._marqueeSelectHandler=t},r.prototype.getMarqueeGlassPane=function(){return this._dragMode==r.DRAG_MODE_ZOOM?this._marqueeZoomHandler.getGlassPane():this._dragMode==r.DRAG_MODE_SELECT?this._marqueeSelectHandler.getGlassPane():null},r.prototype.cancelMarquee=function(t){this._dragMode==r.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&t.preventDefault():this._dragMode==r.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()},r.prototype.getDragMode=function(){return this._dragMode},r.prototype.setDragMode=function(t){this._dragMode=null==t?this._getDefaultDragMode():t,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()},r.prototype._getDefaultDragMode=function(){return t.Agent.isTouchDevice()?r.DRAG_MODE_OFF:$.isScrollable(this._chart)?r.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?r.DRAG_MODE_SELECT:null},r.prototype.onZoomButtonClick=function(t){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(r.DRAG_MODE_ZOOM)):this.setDragMode(null)},r.prototype.onPanButtonClick=function(t){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(r.DRAG_MODE_PAN)):this.setDragMode(null)},r.prototype.onSelectButtonClick=function(t){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(r.DRAG_MODE_SELECT)):this.setDragMode(null)},r.prototype.setDragButtonsVisible=function(t){t&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!t&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)},r.prototype.areDragButtonsVisible=function(){return this._dragButtonsVisible},r.prototype.autoToggleZoomButton=function(){!t.Agent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==r.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==r.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))},r.prototype.GetTouchResponse=function(){return this._dragMode&&this._dragMode!=r.DRAG_MODE_OFF?t.EventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse},r.prototype.isDndSupported=function(){return!0},r.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof n&&e.getSeriesIndex()>=0&&e.getGroupIndex()>=0||e instanceof N?"items":null},r.prototype.GetDragDataContexts=function(e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++){var s=J.getDataContext(this._chart,i[a].getSeriesIndex(),i[a].getGroupIndex(),i[a].getNestedDataItemIndex());e&&t.ToolkitUtils.cleanDragDataContext(s),r.push(s)}return r}var o=this.DragSource.getDragObject(),l=null;return o instanceof n&&(l=J.getDataContext(this._chart,o.getSeriesIndex(),o.getGroupIndex(),o.getNestedDataItemIndex())),o instanceof N&&(l=J.getDataContext(this._chart,o.getSeriesIndex(),0)),l&&e&&t.ToolkitUtils.cleanDragDataContext(l),l?[l]:null},r.prototype.GetDropOffset=function(e){var i=this.DragSource.getDragObject();if(i instanceof n){var r=i.getDataPosition();if(r){r=this._chart.getPlotArea().localToStage(r);var a=this._context.pageToStageCoords(e.pageX,e.pageY);return new t.Point(r.x-a.x,r.y-a.y)}}return null},r.prototype.GetDropTargetType=function(t){var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._chart.getOptions().dnd.drop,r=this._chart.__getPlotAreaSpace();return Object.keys(i.plotArea).length>0&&r.containsPoint(e.x,e.y)?"plotArea":Object.keys(i.xAxis).length>0&&Q.isAxisRendered(this._chart,"x")&&Q.axisContainsPoint(this._chart.xAxis,e)?"xAxis":Object.keys(i.yAxis).length>0&&Q.isAxisRendered(this._chart,"y")&&Q.axisContainsPoint(this._chart.yAxis,e)?"yAxis":Object.keys(i.y2Axis).length>0&&Q.isAxisRendered(this._chart,"y2")&&Q.axisContainsPoint(this._chart.y2Axis,e)?"y2Axis":null},r.prototype.GetDropEventPayload=function(e){var i=e.getNativeEvent().dataTransfer,r=Number(i.getData(t.EventManager.DROP_OFFSET_X_DATA_TYPE))||0,a=Number(i.getData(t.EventManager.DROP_OFFSET_Y_DATA_TYPE))||0,n=this._context.pageToStageCoords(e.pageX,e.pageY);return this._chart.getValuesAt(n.x+r,n.y+a)},r.prototype.ShowDropEffect=function(t){var e=this._getDropObject(t);e&&(e.setClassName("oj-active-drop"),e.setSolidFill(this._chart.getOptions()._dropColor))},r.prototype.ClearDropEffect=function(){var e=this._chart.getCache().getFromCache("plotAreaBackground");if(e){var i=it.getBackgroundColor(this._chart);i?e.setSolidFill(i):e.setInvisibleFill(),t.ToolkitUtils.removeClassName(e.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(e.getElem(),"oj-active-drop")}var r=function(e){if(e){var i=e.getCache().getFromCache("background");i&&(i.setInvisibleFill(),t.ToolkitUtils.removeClassName(i.getElem(),"oj-invalid-drop"),t.ToolkitUtils.removeClassName(i.getElem(),"oj-active-drop"))}};r(this._chart.xAxis),r(this._chart.yAxis),r(this._chart.y2Axis)},r.prototype.ShowRejectedDropEffect=function(t){var e=this._getDropObject(t);e&&e.setClassName("oj-invalid-drop")},r.prototype._getDropObject=function(t){var e,i=this.GetDropTargetType(t);return"plotArea"==i?e=this._chart.getCache().getFromCache("plotAreaBackground"):"xAxis"==i?e=this._chart.xAxis.getCache().getFromCache("background"):"yAxis"==i?e=this._chart.yAxis.getCache().getFromCache("background"):"y2Axis"==i&&(e=this._chart.y2Axis.getCache().getFromCache("background")),e},r.prototype.isClearMenuAllowed=function(t){return t&&t.getParams&&"plotArea"==t.getParams().type};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var a=function(t,e){this.Init(t,e)};t.Obj.createSubclass(a,t.KeyboardHandler),a.prototype.Init=function(t,e){a.superclass.Init.call(this,t),this._chart=e},a.prototype.isSelectionEvent=function(t){return this.isNavigationEvent(t)&&!t.ctrlKey},a.prototype.isMultiSelectEvent=function(e){return e.keyCode==t.KeyboardEvent.SPACE&&e.ctrlKey},a.prototype.processKeyDown=function(e){var i=e.keyCode;if(i==t.KeyboardEvent.TAB){if(n=this._eventManager.getFocus())return t.EventManager.consumeEvent(e),n;var r=$.getKeyboardNavigables(this._chart);if(r.length>0)return t.EventManager.consumeEvent(e),this.getDefaultNavigable(r)}else if(i==t.KeyboardEvent.ENTER){var n;if(n=this._eventManager.getFocus())return this._eventManager.processDrillEvent(n),t.EventManager.consumeEvent(e),n}else i==t.KeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(e):i==t.KeyboardEvent.PAGE_UP?((e.ctrlKey||e.shiftKey||nt.isBLAC(this._chart))&&nt.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),t.EventManager.consumeEvent(e)):i==t.KeyboardEvent.PAGE_DOWN?((e.ctrlKey||e.shiftKey||nt.isBLAC(this._chart))&&nt.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),t.EventManager.consumeEvent(e)):t.KeyboardEvent.isEquals(e)||t.KeyboardEvent.isPlus(e)?this._eventManager.zoomBy(1.5):(t.KeyboardEvent.isMinus(e)||t.KeyboardEvent.isUnderscore(e))&&this._eventManager.zoomBy(1/1.5);return a.superclass.processKeyDown.call(this,e)},a.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,r,a,n=nt.isPie(this._chart),s=0;s<t.length;s++)a=t[s],!e||a.getSeriesIndex()<i?(e=a,i=a.getSeriesIndex(),n||(r=a.getGroupIndex())):!n&&a.getGroupIndex()<r&&(e=a,i=a.getSeriesIndex(),r=a.getGroupIndex());return e};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var n=function(t,e,i,r,a,n){this.Init(t,e,i,r,a,n)};t.Obj.createSubclass(n,t.Obj),n.prototype.Init=function(e,i,r,a,n,s){if(this._chart=e,this._displayables=i,this._seriesIndex=null!=r&&r>=0?r:-1,this._groupIndex=null!=a&&a>=0?a:-1,this._itemIndex=null!=n&&n>=0?n:-1,this._dataPos=s,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,this._series=J.getSeries(e,r),this._group=J.getGroup(e,a),this._categories=J.getCategories(e,r,a,n),-1!=this._itemIndex)this._dataItemId=J.getNestedDataItemId(e,r,a,n),this._drillable=$.isDataItemDrillable(e,r,a,n);else if(-1!=this._groupIndex){J.getDataItem(e,r,a)&&(this._dataItemId=J.getDataItemId(e,r,a),this._drillable=$.isDataItemDrillable(e,r,a))}else{J.getSeriesItem(e,r)&&(this._drillable=$.isSeriesDrillable(e,r))}if(this._drillable)for(var o=0;o<this._displayables.length;o++)this._displayables[o].setCursor(t.SelectionEffectUtils.getSelectingCursor());for(var l=0;l<i.length;l++){var h=i[l];h instanceof D||h.setAriaRole("img"),this._updateAriaLabel(h)}},n.associate=function(t,e,i,r,a,s){if(t&&!e.getOptions()._duringZoomAndScroll){var o=new n(e,[t],i,r,a,s);e.registerObject(o),e.getEventManager().associate(t,o)}},n.prototype.getId=function(){return this._seriesIndex>=0&&this._groupIndex>=0?new o(this._dataItemId,this.getSeries(),this.getGroup(),this._chart.getCtx()):this._seriesIndex>=0?this.getSeries():null},n.prototype.getDataItemId=function(){return this._dataItemId},n.prototype.getNestedDataItemIndex=function(){return this._itemIndex},n.prototype.getSeries=function(){return this._series},n.prototype.getSeriesIndex=function(){return this._seriesIndex},n.prototype.getGroup=function(){return this._group},n.prototype.getGroupIndex=function(){return this._groupIndex},n.prototype.isDrillable=function(){return this._drillable},n.prototype.isDoubleClickable=function(){return this.isSelectable()&&this.isDrillable()},n.prototype.getChart=function(){return this._chart},n.prototype.getDatatip=function(t){return at.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!0)},n.prototype.getDatatipColor=function(){return at.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex)},n.prototype.isSelectable=function(){return it.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())},n.prototype.isSelected=function(){return this._isSelected},n.prototype.setSelected=function(t){this._isSelected=t;for(var e=0;e<this._displayables.length;e++)this._displayables[e].setSelected&&(this._displayables[e].setSelected(t),this._updateAriaLabel(this._displayables[e]))},n.prototype.showHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].showHoverEffect&&this._displayables[t].showHoverEffect()},n.prototype.hideHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].hideHoverEffect&&this._displayables[t].hideHoverEffect()},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getAriaLabel=function(){var e=[],i=this.getChart().getOptions().translations;this.isSelectable()&&e.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),this.isDrillable()&&e.push(i.stateDrillable);var r=at.getDatatip(this._chart,this._seriesIndex,this._groupIndex,this._itemIndex,!1);return null==r&&this._groupIndex<0&&e.length>0&&(r=J.getSeriesLabel(this._chart,this._seriesIndex)),t.Displayable.generateAriaLabel(r,e)},n.prototype._updateAriaLabel=function(e){t.Agent.deferAriaCreation()||e.setAriaProperty("label",this.getAriaLabel())},n.prototype.getCategories=function(t){return this._categories},n.prototype.getDataPosition=function(){return this._dataPos},n.prototype.getNextNavigable=function(e){var i,r;if(i=e.keyCode,e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;for(var a=this._chart,n=a.getChartObjPeers(),s=[],o=0;o<n.length;o++)n[o].isNavigable()&&s.push(n[o]);var l=e.keyCode==t.KeyboardEvent.UP_ARROW||e.keyCode==t.KeyboardEvent.DOWN_ARROW,h=nt.isHorizontal(a),u=t.Agent.isRightToLeft(a.getCtx());return nt.isScatterBubble(a)||nt.isBoxPlot(a)&&(l&&!h||!l&&h)?r=t.KeyboardHandler.getNextAdjacentNavigable(this,e,s):nt.isLineArea(a)||nt.isStacked(a)||nt.isPolar(a)?r=this._findNextNavigable(e):nt.isFunnel(a)&&l?(e.keyCode=u?e.keyCode==t.KeyboardEvent.UP_ARROW?t.KeyboardEvent.RIGHT_ARROW:t.KeyboardEvent.LEFT_ARROW:e.keyCode-1,r=t.KeyboardHandler.getNextNavigable(this,e,s)):nt.isPyramid(a)&&!l?(e.keyCode=u?e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.DOWN_ARROW:t.KeyboardEvent.UP_ARROW:e.keyCode==t.KeyboardEvent.RIGHT_ARROW?t.KeyboardEvent.UP_ARROW:t.KeyboardEvent.DOWN_ARROW,r=t.KeyboardHandler.getNextNavigable(this,e,s)):r=t.KeyboardHandler.getNextNavigable(this,e,s,!0),r},n.prototype.getKeyboardBoundingBox=function(e){return this._displayables[0]?this._displayables[0].getDimensions(e):new t.Rectangle(0,0,0,0)},n.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},n.prototype.showKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())},n.prototype.hideKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())},n.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},n.prototype.isNavigable=function(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()},n.prototype._findNextNavigable=function(e){var i,r,a=e.keyCode,n=this._chart,s=n.getCtx(),o=this.getSeriesIndex(),l=this.getGroupIndex(),h=J.getGroupCount(n),u=nt.isHorizontal(n),g=nt.isPolar(n),d=t.Agent.isRightToLeft(s),c=u?d?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.UP_ARROW,p=u?d?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.DOWN_ARROW,_=u?a==t.KeyboardEvent.UP_ARROW:d?a==t.KeyboardEvent.RIGHT_ARROW:a==t.KeyboardEvent.LEFT_ARROW,f=u?a==t.KeyboardEvent.DOWN_ARROW:d?a==t.KeyboardEvent.LEFT_ARROW:a==t.KeyboardEvent.RIGHT_ARROW;if(c)r=l,i=this._findNextUpSeries(n,o,l);else if(p)r=l,i=this._findNextDownSeries(n,o,l);else if(f){i=o,r=l;do{r++,g&&r>=h&&(r=0)}while(null==n.getObject(i,r)&&r<h)}else if(_){i=o,r=l;do{r--,g&&r<0&&(r=h-1)}while(null==n.getObject(i,r)&&r>-1)}var v=n.getObject(i,r);return v&&v.isNavigable()?v:this},n.prototype._findNextUpSeries=function(t,e,i){for(var r=J.getSeriesCount(t),a=J.getCumulativeValue(t,e,i),n=null,s=null,o=0;o<r;o++)if(it.isSeriesRendered(t,o)&&null!=J.getValue(t,o,i)){var l=J.getCumulativeValue(t,o,i);(l>a||l==a&&o>e)&&(null!==n&&l<n||null==n)&&(n=l,s=o)}return s},n.prototype._findNextDownSeries=function(t,e,i){for(var r=J.getSeriesCount(t),a=J.getCumulativeValue(t,e,i),n=null,s=null,o=r-1;o>=0;o--)if(it.isSeriesRendered(t,o)&&null!=J.getValue(t,o,i)){var l=J.getCumulativeValue(t,o,i);(l<a||l==a&&o<e)&&(null!==n&&l>n||null==n)&&(n=l,s=o)}return s},n.prototype.isDragAvailable=function(t){return!0},n.prototype.getDragTransferable=function(t,e){return[this.getId()]},n.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this._displayables};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var s=function(t,e,i,r,a){this.Init(t,e,i,r,a)};t.Obj.createSubclass(s,t.Obj),s.prototype.Init=function(t,e,i,r,a){this._chart=t,this._displayables=e,this._refObj=i,this._categories=tt.getRefObjCategories(this._refObj),this._index=r,this._axisType=a;for(var n=0;n<e.length;n++){var s=e[n];s.setAriaRole("img"),s.setAriaProperty("label",i.shortDesc)}},s.prototype.getCategories=function(){return this._categories},s.prototype.getDisplayables=function(){return this._displayables},s.prototype.getIndex=function(){return this._index},s.prototype.getAxisType=function(){return this._axisType},s.prototype.getDatatip=function(t){return at.getRefObjTooltip(this._chart,this._refObj,this._axisType,this._index)},s.prototype.getDatatipColor=function(){return tt.getColor(this._refObj)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var o=function(t,e,i,r){this.id=t,this.series=e,this.group=i,this.context=r};t.Obj.createSubclass(o,t.Obj),o.prototype.equals=function(t){return t instanceof o&&(null!=this.id||null!=t.id?J.isEqualId(this.id,t.id,this.context):J.isEqualId(this.series,t.series,this.context)&&J.isEqualId(this.group,t.group,this.context))},o.prototype.toString=function(){return null!=this.id&&"object"!==e(this.id)?this.id.toString():J.createDataItemId(this.series,this.group)},o.prototype.valueOf=function(){return this.toString()};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var l=function t(e){this.Init({alta:t.SKIN_ALTA},e)};t.Obj.createSubclass(l,t.BaseComponentDefaults),l.SKIN_ALTA={skin:t.CSSStyle.SKIN_ALTA,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_13+"color: #252525;"),halign:"start"},subtitle:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #252525;")},footnote:{style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_13+"color: #252525;"),_dropColor:"#D9F4FA",xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear"},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear"},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"auto"},scale:"linear",alignTickMarks:"on"},zAxis:{},pieCenter:{labelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA)},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"auto",layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},dnd:{drag:{items:{},series:{},groups:{}},drop:{plotArea:{},xAxis:{},yAxis:{},y2Axis:{},legend:{}}},styleDefaults:{colors:t.CSSStyle.COLORS_ALTA,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"color",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"#0099FF",animationDownColor:"#FF3300",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:10,marqueeColor:"rgba(255,255,255,0.4)",marqueeBorderColor:"#0572ce",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",sliceLabelType:"percent",otherColor:"#4b4b4b",stockRisingColor:"#6b6f74",stockFallingColor:"#ED6647",stockRangeColor:"#B8B8B8",dataItemGaps:"auto",dataLabelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineColor:"#5a5a5a",lineWidth:2,lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},padding:"auto",_tooltipStyle:new t.CSSStyle("border-collapse: separate; border-spacing: 2px; overflow: hidden; display: block;"),tooltipLabelStyle:new t.CSSStyle("color: #666666; padding: 0px 2px; white-space: nowrap;"),tooltipValueStyle:new t.CSSStyle("color: #333333; padding: 0px 2px;"),stackLabelStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_BOLD_11),boxPlot:{whiskerSvgStyle:{},whiskerEndSvgStyle:{strokeWidth:2},whiskerEndLength:9,medianSvgStyle:{strokeWidth:3}}},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:16,footnoteGap:10,verticalAxisGap:6,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9},_locale:"en-us",_resources:{}},l.getGapWidth=function(t,e){return Math.ceil(e*t.getGapWidthRatio())},l.getGapHeight=function(t,e){return Math.ceil(e*t.getGapHeightRatio())},l.prototype.getNoCloneObject=function(t){return{series:{items:{_itemData:!0}}}};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var h=function(t,e){this.Init(t,e)};t.Obj.createSubclass(h,t.Obj),h.prototype.Init=function(t,e){this._context=t.getCtx(),this._dataCursorShown=!1,this._dataCursor=e,this._chart=t},h.prototype.processMove=function(t,e){var i=this._chart.__getPlotAreaSpace();return i&&i.containsPoint(t.x,t.y)&&!this._chart.getOptions()._duringZoomAndScroll?(this._showDataCursor(i,t.x,t.y,e),!0):(this._removeDataCursor(e),!1)},h.prototype.processEnd=function(t){this._removeDataCursor(t)},h.prototype.processOut=function(t,e){var i=this._chart.__getPlotAreaSpace();i&&!i.containsPoint(t.x,t.y)&&this._removeDataCursor(e)},h.prototype._showDataCursor=function(t,e,i,r){if(this._context.isOffscreen(!0))this._removeDataCursor(r);else{var a=this._dataCursor,n=this._getClosestMatch(e,i);if(null!=n){var s=n.matchRegion.getCenter(),o=e,l=i;a.getBehavior()==R.BEHAVIOR_SNAP&&(a.isHorizontal()?l=Math.min(Math.max(s.y,t.y),t.y+t.h):o=Math.min(Math.max(s.x,t.x),t.x+t.w));var h=n.logicalObject,u=at.getDatatip(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex(),!0);if(null!=u){a.setVisible(!0);var g=at.getDatatipColor(this._chart,h.getSeriesIndex(),h.getGroupIndex(),h.getNestedDataItemIndex()),d=a.isHorizontal()?l:o;if(a.render(t,s.x,s.y,d,u,g),this._dataCursorShown=!0,!r){var c=this._chart.getValuesAt(e,i);this._chart.changeOption("dataCursorPosition",c)}}else a.setVisible(!1)}else this._removeDataCursor(r)}},h.prototype._removeDataCursor=function(t){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(R.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,t||this._chart.changeOption("dataCursorPosition",null)},h.prototype.isDataCursorShown=function(){return this._dataCursorShown},h._getClosestMatchSecondDirection=function(t,e,i,r){for(var a=null,n=1/0,s=0;s<t.length;s++){var o=t[s],l=e?i:r,h=((e?o.matchRegion.x:o.matchRegion.y)+(e?o.matchRegion.x+o.matchRegion.w:o.matchRegion.y+o.matchRegion.h))/2,u=Math.round(Math.abs(h-l));u<n&&(n=u,a=o)}return a},h._getClosestMatchesFirstDirection=function(t,e,i,r,a){for(var n=1/0,s=new Array,o=0;o<t.length;o++){var l=t[o];if(a(l.logicalObject)){var h=l.matchRegion,u=e?r:i,g=((e?h.y:h.x)+(e?h.y+h.h:h.x+h.w))/2,d=Math.round(Math.abs(g-u));d<=n&&(d<n&&(s=new Array),s.push(l),n=d)}}return s},h.prototype._findMatches=function(){var t=this._context.getStage(),e=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var r=0;r<this._chart._currentMarkers.length;r++)for(var a=this._chart._currentMarkers[r],n=a.length,s=0;s<n;s++){var o=a[s],l=e.GetLogicalObject(o),h={matchRegion:o.getDimensionsSelf?o.getDimensionsSelf(t):o.getDimensions(t),logicalObject:l};i.push(h)}return i},h.prototype._getClosestMatch=function(e,i){var r=nt.isHorizontal(this._chart),a=nt.isLineArea(this._chart)&&!Q.isMixedFrequency(this._chart),n=this._findMatches(),s=it.getHighlightedCategories(this._chart),o="all"==this._chart.getOptions().highlightMatch,l=s.length>0?o?t.ArrayUtils.hasAllItems:t.ArrayUtils.hasAnyItem:null,u=function(t){return!l||l(t.getCategories(),s)},g=h._getClosestMatchesFirstDirection(n,r,e,i,u);if(!nt.isScatterBubble(this._chart)){for(var d=1/0,c=-1/0,p=null,_=0;_<g.length;_++){var f=g[_];d=Math.min(d,r?f.matchRegion.y:f.matchRegion.x),c=Math.max(c,r?f.matchRegion.y+f.matchRegion.h:f.matchRegion.x+f.matchRegion.w),p=f.logicalObject.getGroupIndex()}for(_=0;_<n.length;_++){var v=n[_];if(u(v.logicalObject))if(a)v.logicalObject.getGroupIndex()==p&&g.push(v);else{var m=((r?v.matchRegion.y:v.matchRegion.x)+(r?v.matchRegion.y+v.matchRegion.h:v.matchRegion.x+v.matchRegion.w))/2;c>=m&&d<=m&&g.push(v)}}}return h._getClosestMatchSecondDirection(g,r,e,i)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var u=function(){};t.Obj.createSubclass(u,t.BaseComponent),u.newInstance=function(t,e,i){var r=new u;return r.Init(t,e,i),r},u.getDefaults=function(t){return(new c).getDefaults(t)},u.prototype.Init=function(e,i,r){u.superclass.Init.call(this,e,i,r),this.Defaults=new c(e),this.EventManager=new p(this),this.EventManager.addListeners(this),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new _(this.EventManager,this)),this._bounds=null},u.prototype.SetOptions=function(t){t?this.Options="off"==t.rendered?t:this.Defaults.calcOptions(t):this.Options||(this.Options=this.GetDefaults())},u.prototype.getPreferredSize=function(t,e,i){return this.SetOptions(t),f.getPreferredSize(this,e,i)},u.prototype.render=function(e,i,r,a,n){this.getCache().clearCache(),this.SetOptions(e),this._navigablePeers=[],this.Width=i,this.Height=r,this.removeChildren(),a||(a=0),n||(n=0);var s=new t.Rectangle(a,n,i,r);f.render(this,s)},u.prototype.__registerObject=function(t){(null!=t.getDatatip()||t.isDrillable())&&this._navigablePeers.push(t)},u.prototype.__getKeyboardObjects=function(){return this._navigablePeers},u.prototype.isNavigable=function(){return this._navigablePeers.length>0},u.prototype.getKeyboardFocus=function(){return null!=this.EventManager?this.EventManager.getFocus():null},u.prototype.setKeyboardFocus=function(e,i){if(null!=this.EventManager){for(var r=this.__getKeyboardObjects(),a=e.getId(),n=!1,s=0;s<r.length;s++){var o=r[s].getId();if(a instanceof Array&&o instanceof Array&&t.ArrayUtils.equals(a,o)||a===o){this.EventManager.setFocusObj(r[s]),n=!0,i&&r[s].showKeyboardFocusEffect();break}}n||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(r));var l=this.getKeyboardFocus();if(l){var h=l.getDisplayable();h.setAriaProperty("label",l.getAriaLabel()),this.getCtx().setActiveElement(h)}}},u.prototype.processEvent=function(t,e){this===e&&this.dispatchEvent(t)},u.prototype.getInfo=function(){return this.Info},u.prototype.__setInfo=function(t){this.Info=t},u.prototype.getWidth=function(){return this.Width},u.prototype.getHeight=function(){return this.Height},u.prototype.__setBounds=function(t){this._bounds=t},u.prototype.__getBounds=function(){return this._bounds},u.prototype.getAutomation=function(){return new d(this)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var g={};t.Obj.createSubclass(g,t.Obj),g.TICK_LABEL="tickLabel",g.TITLE="title";
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var d=function(t){this._axis=t,this._options=this._axis.getOptions(),this._axisInfo=this._axis.getInfo()};t.Obj.createSubclass(d,t.Automation),d.prototype.GetSubIdForDomElement=function(e){var i=this._axis.getEventManager().GetLogicalObject(e);if(i&&i instanceof t.SimpleObjPeer){if(i.getParams().type==g.TITLE)return"title";if(this._options.groups){for(var r=i.getParams().level,a=this._axisInfo.getStartIndex(i.getParams().index,r),n="",s=0;s<=r;s++)for(var o=this._axisInfo.getLabels(this._axis.getCtx(),s),l=0;l<o.length;l++){var h=this._axisInfo.getLabelIndex(o[l]);this._axisInfo.getStartIndex(h,s)<=a&&this._axisInfo.getEndIndex(h,s)>=a&&(n+="["+this._axisInfo.getPosition(h,s)+"]")}if(n.length>0)return"item"+n}}return null},d.prototype.getDomElementForSubId=function(t){if("title"==t){var e=this._axisInfo.getTitle();if(e)return e.getElem()}else if(this._axisInfo instanceof S)for(var i=t.split("[").length-1-1,r=0,a=0,n=0;n<=i;n++){var s=t.indexOf("["),o=t.indexOf("]"),l=t.substring(s+1,o);t=t.substring(o+1);for(var h,u=this._axisInfo.getLabels(this._axis.getCtx(),n),g=0;g<u.length;g++)if(h=this._axisInfo.getLabelIndex(u[g]),this._axisInfo.getStartIndex(h,n)==a){r=h;break}for(var d=r;d<u.length;d++)if(h=this._axisInfo.getLabelIndex(u[d]),this._axisInfo.getPosition(h,n)==l){if(0==t.length)return u[d].getElem();a=this._axisInfo.getStartIndex(h,n);break}}return null};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var c=function t(e){this.Init({alta:t.SKIN_ALTA},e)};t.Obj.createSubclass(c,t.BaseComponentDefaults),c.SKIN_ALTA={position:null,baselineScaling:"zero",axisLine:{lineColor:"#9E9E9E",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(196,206,215,0.2)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_11+"color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new t.CSSStyle(t.BaseComponentDefaults.FONT_FAMILY_ALTA_12+"color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:6,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"},c.getGapSize=function(e,i,r){var a=Math.min(t.TextUtils.getTextStringHeight(e,i.tickLabel.style)/14,1);return Math.ceil(r*a)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var p=function(t){this.Init(t.getCtx(),t.processEvent,t,t),this._axis=t};t.Obj.createSubclass(p,t.EventManager),p.getUIParams=function(t,e,i,r){return{type:t,id:e,index:i,level:r}},p.prototype.OnClick=function(t){p.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);e&&(this.processDrillEvent(e)&&t.stopPropagation())},p.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent;this.processDrillEvent(e)&&i&&i.preventDefault()}},p.prototype.processDrillEvent=function(e){return!!(e instanceof C&&e.isDrillable())&&(this.FireEvent(t.EventFactory.newChartDrillEvent(e.getId(),null,e.getGroup()),this._axis),!0)},p.prototype.isDndSupported=function(){return!0},p.prototype.GetDragSourceType=function(t){var e=this.DragSource.getDragObject();return e instanceof C&&null!=e.getGroup()?"groups":null},p.prototype.GetDragDataContexts=function(e){var i=this.DragSource.getDragObject();if(i instanceof C){var r={id:i.getId(),group:i.getGroup(),label:i.getLabel().getTextString()};return e&&t.ToolkitUtils.cleanDragDataContext(r),[r]}return[]};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var _=function(t,e){this.Init(t,e)};t.Obj.createSubclass(_,t.KeyboardHandler),_.prototype.Init=function(t,e){_.superclass.Init.call(this,t),this._axis=e},_.prototype.processKeyDown=function(e){var i=e.keyCode,r=this._eventManager.getFocus(),a=null;if(i==t.KeyboardEvent.TAB){r&&(t.EventManager.consumeEvent(e),a=r);var n=this._axis.__getKeyboardObjects();n.length>0&&(t.EventManager.consumeEvent(e),a=this.getDefaultNavigable(n))}else i==t.KeyboardEvent.ENTER?r&&(this._eventManager.processDrillEvent(r),t.EventManager.consumeEvent(e)):a=_.superclass.processKeyDown.call(this,e);return a};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var f=new Object;t.Obj.createSubclass(f,t.Obj),f._MAX_TITLE_LINE_WRAP=3,f.getPreferredSize=function(e,i,r){var a=f._createAxisInfo(e,new t.Rectangle(0,0,i,r)),n=e.getCtx(),s=e.getOptions(),o="top"==s.position||"bottom"==s.position;if("off"==s.rendered||i<=0||r<=0)return o?new t.Dimension(i,0):new t.Dimension(0,r);var l=f.getTitleHeight(n,s,.8*(o?i:r),.8*(o?r:i)),h=0!=l?l+f._getTitleGap(e):0;if("on"==s.tickLabel.rendered&&"inside"!=s.tickLabel.position)if(o){var u=t.TextUtils.getTextStringHeight(n,s.tickLabel.style);a instanceof m?h+=u:a instanceof y?h+=null!=a.getLabels(n,1)?2*u:u:a instanceof S&&(h=f._getGroupAxisPreferredSize(e,a,h,r,o))}else if(a instanceof m)h+=t.TextUtils.getMaxTextStringWidth(n,a.getAllLabels(n,!0),a.Options.tickLabel.style);else if(a instanceof y){var g=a.getLabels(n),d=t.TextUtils.getMaxTextDimensions(g).w,c=a.getLabels(n,1),p=null!=c?t.TextUtils.getMaxTextDimensions(c).w:0;h+=Math.max(d,p)}else a instanceof S&&(h=f._getGroupAxisPreferredSize(e,a,h,i,o));return o?new t.Dimension(i,Math.min(h,r)):new t.Dimension(Math.min(h,i),r)},f.render=function(t,e){var i=f._createAxisInfo(t,e);"off"!=t.getOptions().rendered&&(t.__setBounds(e.clone()),f._renderBackground(t,e),f._renderTitle(t,i,e),f._renderLabels(t,i,e))},f._createAxisInfo=function(t,e){var i=v.newInstance(t.getCtx(),t.getOptions(),e);return t.__setInfo(i),i},f._getTitleGap=function(t){var e=t.getOptions();return c.getGapSize(t.getCtx(),e,e.layout.titleGap)},f._renderBackground=function(e,i){var r=e.getOptions();if(r.dnd){var a=r.dnd.drop,n=Object.keys(a.xAxis).length>0||Object.keys(a.yAxis).length>0||Object.keys(a.y2Axis).length>0,s=r.dnd.drag,o=Object.keys(s.groups).length>0&&e.getInfo()instanceof S;if(n||o){var l=r.position,h="top"==l||"bottom"==l,u=h?4:10,g=h?10:4,d=new t.Rect(e.getCtx(),i.x-g,i.y-u,i.w+2*g,i.h+2*u);o&&d.setClassName("oj-draggable"),d.setInvisibleFill(),e.getCache().putToCache("background",d),e.addChild(d)}}},f._renderTitle=function(e,i,r){var a=e.getOptions();if(a.title){var n=a.position;if("radial"!=n&&"tangential"!=n){var s="top"==a.position||"bottom"==a.position,o=s?r.w:r.h,l=s?r.h:r.w,h=a.titleStyle,u=f.isWrapEnabled(h),d=f._createText(e.getEventManager(),e,a.title,h,0,0,o,l,p.getUIParams(g.TITLE),u);if(d){var c=f._getTitleGap(e),_=(i.getStartOverflow()-i.getEndOverflow())/2,v=t.Agent.isRightToLeft(e.getCtx()),m=d.getDimensions().h;d.alignCenter(),"top"==n?(d.setX(r.x+_+r.w/2),d.setY(r.y),r.y+=m+c,r.h-=m+c):"bottom"==n?(d.setX(r.x+_+r.w/2),d.setY(r.y+r.h-m),r.h-=m+c):"left"==n?(d.alignMiddle(),d.setRotation(v?Math.PI/2:3*Math.PI/2),d.setTranslate(r.x+m/2,r.y+r.h/2),r.x+=m+c,r.w-=m+c):"right"==n&&(d.alignMiddle(),d.setRotation(v?Math.PI/2:3*Math.PI/2),d.setTranslate(r.x+r.w-m/2,r.y+r.h/2),r.w-=m+c),i.setTitle(d)}}}},f._renderLabels=function(t,e,i){var r=t.getOptions();if("on"==r.tickLabel.rendered){var a=r.position;"top"==a||"bottom"==a?f._renderLabelsHoriz(t,e,i):"tangential"==a?f._renderLabelsTangent(t,e,i):f._renderLabelsVert(t,e,i),f._renderGroupSeparators(t,e,i)}},f._renderLabelsHoriz=function(e,i,r){var a=e.getCtx(),n=e.getOptions(),s=n.position,o="inside"==n.tickLabel.position,l=t.Agent.isRightToLeft(a),h=i instanceof S,u=h&&i.getNumLevels()>1,d=u?0:null,_=i.getLabels(a,d);for(b=u?c.getGapSize(a,n,n.layout.hierarchicalLabelGapHeight):0;_;){for(var f=0,v=0,m=0;m<_.length;m++){var x=_[m];if(null!=x){var A=x instanceof t.MultilineText||x instanceof t.BackgroundMultilineText;if(i.isLabelRotated(d)){if((!A||A&&!x.isWrapEnabled())&&!t.TextUtils.fitText(x,r.h,r.w,e))continue;l?x.alignLeft():x.alignRight(),u?(f=x.getDimensions().w,x.setTranslateY(r.h-f),v=Math.max(v,f)):x.setTranslateY(r.y)}else{if(!o&&x.getDimensions().h-1>r.h)continue;if(u&&"bottom"==s?x.setY(r.h):"bottom"==s?x.setY(r.y):x.setY(r.y+r.h),!u&&("bottom"==s&&!o||"top"==s&&o)||u&&"top"==s?x.alignTop():x.alignBottom(),u)v=Math.max(v,x.getDimensions().h);else if(o){var b=c.getGapSize(a,n,n.layout.insideLabelGapWidth);l?x.alignRight():x.alignLeft(),x.setX(x.getX()+b*(l?-1:1))}}var M=h?i.getLabelIndex(x):m,T=i.getDatatip(M,d),I=x.getUntruncatedTextString(),O=i.isDrillable(M,d),D=i.getGroup(M,d),E=p.getUIParams(g.TICK_LABEL,x.getTextString(),M,d);e.getEventManager().associate(x,new C(e,x,D,O,I,T,E)),u?i.setLastRenderedLevel(d):v=Math.max(v,x.getDimensions().h),e.addChild(x)}}if(u){for(m=0;m<_.length;m++)if(null!=(x=_[m])){var P=i.isLabelRotated(d),L=d<i.getNumLevels()-1;!P&&L?(x.setY(r.h-v/2),x.alignMiddle()):x.setTranslateY(r.h-v)}r.y+=v+b,r.h-=v+b,d++,_=i.getLabels(e.getCtx(),d)}else r.y+=v,r.h-=v,_=null}if(i instanceof y){_=i.getLabels(e.getCtx());var w=i.getLabels(e.getCtx(),1),R=0;if(null!=w)for(m=0;m<w.length;m++)if(null!=(x=w[m])&&!(x.getDimensions().h-1>r.h)){e.getEventManager().associate(x,new t.SimpleObjPeer(null,null,null,p.getUIParams(g.TICK_LABEL,x.getTextString())));var B=0,k=0,F=i.getOptions()._maxOverflowCoord,N=i.getOptions()._minOverflowCoord;if(null!=_[m]&&(R=_[m].getDimensions().w/2,B=i._level1Overflow[m],k=i._level2Overflow[m]),0==B&&0==k){var H,G=x.getX();l?(H=G+R<=F?G+R:F,x.setX(H)):(H=G-R>=N?G-R:N,x.setX(H))}else B<0?x.setX(N):B>0&&x.setX(F);x.alignTop(),x.setY(r.y),e.addChild(x)}}},f._renderLabelsVert=function(e,i,r){var a,n,s,o=e.getOptions(),l=o.position,h=e.getCtx(),u=t.Agent.isRightToLeft(h),d=i instanceof m,_="inside"==o.tickLabel.position,f=i instanceof S,v=f&&i.getNumLevels()>1,x=v?0:null;a=i.getLabels(e.getCtx(),x);var A=0;v?(n=c.getGapSize(h,o,o.layout.hierarchicalLabelGapWidth),s=t.TextUtils.getMaxTextDimensions(a).w):"radial"==l?(n=c.getGapSize(h,o,o.layout.radialLabelGap),A=r.x+r.w/2,u?A+=n+t.TextUtils.getMaxTextDimensions(a).w:A-=n):"left"==l?(A=r.x+r.w,d&&_&&(A+=t.TextUtils.getMaxTextDimensions(a).w)):(A=r.x,d&&!_&&(A+=t.TextUtils.getMaxTextDimensions(a).w));for(var b=function(n,m){var S=n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText,y=!S||S&&!n.isWrapEnabled();if(!(v&&t.TextUtils.getMaxTextDimensions(a).w-1>r.w)&&(v||_||!y||t.TextUtils.fitText(n,r.w,r.h,e))){m=f?i.getLabelIndex(n):m;var b=i.getDatatip(m,x),M=n.getUntruncatedTextString(),T=i.isDrillable(m,x),I=i.getGroup(m,x),O=p.getUIParams(g.TICK_LABEL,n.getTextString(),m,x);if(e.getEventManager().associate(n,new C(e,n,I,T,M,b,O)),v)n.alignRight(),n.setX(u?r.w:r.x+s),i.setLastRenderedLevel(x);else if(n.setX(A),d||"right"!=l?n.alignRight():n.alignLeft(),_&&(n.alignBottom(),n.setY(n.getY()-c.getGapSize(h,o,o.layout.insideLabelGapHeight))),"radial"==l){var D=n.getY();n.setY(r.y+r.h/2-D);var E=n.getDimensions(),P=.15*E.h,L=t.PathUtils.roundedRectangle(E.x-P,E.y,E.w+2*P,E.h,2,2,2,2),w=new t.Path(e.getCtx(),L),R=n.getCSSStyle().getStyle(t.CSSStyle.BACKGROUND_COLOR),B=D+E.h/2>i.getEndCoord()&&"circle"==e.getOptions().polarGridShape?1:.3;R?w.setSolidFill(R):w.setSolidFill("#FFFFFF",B),e.addChild(w)}e.addChild(n)}};a;){for(var M=0;M<a.length;M++){var T=a[M];null!=T&&b(T,M)}if(!v)break;r.x+=s+n,r.w-=s+n,x++,a=i.getLabels(e.getCtx(),x),s=a?t.TextUtils.getMaxTextDimensions(a).w:null}if(i instanceof y){var I=i.getLabels(e.getCtx(),1);if(null!=I)for(M=0;M<I.length;M++)null!=(T=I[M])&&b(T,M)}},f._renderLabelsTangent=function(e,i,r){for(var a=i.getLabels(e.getCtx()),n=0;n<a.length;n++){var s=a[n];if(null!=s){var o=r.w/2-Math.abs(s.getX()),l=r.h/2-Math.abs(s.getY());if(t.TextUtils.fitText(s,o,l,e)){var h=i instanceof S?i.getLabelIndex(s):n,u=i.getDatatip(h),d=s.getUntruncatedTextString(),c=i.isDrillable(h),_=i.getGroup(h),f=p.getUIParams(g.TICK_LABEL,s.getTextString(),h);e.getEventManager().associate(s,new C(e,s,_,c,d,u,f)),s.setTranslateX(r.x+r.w/2),s.setTranslateY(r.y+r.h/2),e.addChild(s)}}}},f._createText=function(e,i,r,a,n,s,o,l,h,u){var g;return u?((g=new t.MultilineText(i.getCtx(),r,n,s)).setMaxLines(f._MAX_TITLE_LINE_WRAP),g.setCSSStyle(a),g.wrapText(o,l,1)):(g=new t.OutputText(i.getCtx(),r,n,s)).setCSSStyle(a),t.TextUtils.fitText(g,o,l,i)?(e.associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString(),null,null,h)),g):null},f._renderGroupSeparators=function(e,i,r){if(i instanceof S&&i.areSeparatorsRendered()){var a=i.getNumLevels(),n=i.getSeparatorStartLevel();if(a<=1||n<=0)return;for(var s,o,l,h,u,g,d=e.getOptions(),p=d.position,_="top"==p||"bottom"==p,v=e.getCtx(),m=t.Agent.isRightToLeft(v),C=i.getSeparatorColor(),y=new t.Stroke(C,1,1),x=0,A=_?c.getGapSize(v,d,d.layout.hierarchicalLabelGapHeight):c.getGapSize(v,d,d.layout.hierarchicalLabelGapWidth),b=d.startGroupOffset,M=d.endGroupOffset,T=n;T>=0;T--){var I=i.getLabels(e.getCtx(),T),O=t.TextUtils.getMaxTextDimensions(I),D=i.isLabelRotated(T),E=D||!_?O.w:O.h;if(0!=E){var P=!1,L=null;if(T<n)for(var w=0;w<I.length;w++){var R=I[w];if(null!=R){var B=i.getLabelIndex(R),k=0==i.getLabelAt(B,T).length;if(!k){var F=k&&0==T&&(0==B||B==I.length-1),N=R&&null==I[B-1],H=R&&null==I[B+1],G=i.getStartIndex(B,T),U=i.getEndIndex(B,T);if(_){var V;if(R)V=R instanceof t.MultilineText||R instanceof t.BackgroundMultilineText?R.getYAlignCoord():R.getY(),s=i.getCoordAt(G-b),o=D?V+.5*x:V-E/2-.5*x-A,l=i.getCoordAt(U+M),h=D?V+E+x+2*A:V,k&&F||0!=P||null==s||f._addSeparatorLine(e,y,s,h,s,o),null==l||F||f._addSeparatorLine(e,y,l,h,l,o);if(!k){if(R)var j=D?R.getDimensions().h:R.getDimensions().w;s=N&&0==L?i.getStartCoord():i.getBoundedCoordAt(G-b),N&&(N=!1);var Y=i.getLabelAt(B+1,T);if(l=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),u=R?m?R.getX()+.5*j:R.getX()-.5*j:i.getBoundedCoordAt(U+M),g=R?m?R.getX()-.5*j:R.getX()+.5*j:i.getBoundedCoordAt(G-b),R)if(D)f._addSeparatorLine(e,y,s,h,l,h);else{var W=m?.5*-R.getDimensions().h:.5*R.getDimensions().h,z=m?g+W>l:g+W<l;(m?s>u-W:s<u-W)&&f._addSeparatorLine(e,y,s,h,u-W,h),z&&f._addSeparatorLine(e,y,g+W,h,l,h)}}}else R&&(s=m?R.getX()-E-.5*A:R.getX()+.5*A,o=i.getCoordAt(G-b),l=m?R.getX()+.5*A:R.getX()-E-.5*A,h=i.getCoordAt(U+M),(!k&&0==P||0==B&&k&&0!=T)&&null!=o&&f._addSeparatorLine(e,y,s,o,l,o),null==h||F||f._addSeparatorLine(e,y,l,h,s,h)),k||(o=N&&0==L?0:i.getBoundedCoordAt(G-b),N&&(N=!1),Y=i.getLabelAt(B+1,T),h=H&&Y&&Y.length>0?i.getEndCoord():i.getBoundedCoordAt(U+M),R&&f._addSeparatorLine(e,y,l,o,l,h));P=!k&&null!=R,L=null!=R||null==R&&k}}}x=E}else x=E}}},f._addSeparatorLine=function(e,i,r,a,n,s){var o=new t.Line(e.getCtx(),r,a,n,s);o.setStroke(i),o.setPixelHinting(!0),e.addChild(o)},f._getGroupAxisPreferredSize=function(e,i,r,a,n){for(var s=e.getCtx(),o=e.getOptions(),l=i.getNumLevels(),h=n?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",u=l>1?c.getGapSize(s,o,o.layout[h]):0,g=0;g<l;g++){var d;if(i.isAutoRotate()){for(var p=[],_=[],f=i.getSkipIncrement(),v=0;v<i.getGroupCount();v+=f){p.push(i.getLabelAt(v,0));var m=i.getLabelStyleAt(v,0);m||(m=i.Options.tickLabel.style),_.push(m)}d=t.TextUtils.getMaxTextStringWidth(s,p,_)}else{var S=i.getLabels(s,g);if(n){var C=t.TextUtils.getMaxTextDimensions(S);d=i.isLabelRotated(g)?C.w:C.h}else d=t.TextUtils.getMaxTextDimensions(S).w}if(!(r+d<=a)){0==g&&(r=a);break}r+=d+u}return 0!=g&&(r-=u),r},f.getTitleHeight=function(e,i,r,a){var n=0;if(i.title)if(f.isWrapEnabled(i.titleStyle)){var s=new t.MultilineText(e,i.title,0,0);s.setMaxLines(f._MAX_TITLE_LINE_WRAP),s.setCSSStyle(i.titleStyle),s.wrapText(r,a,1),n=t.TextUtils.getTextStringHeight(e,i.titleStyle)*s.getLineCount()}else n=t.TextUtils.getTextStringHeight(e,i.titleStyle);return n},f.isWrapEnabled=function(e){var i=e.getStyle(t.CSSStyle.WHITE_SPACE);return"nowrap"!=i&&"noWrap"!=i};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var v=function(){};t.Obj.createSubclass(v,t.BaseAxisInfo),v.newInstance=function(t,e,i){return e.timeAxisType&&"disabled"!=e.timeAxisType?new y(t,e,i):e._isGroupAxis?new S(t,e,i):new m(t,e,i)},v.prototype.Init=function(t,e,i){v.superclass.Init.call(this,t,e,i),this._title=null},v.prototype.getLabels=function(t,e){return null},v.prototype.getTitle=function(){return this._title},v.prototype.setTitle=function(t){this._title=t},v.prototype.getMajorTickCoords=function(){return[]},v.prototype.getMinorTickCoords=function(){return[]},v.prototype.getBaselineCoord=function(){return null},v.prototype.getDatatip=function(t,e){return null},v.prototype.getLabelBackground=function(t,e){return null},v.prototype.isDrillable=function(t){return null},v.prototype.isLabelRotated=function(){return!1},v.prototype.CreateLabel=function(e,i,r,a,n){var s;if("tangential"==this.Position){var o=16/180*Math.PI,l=1/180*Math.PI,h=.5*this.getTickLabelHeight(),u=this._radius+h;(r<l||r>2*Math.PI-l)&&(u+=h);var g=Math.round(u*Math.sin(r)),d=Math.round(-u*Math.cos(r));s=a?new t.BackgroundOutputText(e,i,g,d,a):new t.OutputText(e,i,g,d),r<l||Math.abs(r-Math.PI)<l||r>2*Math.PI-l?s.alignCenter():r<Math.PI?s.alignLeft():s.alignRight(),Math.abs(r-Math.PI/2)<o||Math.abs(r-3*Math.PI/2)<o?s.alignMiddle():r<Math.PI/2||r>3*Math.PI/2?s.alignBottom():s.alignTop()}else n?s=a?new t.BackgroundMultilineText(e,i,r,r,a):new t.MultilineText(e,i,r,r):(s=a?new t.BackgroundOutputText(e,i,r,r,a):new t.OutputText(e,i,r,r)).alignMiddle(),s.alignCenter();return(s instanceof t.OutputText||s instanceof t.MultilineText)&&s.setCSSStyle(this.Options.tickLabel.style),s},v.prototype.IsOverlapping=function(e,i,r){if(!e||e.length<=0)return!1;for(var a,n,s,o,l="left"==this.Position||"right"==this.Position||"radial"==this.Position,h=t.Agent.isRightToLeft(this.getCtx()),u=this.GetTickLabelGapSize(),g=0;g<e.length;g+=i+1)if(null!=e[g]){if(null!=r&&e[g].w>r[g])return!0;if(null!=a&&null!=n){if(l){if(s=e[g].y,o=e[g].y+e[g].h,s>=a&&s-u<n)return!0;if(s<a&&o+u>a)return!0}else{if(s=e[g].x,o=e[g].x+e[g].w,!h&&s-u<n)return!0;if(h&&o+u>a)return!0}a=s,n=o}else l?(a=e[g].y,n=e[g].y+e[g].h):(a=e[g].x,n=e[g].x+e[g].w)}return!1},v.prototype.IsOverlappingDims=function(t,e){if(!t||!e)return!1;var i=t.y,r=t.y+t.h,a=t.x,n=t.x+t.w,s=e.y,o=e.y+e.h,l=e.x,h=e.x+e.w;return(a<=l&&l<=n||a<=h&&h<=n||l<=a&&a<=h||l<=n&&n<=h)&&(s>=i&&s<r||s<=i&&o>=i)},v.prototype.GetTickLabelGapSize=function(){var t=this.getTickLabelHeight(),e=this instanceof S?.24*t:.79*t,i=this instanceof S?.08*t:.28*t;return"left"==this.Position||"right"==this.Position||"radial"==this.Position||this.isLabelRotated()?i:e},v.prototype.getTickLabelHeight=function(){return t.TextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)},v.prototype.SkipLabels=function(t,e){for(var i=0,r=this.IsOverlapping(e,i);r;)i++,r=this.IsOverlapping(e,i);if(i>0){for(var a=[],n=0;n<t.length;n+=i+1)a.push(t[n]);return a}return t},v.prototype.SkipTangentialLabels=function(t,e){var i=[],r=t.length,a=null;if(r>1){for(var n,s=0;s<r;s++)e[s]&&(!n||n&&!this.IsOverlappingDims(n,e[s]))&&(a||(a=e[s]),i.push(t[s]),n=e[s]);return this.IsOverlappingDims(n,a)&&i.pop(),i}return t},v.prototype.GetLabelDims=function(t,e,i){for(var r=[],a=this.isLabelRotated(i),n=0;n<t.length;n++){var s=t[n];if(null!=s){var o=s.getDimensions(e);null!=i&&(o.x=(a?s.getTranslateX():s.getX())-o.w/2,o.y=(a?s.getTranslateY():s.getY())-o.h/2),o.w&&o.h?r.push(o):r.push(null)}else r.push(null)}return r},v.prototype.getMajorTickCount=function(){return null},v.prototype.getMinorTickCount=function(){return null},v.prototype.getMajorIncrement=function(){return null},v.prototype.getMinorIncrement=function(){return null},v.prototype.getGlobalMin=function(){return this.GlobalMin},v.prototype.getGlobalMax=function(){return this.GlobalMax},v.prototype.getViewportMin=function(){return this.MinValue},v.prototype.getViewportMax=function(){return this.MaxValue},v.prototype.getDataMin=function(){return this.DataMin},v.prototype.getDataMax=function(){return this.DataMax},v.prototype.getMinimumExtent=function(){return 0},v.prototype.getStartCoord=function(){return this.StartCoord},v.prototype.getEndCoord=function(){return this.EndCoord},v.prototype.getStartOverflow=function(){return this.StartOverflow},v.prototype.getEndOverflow=function(){return this.EndOverflow},v.prototype.getGroupWidth=function(){return 0},v.prototype.getGroup=function(t,e){return null},v.prototype.linearToActual=function(t){return t},v.prototype.actualToLinear=function(t){return t},v.prototype.alignLogScaleToTickCount=function(t,e){return t},v.prototype.getLogScaleUnit=function(){return null};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var m=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(m,v),m.prototype.Init=function(t,e,i){m.superclass.Init.call(this,t,e,i),this.MixinInit.call(this,t,e,i)},m.MAX_ZOOM_FACTOR=64,m.prototype.getMinLabel=function(){return this.ZeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.LinearMinValue/this.MajorIncrement)*this.MajorIncrement:Math.ceil((this.LinearMinValue-this.LinearGlobalMin)/this.MajorIncrement)*this.MajorIncrement+this.LinearGlobalMin},m.prototype.getLabels=function(t,e){if(e&&e>0)return null;var i=this.getAllLabels(t),r=[],a=t.getStage();return"tangential"!=this.Position&&(r=this.GetLabelDims(i,a),i=this.SkipLabels(i,r)),i},m.prototype.getAllLabels=function(e,i){var r=[];if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var a=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,this.LinearMinValue,this.LinearMaxValue,this.MajorIncrement,this.Options.tickLabel.scaling,a,this.Options.translations)}for(var n=0;n<=this.MajorTickCount;n++){var s=n*this.MajorIncrement+this.getMinLabel();if(s-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;var o,l=this.GetUnboundedCoordAt(s);if(this.Options._skipHighestTick){if(s==this.LinearMaxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this.MaxCoord)<this.getTickLabelHeight())continue}this.IsLog?(s=this.linearToActual(s),this._axisValueFormatter=new t.LinearScaleAxisValueFormatter(e,s,s,s,this.Options.tickLabel.scaling,a,this.Options.translations),o=this._formatValue(s)):o=this._formatValue(s),i?r.push(o):r.push(this.CreateLabel(e,o,l))}return r},m.prototype.getMajorTickCoords=function(){for(var t=[],e=0;e<=this.MajorTickCount;e++){var i=e*this.MajorIncrement+this.getMinLabel();if(i-this.LinearMaxValue>this.MAJOR_TICK_INCREMENT_BUFFER)break;if(!this.Options._skipHighestTick||i!=this.LinearMaxValue){var r=this.GetUnboundedCoordAt(i);t.push(r)}}return t},m.prototype.getMinorTickCoords=function(){for(var e=[],i=-1;i<=this.MajorTickCount;i++){var r=i*this.MajorIncrement+this.getMinLabel();if(this.IsLog&&1==this.MajorIncrement&&1==this.MinorIncrement)for(var a=2;a<=9;a++){var n=r+t.Math.log10(a);if(n>this.LinearMaxValue)break;n<this.LinearMinValue||(o=this.GetUnboundedCoordAt(n),e.push(o))}else for(a=1;a<this.MinorTickCount;a++){var s=r+a*this.MinorIncrement;if(s>this.LinearMaxValue)break;if(!(s<this.LinearMinValue)){var o=this.GetUnboundedCoordAt(s);e.push(o)}}}return e},m.prototype._formatValue=function(e){if(!this.Converter||!this.Converter.getAsString&&!this.Converter.format){if(this._axisValueFormatter)return this._axisValueFormatter.format(e);var i=t.Math.log10(this.MajorIncrement),r=Math.max(Math.ceil(-i),0);return e.toFixed(r)}return this._axisValueFormatter?this._axisValueFormatter.format(e,this.Converter):this.Converter.getAsString?this.Converter.getAsString(e):this.Converter.format?this.Converter.format(e):void 0},m.prototype.getMajorTickCount=function(){return this.MajorTickCount},m.prototype.getMinorTickCount=function(){return this.MinorTickCount},m.prototype.getMajorIncrement=function(){return this.linearToActual(this.MajorIncrement)},m.prototype.getMinorIncrement=function(){return this.linearToActual(this.MinorIncrement)},m.prototype.getMinimumExtent=function(){return(this.LinearGlobalMax-this.LinearGlobalMin)/this.MAX_ZOOM_FACTOR},m.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},m.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},m.prototype.alignLogScaleToTickCount=function(t,e){if(this.IsLog)for(var i=this.getMajorTickCount();e<i;)this.MajorIncrement=null,this.MajorTickCount=null,this.MinorIncrement=null,this.MinorTickCount=null,t++,this.CalcMajorMinorIncr(t),i=this.getMajorTickCount();return t},m.prototype.getLogScaleUnit=function(){return this.LogScaleUnit},t.DataAxisInfoMixin.call(m.prototype);
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var S=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(S,v),S._MAX_LINE_WRAP=3,S._ROTATE_THRESHOLD=12,S.prototype.Init=function(e,i,r){S.superclass.Init.call(this,e,i,r);var a=t.Agent.isRightToLeft(e),n="top"==this.Position||"bottom"==this.Position;if(n&&a){var s=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=s}this._levelsArray=[],this._groupCount=this._generateLevelsArray(i.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="off"!=i.groupSeparators.rendered,this._separatorColor=i.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=i.drilling;var o=i.endGroupOffset>0?Number(i.endGroupOffset):0,l=i.startGroupOffset>0?Number(i.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==i.min?this.DataMin-l:i.min,this.GlobalMax=null==i.max?this.DataMax+o:i.max;var h=this.getGroupIndex(i.viewportStartGroup),u=this.getGroupIndex(i.viewportEndGroup);-1!=h&&(this.MinValue=h-l),-1!=u&&(this.MaxValue=u+o),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=i._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=a?i.rightBuffer:i.leftBuffer,this._endBuffer=a?i.leftBuffer:i.rightBuffer,this._isLabelRotated=[];for(var g=0;g<this._numLevels;g++)this._isLabelRotated.push(!1);if(this._renderGridAtLabels=i._renderGridAtLabels,this._labels=null,this._maxSpace=n?r.h:r.w,"off"!=i.rendered){var d=f.getTitleHeight(e,i,n?r.w:r.h,n?r.h:r.w);this._maxSpace-=0!=d?d+c.getGapSize(e,i,i.layout.titleGap):0}this._maxLineWrap=S._MAX_LINE_WRAP},S.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)this._groupWidthRatios=null;else{for(var t,e,i=0,r=0;r<this._groupCount;r++)t=0==r?this.MinValue:Math.max(r-.5,this.MinValue),(e=r==this._groupCount-1?this.MaxValue:Math.min(r+.5,this.MaxValue))>t&&(i+=(e-t)*this._groupWidthRatios[r]);var a=this.EndCoord-this.StartCoord;this._groupWidths=this._groupWidthRatios.map((function(t){return t*a/i})),this._borderValues=[];for(r=0;r<this._groupWidthRatios.length-1;r++)this._borderValues.push(r+.5);this._borderCoords=[];var n=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[n]=this.StartCoord+(this._borderValues[n]-this.MinValue)*this._groupWidths[n];for(r=n+1;r<this._borderValues.length;r++)this._borderCoords[r]=this._borderCoords[r-1]+this._groupWidths[r];for(r=n-1;r>=0;r--)this._borderCoords[r]=this._borderCoords[r+1]-this._groupWidths[r+1]}},S.prototype._rotateLabels=function(e,i,r,a){var n,s,o=this.getCtx(),l=t.Agent.isRightToLeft(o),h=this._numLevels>1;null==a&&(a=this._numLevels-1),this._isLabelRotated[a]=!0,h||this._setOverflow(r,r,e);for(var u=0;u<e.length;u++)if(null!=(n=e[u])){if(s=n.getX(),n instanceof t.MultilineText||n instanceof t.BackgroundMultilineText){var g=this.getGroupWidth()*(this.getEndIndex(u,a)-this.getStartIndex(u,a)+1);2*n.getLineHeight()<g&&this._maxSpace>0?n.wrapText(this._maxSpace,n.getLineHeight()*S._MAX_LINE_WRAP,1):n.setWrapEnabled(!1)}n.setX(0),n.setY(0),l?n.setRotation(Math.PI/2):n.setRotation(3*Math.PI/2),n.setTranslateX(s)}var d=this.GetLabelDims(e,i,a);f.isWrapEnabled(this.Options.tickLabel.style)&&this._maxSpace>0&&(this._sanitizeWrappedText(o,d,e,!0,h)&&(d=this.GetLabelDims(e,i,a)));return this.SkipLabels(e,d)},S.prototype._sanitizeWrappedText=function(e,i,r,a,n){for(var s=this._calculateMaxWrap(i,r,a),o=0,l=0;l<r.length;l++){var h=r[l];if(h){var u=h instanceof t.MultilineText||h instanceof t.BackgroundMultilineText;s&&u&&h.isWrapEnabled()&&h.wrapText(this._maxSpace,h.getLineHeight()*this._maxLineWrap,1),n&&(o=Math.max(o,h.getDimensions().w)),h.alignMiddle()}}if(n){var g=a?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=o+c.getGapSize(e,this.Options,g)}return s},S.prototype._calculateMaxWrap=function(e,i,r){for(var a=!1;this.IsOverlapping(e,0)&&this._maxLineWrap>1;){a=!0;for(var n=0;n<i.length;n++){var s=i[n];if((s instanceof t.MultilineText||s instanceof t.BackgroundMultilineText)&&s.getLineCount()==this._maxLineWrap){var o=s.getLineHeight();r?e[n].w-=o:(e[n].y+=.5*o,e[n].h-=o)}}this._maxLineWrap--}return a},S.prototype.isLabelRotated=function(t){return null==t&&(t=this._numLevels-1),this._isLabelRotated[t]},S.prototype._setOverflow=function(e,i,r){e=Math.max(e-this._startBuffer,0),i=Math.max(i-this._endBuffer,0);var a=t.Agent.isRightToLeft(this.getCtx());this.StartCoord+=(e-this.StartOverflow)*(a?-1:1),this.EndCoord-=(i-this.EndOverflow)*(a?-1:1),this._processGroupWidthRatios();for(var n=0;n<this._numLevels;n++){r=this._labels[n];for(var s=0;s<r.length;s++){var o=r[s];if(o){var l=this._getLabelCoord(n,this.getLabelIndex(o));o.setX(l)}}}this.StartOverflow=e,this.EndOverflow=i},S.prototype.getLabels=function(t,e){return null==e&&(e=this._numLevels-1),this._labels||this._generateLabels(t),this._labels[e]},S.prototype._getLabelCoord=function(t,e){var i=this.getStartIndex(e,t),r=this.getEndIndex(e,t);if(null==i||null==r)return null;i<this.MinValue&&r>this.MinValue&&(i=this.MinValue),r>this.MaxValue&&i<this.MaxValue&&(r=this.MaxValue);var a=r?i+(r-i)/2:i;return this.getCoordAt(a)},S.prototype._generateLabels=function(e){var i=[];this._labels=[];for(var r,a,n,s,o,l=e.getStage(),h="top"==this.Position||"bottom"==this.Position,u=t.Agent.isRightToLeft(e),g=this._numLevels>1,d=this.getGroupWidth(),p=this._maxSpace,_=h?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",v=g?c.getGapSize(e,this.Options,this.Options.layout[_]):0,m="auto"==this.Options.tickLabel.rotation&&h,S={},C=this.isAutoRotate(),y=this.Options.tickLabel.style,x=f.isWrapEnabled(this.Options.tickLabel.style)&&"tangential"!=this.Position&&d>t.TextUtils.getTextStringHeight(e,y),A=0;A<this._numLevels;A++){var b=this._levelsArray[A],M=C?this.getSkipIncrement():1;S[A]=[];for(var T=0;T<b.length;T+=M)if(b[T]){if(""===(r=this.getLabelAt(T,A))||!r&&0!=r){i.push(null);continue}var I=this._getLabelCoord(A,T);if(null!=I){s=this.getLabelStyleAt(T,A);var O=!C&&x&&"number"!=typeof r&&r.indexOf(" ")>=0;o=this.CreateLabel(e,r,I,s,O);var D=d*(this.getEndIndex(T,A)-this.getStartIndex(T,A)+1);S[A].push(D),O&&this._isTextWrapNeeded(e,r,s,m,h?D:p)&&p>0?h?o.wrapText(D,p,1,!0):o.wrapText(p,o.getLineHeight()*this._maxLineWrap,1,!1):O&&(!h||p<0)&&o.setWrapEnabled(!1),o._index=T,i.push(o),a||0!=A||(a=o),0==A&&(n=o)}else i.push(null)}else i.push(null);if(x&&g){for(var E=0,P=0;P<i.length;P++)if(i[P]){var L=i[P].getDimensions();E=Math.max(E,h?L.h:L.w)}p-=E+v}this._labels.push(i),i=[]}i=this._labels[this._numLevels-1];var w=[];if(a){if("tangential"==this.Position)return w=this.GetLabelDims(i,l),void(this._labels[0]=this.SkipTangentialLabels(i,w));var R=a.getDimensions(),B=!1;if(h){var k,F;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)k=this.Options._startOverflow,F=this.Options._endOverflow;else{var N=n.getDimensions();k=u?R.w+R.x-this.StartCoord:this.StartCoord-R.x,F=u?this.EndCoord-N.x:N.w+N.x-this.EndCoord}B=k>this._startBuffer||F>this._endBuffer}for(A=0;A<this._numLevels;A++)if(i=this._labels[A],C)this._labels[A]=this._rotateLabels(i,l,R.h/2,A);else{w=this.GetLabelDims(i,l,A);var H=this.IsOverlapping(w,0,S[A]);if(H||(this._labels[A]=i),h)if(m){if(H)this._labels[A]=this._rotateLabels(i,l,R.h/2,A);else if(B&&this._setOverflow(k,F,i),this._labels[A]=i,g){var G=0;for(P=0;P<w.length;P++)w[P]&&(G=Math.max(G,w[P].h));this._maxSpace-=G+v}}else B&&this._setOverflow(k,F,i),w=this.GetLabelDims(i,l),this._labels[A]=this.SkipLabels(i,w);else{if(x)this._sanitizeWrappedText(e,w,i,!1,g)&&(w=this.GetLabelDims(i,l,A));this._labels[A]=this.SkipLabels(i,w)}}}},S.prototype.getMajorTickCoords=function(){for(var t,e=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,r=0;r<this._levelsArray[0].length;r++)if(this._levelsArray[0][r]){var a=this.getStartIndex(r,0),n=this.getEndIndex(r,0);null!=(t=this._renderGridAtLabels?this.getCoordAt(a+.5*(n-a)):n+.5<i?this.getCoordAt(n+.5):null)&&e.push(t)}return e},S.prototype.getMinorTickCoords=function(){var t,e=[];if(!this._levelsArray[1])return e;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var r=this.getStartIndex(i,1),a=this.getEndIndex(i,1);null!=(t=this._renderGridAtLabels?this.getCoordAt(r+.5*(a-r)):a+.5<this.getGroupCount()-1?this.getCoordAt(a+.5):null)&&e.push(t)}return e},S.prototype.getUnboundedValueAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){e=i;break}return 0==e?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[e-1]+(t-this._borderCoords[e-1])/this._groupWidths[e]}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(t-this.StartCoord)/r},S.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){e=i;break}return 0==e?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[e-1]+this._groupWidths[e]*(t-this._borderValues[e-1])}var r=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(t-this.MinValue)*r},S.prototype.getLabelAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i},S.prototype.getGroupAt=function(t,e){if(null==e&&(e=this._numLevels-1),(t=Math.round(t))<0)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;if(i){if(i.id)return i.id;if(i.name||""===i.name)return i.name}return i},S.prototype.getLabelStyleAt=function(e,i){var r=this._getGroupAttribute(e,i,"labelStyle");if(r){var a=new t.CSSStyle(r);return a.getStyle("font-size")||a.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),a}return null},S.prototype.getDatatip=function(t,e){return this._getGroupAttribute(t,e,"shortDesc")},S.prototype.isDrillable=function(t,e){var i=this._getGroupAttribute(t,e,"drilling");return"on"==i||"off"!=i&&("on"==this._drilling||"groupsOnly"==this._drilling)},S.prototype.getGroup=function(t,e){if(t<0||t>this.getGroupCount()-1)return null;if(1==this._numLevels)return this.getGroupAt(t);var i=[];null==e&&(e=this._numLevels-1);for(var r=this.getStartIndex(t,e),a=0;a<=e;a++)for(var n=this._levelsArray[a],s=0;s<n.length;s++)this.getStartIndex(s,a)<=r&&this.getEndIndex(s,a)>=r&&i.push(this.getGroupAt(s,a));return i.length>0?1==i.length?i[0]:i:null},S.prototype.getLabelBackground=function(e,i,r){null==r&&(r=this._numLevels-1);var a=e.getCSSStyle();if(a){var n=a.getStyle(t.CSSStyle.BACKGROUND_COLOR),s=a.getStyle(t.CSSStyle.BORDER_COLOR),o=a.getStyle(t.CSSStyle.BORDER_WIDTH),l=a.getStyle(t.CSSStyle.BORDER_RADIUS);if(null!=n||null!=s||null!=o||null!=l){var h=e.getDimensions(),u=.15*h.h;"blink"!==t.Agent.engine&&"ie"!==t.Agent.browser&&"edge"!==t.Agent.browser||e.getVertAlignment()!==t.OutputText.V_ALIGN_BOTTOM||(h.y+=h.h/2);var g=new t.Rect(i,h.x-u,h.y,h.w+2*u,h.h),d=new t.CSSStyle;return null!=n?d.setStyle(t.CSSStyle.BACKGROUND_COLOR,n):g.setInvisibleFill(),d.setStyle(t.CSSStyle.BORDER_COLOR,s),d.setStyle(t.CSSStyle.BORDER_WIDTH,o),d.setStyle(t.CSSStyle.BORDER_RADIUS,l),g.setCSSStyle(d),this._isLabelRotated[r]&&g.setMatrix(e.getMatrix()),g.setMouseEnabled(!1),g}return null}return null},S.prototype.getGroupIndex=function(e){if(null==e)return-1;for(var i=-1,r=0;r<this._groupCount;r++){var a=this.getGroup(r);if(e instanceof Array&&a instanceof Array?t.ArrayUtils.equals(e,a):e==a){i=r;break}}return i},S.prototype.getMinimumExtent=function(){return 1},S.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)},S.prototype.getGroupCount=function(){return this._groupCount},S.prototype.getNumLevels=function(){return this._numLevels},S.prototype._generateLevelsArray=function(t,e,i,r){for(var a=0;a<t.length;a++)if(i[e]||(i[e]=[]),i[e].push({item:t[a],start:r,end:r,position:a}),t[a]&&t[a].groups){var n=i[e].length-1,s=this._generateLevelsArray(t[a].groups,e+1,i,i[e][n].start);r!=s?(i[e][n].end=s-1,r=s):r++}else r++;return r},S.prototype._getGroupAttribute=function(t,e,i){null==e&&(e=this._numLevels-1);var r=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return r?r[i]:null},S.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered},S.prototype.getSeparatorColor=function(){return this._separatorColor},S.prototype.getStartIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].start:null},S.prototype.getEndIndex=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].end:null},S.prototype.getPosition=function(t,e){return null==e&&(e=this._numLevels-1),this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].position:null},S.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels},S.prototype.setLastRenderedLevel=function(t){this._lastRenderedLevel=t},S.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel},S.prototype.getSeparatorStartLevel=function(){for(var t=this._lastRenderedLevel,e=this._lastRenderedLevel-1;e>=0;e--)this._labels[e].length!=this._levelsArray[e].length&&(t=e);return t},S.prototype.getLabelIndex=function(t){return t._index>=0?t._index:null},S.prototype.getMaxLineWrap=function(){return this._maxLineWrap},S.prototype._isTextWrapNeeded=function(e,i,r,a,n){var s=t.TextUtils.getTextStringWidth(e,i,r);return s>=n&&(s/this._maxLineWrap<n||!a)},S.prototype.isAutoRotate=function(){var t="top"==this.Position||"bottom"==this.Position,e=this._numLevels>1,i=this.getGroupWidth(),r="auto"==this.Options.tickLabel.rotation&&t;return!e&&r&&i<S._ROTATE_THRESHOLD},S.prototype.getSkipIncrement=function(){var t=1;return t=S._ROTATE_THRESHOLD/(2*this.getGroupWidth()),this.Options._duringZoomAndScroll&&(t*=4),Math.max(1,Math.floor(t))};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var C=function(t,e,i,r,a,n,s){this.Init(t,e,i,r,a,n,s)};t.Obj.createSubclass(C,t.SimpleObjPeer),C.prototype.Init=function(e,i,r,a,n,s,o){C.superclass.Init.call(this,n,s,null,o),this._axis=e,this._label=i,this._group=r,this._drillable=a,this._drillable&&i.setCursor(t.SelectionEffectUtils.getSelectingCursor()),e.__registerObject(this)},C.prototype.getLabel=function(){return this._label},C.prototype.getId=function(){return this._group},C.prototype.isDrillable=function(){return this._drillable},C.prototype.getGroup=function(){return this._group},C.prototype.getNextNavigable=function(e){if(e.type==t.MouseEvent.CLICK)return this;var i=this._axis.__getKeyboardObjects();return t.KeyboardHandler.getNextNavigable(this,e,i,!1,this._axis.getCtx().getStage())},C.prototype.getKeyboardBoundingBox=function(e){return this._label?this._label.getDimensions(e):new t.Rectangle(0,0,0,0)},C.prototype.getDisplayable=function(){return this._label},C.prototype.getTargetElem=function(){return this._label?this._label.getElem():null},C.prototype.showKeyboardFocusEffect=function(){if(this._isShowingKeyboardFocusEffect=!0,this._label){var e=this.getKeyboardBoundingBox();this._overlayRect=new t.Rect(this._axis.getCtx(),e.x,e.y,e.w,e.h),this._overlayRect.setSolidStroke(t.Agent.getFocusColor()),this._overlayRect.setInvisibleFill(),this._overlayRect.setMatrix(this._label.getMatrix()),this._axis.addChild(this._overlayRect)}},C.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)},C.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},C.prototype.getAriaLabel=function(){var e;return this.isDrillable()&&(e=[this._axis.getOptions().translations.stateDrillable]),null!=this.getDatatip()?t.Displayable.generateAriaLabel(this.getDatatip(),e):null!=e?t.Displayable.generateAriaLabel(this.getLabel().getTextString(),e):void 0},C.prototype.isDragAvailable=function(t){return!0},C.prototype.getDragTransferable=function(t,e){return[this.getId()]},C.prototype.getDragFeedback=function(t,e){return[this.getDisplayable()]};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var y=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(y,v),y.TIME_SECOND=1e3,y.TIME_MINUTE=60*y.TIME_SECOND,y.TIME_HOUR=60*y.TIME_MINUTE,y.TIME_DAY=24*y.TIME_HOUR,y.TIME_MONTH_MIN=28*y.TIME_DAY,y.TIME_MONTH_MAX=31*y.TIME_DAY,y.TIME_YEAR_MIN=365*y.TIME_DAY,y.TIME_YEAR_MAX=366*y.TIME_DAY,y.prototype.Init=function(e,i,r){y.superclass.Init.call(this,e,i,r),"top"==this.Position||"bottom"==this.Position?(i._isOverview||"on"!=i.tickLabel.rendered||(this.StartOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-i.leftBuffer,0),this.EndOverflow=Math.max(t.BaseAxisInfo.MINIMUM_AXIS_BUFFER-i.rightBuffer,0)),t.Agent.isRightToLeft(e)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var a=null!=i.tickLabel?i.tickLabel.converter:null;this._label1Converter=a&&a[0]?a[0]:a,this._label2Converter=a&&a[1]?a[1]:null,this._dateToIsoWithTimeZoneConverter=e.getLocaleHelpers().dateToIsoWithTimeZoneConverter,this._groups=i.groups;var n=i.timeAxisType;this._skipGaps="skipGaps"==n,this._mixedFrequency="mixedFrequency"==n,this.DataMin=i.dataMin,this.DataMax=i.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*y.TIME_MINUTE,this._step=i.step;var s=i.endGroupOffset>0?i.endGroupOffset*this._averageInterval:0,o=i.startGroupOffset>0?i.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=i.min?i.min:this.DataMin-o,this.GlobalMax=null!=i.max?i.max:this.DataMax+s,null!=i.viewportStartGroup&&(this.MinValue=i.viewportStartGroup-o),null!=i.viewportEndGroup&&(this.MaxValue=i.viewportEndGroup+s),null!=i.viewportMin&&(this.MinValue=i.viewportMin),null!=i.viewportMax&&(this.MaxValue=i.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=i._locale.toLowerCase(),this._monthResources=e.LocaleData.getMonthNames("abbreviated")},y._getAMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"am";if("en-gb"==t)return"";switch(e){case"en":return"AM";case"ar":return"ص";case"el":return"πμ";case"ko":return"오전";case"zh":return"上午";default:return""}},y._getPMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"pm";if("en-gb"==t)return"";switch(e){case"en":return"PM";case"ar":return"م";case"el":return"μμ";case"ko":return"오후";case"zh":return"下午";default:return""}},y._getAMPMBefore=function(t){var e=t.substring(0,2);return"ko"==e||"zh"==e},y._getDMYOrder=function(t){var e=t.substring(0,2);return"en-us"==t||"en-ph"==t?"MDY":"fa"==e||"hu"==e||"ja"==e||"ko"==e||"lt"==e||"mn"==e||"zh"==e?"YMD":"DMY"},y._getYearTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"年":0==t.indexOf("ko")?"년":""},y._getDayTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"日":0==t.indexOf("ko")?"일":""},y.prototype.formatLabel=function(t){var e=new Date(t),i=this._formatAxisLabel(e,null,!0);return null!=i[1]?"YMD"==y._getDMYOrder(this._locale)||this._timeRange<y.TIME_MONTH_MIN&&this._step<y.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]},y.prototype._formatAxisLabelWithConverter=function(t,e,i){if(i){var r=null,a=null;if(i.getAsString?(r=i.getAsString(t),a=i.getAsString(e)):i.format&&(r=i.format(this._dateToIsoWithTimeZoneConverter&&t?this._dateToIsoWithTimeZoneConverter(t):t),a=i.format(this._dateToIsoWithTimeZoneConverter&&e?this._dateToIsoWithTimeZoneConverter(e):e)),a!=r)return r}return null},y.prototype._formatAxisLabel=function(t,e,i){var r=null,a=null,n="left"==this.Position||"right"==this.Position;return this._label1Converter||this._label2Converter?(this._label1Converter&&(r=this._formatAxisLabelWithConverter(t,e,this._label1Converter)),this._label2Converter&&(a=this._formatAxisLabelWithConverter(t,e,this._label2Converter)),[r,a]):(this._step>=y.TIME_YEAR_MIN||this._timeRange>=6*y.TIME_YEAR_MIN?r=this._formatDate(t,!1,!1,!0):this._step>=y.TIME_MONTH_MIN||this._timeRange>=6*y.TIME_MONTH_MIN?(null!=e&&e.getMonth()==t.getMonth()||(r=this._formatDate(t,!1,!0,!1)),null!=e&&e.getYear()==t.getYear()||(a=this._formatDate(t,!1,!1,!0))):this._step>=y.TIME_DAY||this._timeRange>=6*y.TIME_DAY?i?r=this._formatDate(t,!0,!0,!0):(null!=e&&e.getDate()==t.getDate()||(r=this._formatDate(t,!0,!1,!1)),null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!1,!0,!0):e.getMonth()!=t.getMonth()&&(a=this._formatDate(t,!1,!0,!1))):(this._step>=y.TIME_HOUR||this._timeRange>=6*y.TIME_HOUR?null!=e&&e.getHours()==t.getHours()||(r=this._formatTime(t,!1,!1)):this._step>=y.TIME_MINUTE||this._timeRange>=6*y.TIME_MINUTE?null!=e&&e.getMinutes()==t.getMinutes()||(r=this._formatTime(t,!0,!1)):null!=e&&e.getSeconds()==t.getSeconds()||(r=this._formatTime(t,!0,!0)),n?null!=e&&e.getDate()==t.getDate()||(a=this._formatDate(t,!0,!0,!1)):null==e||e.getYear()!=t.getYear()?a=this._formatDate(t,!0,!0,!0):e.getMonth()!=t.getMonth()?a=this._formatDate(t,!0,!0,!1):e.getDate()!=t.getDate()&&(a=this._formatDate(t,!0,!1,!1))),[r,a])},y.prototype._formatDate=function(t,e,i,r){var a,n="th"==this._locale.substring(0,2)&&"jet"!=this.Options._environment?t.getFullYear()+543:t.getFullYear();a=this._monthResources&&this._monthResources.length>=12?this._monthResources[t.getMonth()]:t.toString().split(" ")[1];var s=t.getDate();n+=y._getYearTrailingCharacters(this._locale),s+=y._getDayTrailingCharacters(this._locale);for(var o=y._getDMYOrder(this._locale),l="",h=0;h<o.length;h++)e&&"D"==o[h]?l+=s+" ":i&&"M"==o[h]?l+=a+" ":r&&"Y"==o[h]&&(l+=n+" ");return l.length>0?l.slice(0,l.length-1):l},y.prototype._formatTime=function(e,i,r){var a,n=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),l=y._getAMString(this._locale),h=y._getPMString(this._locale),u=y._getAMPMBefore(this._locale),g=""!=l&&""!=h,d="";return t.Agent.isRightToLeft(this.getCtx())&&(d="‏"),g?(n<12?(a=l,0==n&&(n=12)):(a=h,n>12&&(n-=12)),d+=n,(i||0!=s)&&(d+=":"+this._doubleDigit(s))):d+=this._doubleDigit(n)+":"+this._doubleDigit(s),r&&(d+=":"+this._doubleDigit(o)),g?u?a+" "+d:d+" "+a:d},y.prototype._doubleDigit=function(t){return t<10?"0"+t:""+t},y.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*y.TIME_YEAR_MIN?y.TIME_YEAR_MIN:this._timeRange>=6*y.TIME_MONTH_MIN?y.TIME_MONTH_MIN:this._timeRange>=6*y.TIME_DAY?y.TIME_DAY:this._timeRange>=y.TIME_DAY?3*y.TIME_HOUR:this._timeRange>=6*y.TIME_HOUR?y.TIME_HOUR:this._timeRange>=y.TIME_HOUR?15*y.TIME_MINUTE:this._timeRange>=30*y.TIME_MINUTE?5*y.TIME_MINUTE:this._timeRange>=6*y.TIME_MINUTE?y.TIME_MINUTE:this._timeRange>=y.TIME_MINUTE?15*y.TIME_SECOND:this._timeRange>=30*y.TIME_SECOND?5*y.TIME_SECOND:y.TIME_SECOND},y._getLabelPositions=function(t,e,i){var r=new Date(t),a=r.getTimezoneOffset();r.setMonth(0,1),r.setHours(0,0,0,0);var n=60*(a-r.getTimezoneOffset())*1e3,s=r.getTime()+n,o=[];if(i>=y.TIME_YEAR_MIN&&i<=y.TIME_YEAR_MAX){for(;s<t;)s=y._addOneYear(s);for(;s<=e;)o.push(s),s=y._addOneYear(s)}else if(i>=y.TIME_MONTH_MIN&&i<=y.TIME_MONTH_MAX){for(;s<t;)s=y._addOneMonth(s);for(;s<=e;)o.push(s),s=y._addOneMonth(s)}else for(s+=Math.ceil((t-s)/i)*i;s<=e;)o.push(s),s+=i;return o},y._addOneYear=function(t){var e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()},y._addOneMonth=function(t){var e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()},y.prototype._generateLabels=function(e){var i=[],r=[],a=[],n=[],s=[],o=null,l=0,h=0,u=e.getStage(e),g=t.Agent.isRightToLeft(e),d="left"==this.Position||"right"==this.Position,c="off"!=this.Options.zoomAndScroll,p=!0,_=0;d&&"blink"===t.Agent.engine&&(_=.16*this.getTickLabelHeight());var f=[];if(null!=this._step)f=y._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),f=y._getLabelPositions(this.MinValue,this.MaxValue,this._step);else{for(var v=0;v<this._groups.length;v++)this._groups[v]>=this.MinValue&&this._groups[v]<=this.MaxValue&&f.push(this._groups[v]);if(this._step=this._averageInterval,!this._skipGaps){var m;if(d)m=t.TextUtils.getTextStringHeight(e,this.Options.tickLabel.style);else{var S=this._formatAxisLabel(new Date(f[0]))[0];m=t.TextUtils.getTextStringWidth(e,S,this.Options.tickLabel.style)}(m+this.GetTickLabelGapSize())*(f.length-1)>Math.abs(this._endCoord-this._startCoord)&&(this._step=this._getMixedFrequencyStep(),f=y._getLabelPositions(this.MinValue,this.MaxValue,this._step))}}0==f.length&&(f=[this.MinValue]);for(v=0;v<f.length;v++){var C=f[v],x=this.getCoordAt(C);if(null!=x){var A=new Date(C),b=this._formatAxisLabel(A,o),M=b[0],T=b[1];if(null!=M?(a.push({text:M,coord:null!=T?x+_:x}),n.push(x),l++):(a.push(null),n.push(null)),i.push(null),c&&p&&(x=this.MinValue?this.getCoordAt(this.MinValue):x),p=!1,null!=T){var I=this.CreateLabel(e,T,null!=T?x-_:x);s.push(x),d||(g?I.alignRight():I.alignLeft()),r.push(I),this._isOneLevel=!1,h++}else r.push(null),s.push(null);o=A}}if(l=this._skipLabelsUniform(a,i,u,!1,g),!c&&h>1&&l<1.5*h){i=r,r=null;for(var O=0;O<i.length;O++)null!=i[O]&&i[O].alignCenter();l=this._skipLabelsGreedy(i,this.GetLabelDims(i,u),!1,g)}else 0==(h=this._skipLabelsGreedy(r,this.GetLabelDims(r,u),!0,g))&&(r=null);d&&null!=r&&this._skipVertLabels(i,r,u),this._level1Labels=i,this._level2Labels=r,this._level1Coords=n,this._level2Coords=s},y._isOverlapping=function(t,e,i,r,a){return i>=t&&i-a<e||i<t&&r+a>t},y.prototype._getLabelOverflow=function(t,e,i,r){var a=t-(i?r?e:0:.5*e);if(a<this.Options._minOverflowCoord)return Math.floor(a-this.Options._minOverflowCoord);var n=t+(i?r?0:e:.5*e);return n>this.Options._maxOverflowCoord?Math.ceil(n-this.Options._maxOverflowCoord):0},y.prototype._skipLabelsGreedy=function(t,e,i,r){if(!e||e.length<=0)return!1;for(var a,n,s,o,l,h="left"==this.Position||"right"==this.Position,u=this.getTickLabelHeight(),g=h?.08*u:.24*u,d=0,c=Math.abs(this._endCoord-this._startCoord),p=0;p<e.length;p++)if(this._level2Overflow.push(0),null!=t[p]){var _=(l=t[p]).getDimensions().w;if(e[p].w>c)t[p]=null;else{var f=this._getLabelOverflow(l.getX(),_,i,r);this._level2Overflow[p]=f,0!=f&&(l.setX(l.getX()-f),e[p].x-=f)}}for(p=0;p<e.length;p++)null!=e[p]&&(h?(s=e[p].y,o=e[p].y+e[p].h):(s=e[p].x,o=e[p].x+e[p].w),null!=a&&null!=n&&y._isOverlapping(a,n,s,o,g)&&(t[p]=null),null!=t[p]&&(a=s,n=o,d++));return d},y.prototype._skipLabelsUniform=function(t,e,i,r){for(var a=[],n=[],s=Math.abs(this._endCoord-this._startCoord),o=0;o<t.length;o++)null!=t[o]&&(a.push(t[o]),n.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,h=this,u=function(t){if(null==n[t])if(a[t].label=h.CreateLabel(i.getCtx(),a[t].text,a[t].coord),n[t]=a[t].label.getDimensions(i),n[t].w>s)a[t].label=null,n[t].w=0,n[t].h=0;else{var e=h._getLabelOverflow(a[t].coord,n[t].w,!1,r);0!=e&&(a[t].coord-=e,n[t].x-=e,a[t].label.setX(a[t].label.getX()-e),h._level1Overflow[t]=e)}return l?n[t].h:n[t].w},g=(u(0)+this.GetTickLabelGapSize())*(a.length-1),d=s>0?Math.ceil(g/s)-1:0,c=!0;c;){for(o=0;o<a.length;o++)o%(d+1)==0?(u(o),a[o].skipped=!1):a[o].skipped=!0;c=this.IsOverlapping(n,d),d++}var p=0;for(o=0;o<t.length;o++)null==t[o]||t[o].skipped||(e[o]=t[o].label,p++);return p},y.prototype._skipVertLabels=function(t,e,i){for(var r=.08*this.getTickLabelHeight(),a=function(t,e){return y._isOverlapping(t.y,t.y+t.h,e.y,e.y+e.h,r)},n=null,s=!1,o=0;o<t.length;o++)if(t[o]&&e[o]){if(t[o].alignTop(),e[o].alignBottom(),n&&a(n,e[o].getDimensions())){s=!0;break}n=t[o].getDimensions()}else if(t[o]||e[o]){var l=t[o]?t[o]:e[o];if(n&&a(n,l.getDimensions())){s=!0;break}n=l.getDimensions()}if(s){var h,u=null,g=null,d=null;for(o=0;o<t.length;o++)e[o]?(t[o]=null,e[o].alignMiddle(),h=e[o].getDimensions(),g&&a(g,h)&&(t[u]=null),d=h):t[o]&&(h=t[o].getDimensions(),d&&a(d,h)?t[o]=null:(g=h,u=o))}},y.prototype.getLabels=function(t,e){return e&&e>1?null:(this._level1Labels||this._generateLabels(t),1==e?this._level2Labels:this._level1Labels)},y.prototype.getMajorTickCoords=function(){var t=[];if(this._isOneLevel)for(var e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);else for(e=1;e<this._level2Coords.length;e++)null!=this._level2Coords[e]&&t.push(this._level2Coords[e]);return t},y.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var t=[],e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);return t},y.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);return this._indexToTime(i+e*(r-i))}return this.MinValue+e*(this.MaxValue-this.MinValue)},y.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;var e;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),r=this._timeToIndex(this.MaxValue);e=(this._timeToIndex(t)-i)/(r-i)}else e=(t-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+e*(this._endCoord-this._startCoord)},y.prototype.linearToActual=function(t){return null==t?null:this._skipGaps?this._indexToTime(t):t},y.prototype.actualToLinear=function(t){return null==t?null:this._skipGaps?this._timeToIndex(t):t},y.prototype._timeToIndex=function(t){for(var e=this._groups.length,i=0;i<this._groups.length;i++)if(t<=this._groups[i]){e=i;break}var r=e-1,a=void 0!==this._groups[r]?this._groups[r]:this._groups[0]-this._averageInterval;return r+(t-a)/((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-a)},y.prototype._indexToTime=function(t){var e=Math.min(Math.max(Math.ceil(t),0),this._groups.length),i=e-1,r=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval;return r+(t-i)*((void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval)-r)},y.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))},y.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min((this.getGlobalMax()-this.getGlobalMin())/8,this._averageInterval):this._averageInterval},y.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},y.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!t.Agent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var x=function(t,e,i,r,a,n,s,o,l,h){this.Init(t,null,h),this.setWedgeParams(e,i,r,a,n,s,o,l)};t.Obj.createSubclass(x,t.Path),x._OUTER_BORDER_WIDTH=2,x._OUTER_BORDER_WIDTH_HOVER=1.25,x._INNER_BORDER_WIDTH=1,x.prototype.Init=function(t,e,i){x.superclass.Init.call(this,t,e,i)},x.prototype.setWedgeParams=function(t,e,i,r,a,n,s,o){this._cx=t,this._cy=e,this._rx=i,this._ry=r,this._sa=a,this._ae=n,this._gap=s,this._ir=o;var l=this._makeWedgePath(0);this.setCmds(l)},x.prototype._makeWedgePath=function(e){var i,r=Math.max(this._rx-e,0),a=Math.max(this._ry-e,0),n=360==this._ae||r<e?0:this._gap+2*e,s=this._ir?this._ir+e:0,o=360==this._ae?t.Math.degreesToRads(359.99):t.Math.degreesToRads(this._ae),l=t.Math.degreesToRads(this._sa),h=n/2,u=h<r?Math.asin(h/r):0,g=-o/2-l,d=Math.min(5*h,o>0?Math.abs(h/Math.sin(o/2)):0),c=0==r?d:d*a/r,p=this._cx+Math.cos(g)*d,_=this._cy+Math.sin(g)*c,f=this._cx+Math.cos(-u-l)*r,v=this._cy+Math.sin(-u-l)*a,m=this._cx+Math.cos(-l-o+u)*r,S=this._cy+Math.sin(-l-o+u)*a,C=t.Math.calculateAngleBetweenTwoVectors(m-this._cx,S-this._cy,f-this._cx,v-this._cy);if(C=Math.min(C,o),s>0){var y=h<s?Math.asin(h/s):0,x=this._cx+Math.cos(-y-l)*s,A=this._cy+Math.sin(-y-l)*s,b=this._cx+Math.cos(-l-o+y)*s,M=this._cy+Math.sin(-l-o+y)*s,T=t.Math.calculateAngleBetweenTwoVectors(b-this._cx,M-this._cy,x-this._cx,A-this._cy);T=Math.min(T,C,o),360==this._ae?(i=t.PathUtils.moveTo(m,S),i+=t.PathUtils.arcTo(r,a,o,1,f,v),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.moveTo(x,A),i+=t.PathUtils.arcTo(s,s,o,0,b,M)):(i=t.PathUtils.moveTo(b,M),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.arcTo(r,a,C,1,f,v),i+=t.PathUtils.lineTo(x,A),i+=t.PathUtils.arcTo(s,s,T,0,b,M))}else 360==this._ae?(i=t.PathUtils.moveTo(m,S),i+=t.PathUtils.arcTo(r,a,o,1,f,v)):(i=t.PathUtils.moveTo(p,_),i+=t.PathUtils.lineTo(m,S),i+=t.PathUtils.arcTo(r,a,C,1,f,v));return i+=t.PathUtils.closePath()},x.prototype._initializeSelectionEffects=function(){var e=this.isSelected()?x._OUTER_BORDER_WIDTH:x._OUTER_BORDER_WIDTH_HOVER,i=this._makeWedgePath(e),r=this._makeWedgePath(e+x._INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setCmds(i),void this.InnerChild.setCmds(r);this.OuterChild=new t.Path(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Path(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},x.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},x.prototype.setStyleProperties=function(e,i,r,a,n,s,o){this._fill=e,this._shapeStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=n,this._shapeClassName=s,this._shapeStyle=o,this.setStyle(o).setClassName(s),this.setFill(e),i&&this.setStroke(i)},x.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor)},x.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},x.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},x.prototype.UpdateSelectionEffect=function(){};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var A=function(t,e,i){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.Init(t,[this._x1,this._y1,this._x2,this._y1,this._x2,this._y2,this._x1,this._y2],i)};t.Obj.createSubclass(A,t.Polygon),A.OUTER_BORDER_WIDTH=2,A.OUTER_BORDER_WIDTH_HOVER=1.25,A.INNER_BORDER_WIDTH=1,A.prototype.setStyleProperties=function(e,i,r,a,n,s,o){this._fill=e,this._borderStroke=i,this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(r),this._innerColor=a,this._outerColor=n,this._shapeClassName=s,this._shapeStyle=o,this.setStyle(o).setClassName(s),this.setFill(e),i&&this.setStroke(i)},A.prototype.setAnimationParams=function(t){this._x1=Math.min(t[0],t[4]),this._x2=Math.max(t[0],t[4]),this._y1=Math.min(t[1],t[5]),this._y2=Math.max(t[1],t[5]),this.setPoints(t),this._initializeSelectionEffects()},A.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor))},A.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},A.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},A.prototype.UpdateSelectionEffect=function(){},A.prototype.getPrimaryFill=function(){return this._fill},A.prototype._initializeSelectionEffects=function(){var e=this.isSelected()?A.OUTER_BORDER_WIDTH:A.OUTER_BORDER_WIDTH_HOVER,i=this._createPointsArray(e),r=this._createPointsArray(e+A.INNER_BORDER_WIDTH);if(this.OuterChild)return this.OuterChild.setPoints(i),void this.InnerChild.setPoints(r);this.OuterChild=new t.Polygon(this.getCtx(),i),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new t.Polygon(this.getCtx(),r),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),this.addChild(this.InnerChild)},A.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setSolidFill(e),this.OuterChild.setClassName().setStyle(),this.InnerChild.setFill(this._fill),this.InnerChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle)):t?(this.setSolidFill(t),this.setStroke(null),this.setClassName().setStyle(),this.OuterChild.setFill(this._fill),this.OuterChild.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.setClassName(this._shapeClassName).setStyle(this._shapeStyle),this.OuterChild.setInvisibleFill(),this.OuterChild.setClassName().setStyle(),this.InnerChild.setInvisibleFill(),this.InnerChild.setClassName().setStyle())},A.prototype._createPointsArray=function(t){var e=this._x1+t,i=this._x2-t,r=this._y1+t,a=this._y2-t;return[e,r,i,r,i,a,e,a]};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var b=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(b,u),b.prototype.axisToPlotArea=function(t){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var e=t-this.getLeftOverflow();return Math.round(10*e)/10},b.prototype.plotAreaToAxis=function(t,e){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var i=t+this.getLeftOverflow();return!1===e?i:Math.round(i)},b.prototype.linearToActual=function(t){return this.Info.linearToActual(t)},b.prototype.actualToLinear=function(t){return this.Info.actualToLinear(t)},b.prototype.getValueAt=function(t){return this.Info.getValueAt(this.plotAreaToAxis(t))},b.prototype.getCoordAt=function(t){return this.axisToPlotArea(this.Info.getCoordAt(t))},b.prototype.getBoundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getBoundedCoordAt(t))},b.prototype.getUnboundedValueAt=function(t){return this.Info.getUnboundedValueAt(this.plotAreaToAxis(t))},b.prototype.getUnboundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(t))},b.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},b.prototype.getPosition=function(){return this.getOptions().position},b.prototype.isGroupAxis=function(){return this.Info instanceof S},b.prototype.getMajorTickCoords=function(){for(var t=this.Info?this.Info.getMajorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},b.prototype.getMinorTickCoords=function(){for(var t=this.Info?this.Info.getMinorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},b.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},b.prototype.getLinearGlobalMin=function(){return this.actualToLinear(this.Info.getGlobalMin())},b.prototype.getLinearGlobalMax=function(){return this.actualToLinear(this.Info.getGlobalMax())},b.prototype.getLinearViewportMin=function(){return this.actualToLinear(this.Info.getViewportMin())},b.prototype.getLinearViewportMax=function(){return this.actualToLinear(this.Info.getViewportMax())},b.prototype.getUnboundedLinearValueAt=function(t){return this.Info.actualToLinear(this.getUnboundedValueAt(t))},b.prototype.isFullViewport=function(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()},b.prototype.getLeftOverflow=function(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()},b.prototype.getRightOverflow=function(){return t.Agent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()},b.prototype.getLength=function(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())},b.prototype.getMinCoord=function(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))},b.prototype.getMaxCoord=function(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var M=function(t,e,i,r,a,n,s){s||this.Init(t.getCtx()),this._bHoriz=nt.isHorizontal(t),this._bStacked=nt.isStacked(t),this._barGapRatio=it.getBarGapRatio(t),this._dataItemGaps=it.getDataItemGaps(t),this._axisCoord=e,this._doNotRender=!!s,this._setBarCoords(i,r,a,n,!0)};t.Obj.createSubclass(M,A),M._INDICATOR_OFFSET=8,M._MIN_BAR_WIDTH_FOR_GAPS=5,M._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,M._MIN_BAR_LENGTH_FOR_GAPS=5,M._MAX_GAP_SIZE=2,M.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:null)))},M.prototype.getAnimationParams=function(t){return t?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]},M.prototype.setAnimationParams=function(t,e){if(this._setBarCoords(t[0],t[1],t[2],t[3],!1),e){var i=this.getIndicatorPosition();e.setTranslate(i.x,i.y),e.setAlpha(1),e.getParent().addChild(e)}},M.prototype.getDisplayAnimation=function(e){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},M.prototype.getDeleteAnimation=function(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},M.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getDisplayAnimation(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},M.prototype.getIndicatorPosition=function(){var e,i,r=(this._x1+this._x2)/2;if(this._bStacked){var a=(this._endCoord+this._baselineCoord)/2;e=this._bHoriz?a:r,i=this._bHoriz?r:a}else{var n=this._endCoord>=this._baselineCoord?this._endCoord+M._INDICATOR_OFFSET:this._endCoord-M._INDICATOR_OFFSET;e=this._bHoriz?n:r,i=this._bHoriz?r:n}return new t.Point(e,i)},M.prototype._setBarCoords=function(e,i,r,a,n){this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=a;var s=this._x2-this._x1;if(s<1&&(this._x1=Math.floor(this._x1),this._x2=this._x1+1,s=1),this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._origSize=this._x2-this._x1,this._dataItemGaps>0&&n&&!this.isSelected()){var o=Math.ceil(M._MAX_GAP_SIZE*this._dataItemGaps),l=Math.abs(this._baselineCoord-this._endCoord),h=this._axisCoord==this._baselineCoord;l>=M._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!h&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),s>=M._MIN_BAR_WIDTH_FOR_GAPS&&(1==t.Agent.getDevicePixelRatio()&&this._barGapRatio>0&&s>M._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?("firefox"===t.Agent.browser||this._doNotRender||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2),this._origSize-=o)}if(!this._doNotRender){var u=this._createPointsArray();this.setPoints(u),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(A.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(A.OUTER_BORDER_WIDTH+A.INNER_BORDER_WIDTH))}},M.prototype._createPointsArray=function(t){var e=this._baselineCoord,i=this._endCoord,r=this._x1,a=this._x2;if(t>0){if(Math.abs(r-a)<2*t||Math.abs(e-i)<2*t)return[];r+=t,a-=t,i<e?(e-=t,i+=t):(e+=t,i-=t)}return this._bHoriz?[i,r,i,a,e,a,e,r]:[r,i,a,i,a,e,r,e]},M.prototype.getBoundingBox=function(){var e=Math.min(this._x2,this._x1),i=Math.min(this._endCoord,this._baselineCoord),r=Math.abs(this._x2-this._x1),a=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new t.Rectangle(i,e,a,r):new t.Rectangle(e,i,r,a)},M.prototype.getOriginalBarSize=function(){return this._origSize},M.prototype.getDimensionsSelf=function(t){return this.ConvertCoordSpaceRect(this.getBoundingBox(),t)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var T=function(e,i,r,a,n,s,o,l,h){this.Init(e.getCtx()),this._chart=e,this._bHoriz=nt.isHorizontal(e),this._styleOptions=h,this._innerColor=it.getSelectedInnerColor(this._chart),this._outerColor=it.getSelectedOuterColor(this._chart),this._hoverColor=t.SelectionEffectUtils.getHoverBorderColor(this._styleOptions._color);var u=i-r/2,g=i+r/2;it.getDataItemGaps(e)>0&&r>M._MIN_BAR_WIDTH_FOR_GAPS&&g--,this._render(u,g,a,n,s,o,l)};t.Obj.createSubclass(T,t.Shape),T.prototype._render=function(e,i,r,a,n,s,o){this._cleanUp();var l=this.getCtx();this._x1=Math.round(e),this._x2=Math.round(i),this._low=Math.round(r),this._q1=Math.round(a),this._q2=Math.round(n),this._q3=Math.round(s),this._high=Math.round(o);var h=i-e,u=it.getSizeInPixels(this._styleOptions.whiskerEndLength,h);u=Math.min(h,u),u=2*Math.floor((u-1)/2)+1;var g=Math.floor((e+i)/2)+.5,d=g-Math.floor(u/2)-.5,c=g+Math.floor(u/2)+.5;this._drawLine(g,this._low,g,this._high,"whisker"),this._drawLine(d,this._low,c,this._low,"whiskerEnd"),this._drawLine(d,this._high,c,this._high,"whiskerEnd"),this._q2Box=new t.Polygon(l,this._createQ2PointsArray(0));var p=et.getRectangleFill(this._chart,this._styleOptions.q2Color,this._styleOptions._q2Pattern,h);this._q2Box.setFill(p),this._applyCustomStyle(this._q2Box,"q2"),this.addChild(this._q2Box),this._q3Box=new t.Polygon(l,this._createQ3PointsArray(0));var _=et.getRectangleFill(this._chart,this._styleOptions.q3Color,this._styleOptions._q3Pattern,h);this._q3Box.setFill(_),this._applyCustomStyle(this._q3Box,"q3"),this.addChild(this._q3Box),this._drawMedianLine(0),this._borderColor=this._styleOptions.borderColor,this._borderColor&&(this._borderWidth=this._styleOptions.borderWidth,this._drawBorders(this._borderColor,this._borderWidth)),this.IsSelected&&(this.IsSelected=!1,this.setSelected(!0))},T.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this.isSelected()?this._drawBorders(this._hoverColor,A.OUTER_BORDER_WIDTH,this._innerColor,A.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,A.OUTER_BORDER_WIDTH_HOVER,this._innerColor,A.INNER_BORDER_WIDTH))},T.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?this._drawBorders(this._outerColor,A.OUTER_BORDER_WIDTH,this._innerColor,A.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},T.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?t?this._drawBorders(this._hoverColor,A.OUTER_BORDER_WIDTH,this._innerColor,A.INNER_BORDER_WIDTH):this._drawBorders(this._hoverColor,A.OUTER_BORDER_WIDTH_HOVER,this._innerColor,A.INNER_BORDER_WIDTH):t?this._drawBorders(this._outerColor,A.OUTER_BORDER_WIDTH,this._innerColor,A.INNER_BORDER_WIDTH):this._drawBorders(this._borderColor,this._borderWidth))},T.prototype.UpdateSelectionEffect=function(){},T.prototype.getDisplayAnimation=function(t){return this.getInsertAnimation(t)},T.prototype.getDeleteAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=[this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2];return i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},T.prototype.getInsertAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._getAnimationParams();return this._setAnimationParams([this._x1,this._x2,this._q2,this._q2,this._q2,this._q2,this._q2]),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,r),this.setAlpha(0),i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},T.prototype.getUpdateAnimation=function(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),a=i._getQ2Fill(),n=this._getQ2Fill();a.equals(n)||(this._setQ2Fill(a),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ2Fill,this._setQ2Fill,n));var s=i._getQ3Fill(),o=this._getQ3Fill();s.equals(o)||(this._setQ3Fill(s),r.getAnimator().addProp(t.Animator.TYPE_FILL,this,this._getQ3Fill,this._setQ3Fill,o));var l=this._getAnimationParams();return this._setAnimationParams(i._getAnimationParams()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,l),r},T.prototype._getAnimationParams=function(){return[this._x1,this._x2,this._low,this._q1,this._q2,this._q3,this._high]},T.prototype._setAnimationParams=function(t){this._render(t[0],t[1],t[2],t[3],t[4],t[5],t[6])},T.prototype._getQ2Fill=function(){return new t.SolidFill(this._styleOptions.q2Color)},T.prototype._setQ2Fill=function(t){this._styleOptions.q2Color=t.getColor()},T.prototype._getQ3Fill=function(){return new t.SolidFill(this._styleOptions.q3Color)},T.prototype._setQ3Fill=function(t){this._styleOptions.q3Color=t.getColor()},T.prototype._drawLine=function(e,i,r,a,n){var s=this._bHoriz?new t.Line(this.getCtx(),i,e,a,r):new t.Line(this.getCtx(),e,i,r,a);return this._applyCustomStyle(s,n),s.setPixelHinting(!0),this.addChild(s),s},T.prototype._drawMedianLine=function(e){if(!this._medianLine){var i=new t.Line(this.getCtx(),0,0,0,0);this._applyCustomStyle(i,"median"),i.setPixelHinting(!0),this.addChild(i),this._medianLine=i}var r=this._x1+e,a=this._x2-e,n=this._q2;this._bHoriz?(this._medianLine.setX1(n),this._medianLine.setX2(n),this._medianLine.setY1(r),this._medianLine.setY2(a)):(this._medianLine.setY1(n),this._medianLine.setY2(n),this._medianLine.setX1(r),this._medianLine.setX2(a))},T.prototype._drawBorders=function(e,i,r,a){if(!this._outerBorderShape){var n=this.getChildIndex(this._q2Box);this._innerBorderShape=new t.Polygon(this.getCtx()),this._innerBorderShape.setInvisibleFill(),this.addChildAt(this._innerBorderShape,n),this._outerBorderShape=new t.Polygon(this.getCtx()),this._outerBorderShape.setInvisibleFill(),this.addChildAt(this._outerBorderShape,n)}var s=0;i?(this._outerBorderShape.setPoints(this._createBoxPointsArray(0)),this._outerBorderShape.setSolidFill(e),s+=i,a?(this._innerBorderShape.setPoints(this._createBoxPointsArray(i)),this._innerBorderShape.setSolidFill(r),s+=a):this._innerBorderShape.setInvisibleFill()):(this._outerBorderShape.setInvisibleFill(),this._innerBorderShape.setInvisibleFill()),this._q2Box.setPoints(this._createQ2PointsArray(s)),this._q3Box.setPoints(this._createQ3PointsArray(s)),this._drawMedianLine(s)},T.prototype._createBoxPointsArray=function(t){var e,i,r=this._x1+t,a=this._x2-t;return this._q1<this._q3?(e=this._q1+t,i=this._q3-t):(e=this._q1-t,i=this._q3+t),this._createPointsArray(r,a,e,i)},T.prototype._createQ3PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q3?this._q3-t:this._q3+t,this._createPointsArray(i,r,a,e)},T.prototype._createQ2PointsArray=function(t){var e,i=this._x1+t,r=this._x2-t,a=this._q2;return e=this._q2<this._q1?this._q1-t:this._q1+t,this._createPointsArray(i,r,e,a)},T.prototype._createPointsArray=function(t,e,i,r){return this._bHoriz?[i,t,i,e,r,e,r,t]:[t,i,e,i,e,r,t,r]},T.prototype._applyCustomStyle=function(t,e){t.setStyle(this._styleOptions[e+"Style"]||this._styleOptions[e+"SvgStyle"],!0),t.setClassName(this._styleOptions[e+"ClassName"]||this._styleOptions[e+"SvgClassName"],!0)},T.prototype._cleanUp=function(){this.removeChildren(),this._q2Box=null,this._q3Box=null,this._medianLine=null,this._outerBorderShape=null,this._innerBorderShape=null};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var I=function t(e,i,r,a,n,s,o){this.Init(e),r=Math.max(2*Math.round(r/2),1);var l=Math.min(2*Math.ceil(t._BAR_WIDTH*r/2),r),h=Math.round(i)-r/2,u=h+r;if(null!=s&&null!=o){var g=Math.round(i)-l/2,d=g+l;this._rangeShape=new A(e,[g,s,d,s,d,o,g,o]),this.addChild(this._rangeShape)}this._changeShape=new A(e,[h,a,u,a,u,n,h,n]),this.addChild(this._changeShape),this.setPixelHinting(!0)};t.Obj.createSubclass(I,t.Container),I._BAR_WIDTH=.3,I.prototype.setChangeStyle=function(t,e,i,r,a){this._changeShape.setStyleProperties(t,e,i,r,a)},I.prototype.setRangeStyle=function(t,e,i,r){this._rangeShape&&this._rangeShape.setStyleProperties(t,e,i,null,r)},I.prototype.setSelected=function(t){this._changeShape.setSelected(t),this._rangeShape&&this._rangeShape.setSelected(t)},I.prototype.showHoverEffect=function(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()},I.prototype.hideHoverEffect=function(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()},I.prototype.getDisplayAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=this._changeShape.getPoints();if(this._changeShape.setPoints(I._getInitialPoints(r)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=this._rangeShape.getPoints();this._rangeShape.setPoints(I._getInitialPoints(a)),i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i},I.prototype.getDeleteAnimation=function(e){var i=new t.CustomAnimation(this.getCtx(),this,e),r=I._getInitialPoints(this._changeShape.getPoints());if(i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,r),this._rangeShape){var a=I._getInitialPoints(this._rangeShape.getPoints());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},I.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getDisplayAnimation(e);return i.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},I.prototype.getUpdateAnimation=function(e,i){var r=new t.CustomAnimation(this.getCtx(),this,e),a=this._changeShape.getPoints();this._changeShape.setPoints(i._changeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,a);var n=i._changeShape.getPrimaryFill(),s=this._changeShape.getPrimaryFill();if(i._changeShape.isSelected()||this._changeShape.isSelected()||n.equals(s)||(this._changeShape.setFill(n),r.getAnimator().addProp(t.Animator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,s)),this._rangeShape&&i._rangeShape){var o=this._rangeShape.getPoints();this._rangeShape.setPoints(i._rangeShape.getPoints()),r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,o)}return r},I.prototype.UpdateSelectionEffect=function(){},I._getInitialPoints=function(t){var e=t[0],i=t[2],r=(t[1]+t[5])/2;return[e,r,i,r,i,r,e,r]};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var O=function(t,e,i,r,a,n){this.x=t,this.y1=e,this.y2=i,this.groupIndex=r,this.group=a,this.filtered=n};t.Obj.createSubclass(O,t.Obj),O.prototype.isUpstep=function(t){return Math.abs(this.y2-t)>Math.abs(this.y1-t)},O.prototype.clone=function(){return new O(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var D=function(t,e,i,r,a,n,s,o,l,h,u,g){this.Init(t.getCtx()),this._chart=t,this._bArea=e,this._availSpace=i,this._baseline=r,this._style=a,this._className=n,this._fill=s,this._stroke=o,this._type=l,this._baseType=u||l,this._indicatorMap={},this.setCoords(h,g)};t.Obj.createSubclass(D,t.Container),D._INDICATOR_OFFSET=8,D.prototype.setCoords=function(t,e){this._arCoord=t,e&&(this._arBaseCoord=e),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()},D.prototype.getCoords=function(){return this._arCoord},D.prototype.getBaseCoords=function(){return this._arBaseCoord},D.prototype.getBaseline=function(){return this._baseline},D.prototype.isArea=function(){return this._bArea},D.prototype._getPointArrays=function(e,i){var r=[],a=[];r.push(a),e=D._convertToPointCoords(e);var n,s,o,l,h,u=nt.isPolar(this._chart),g="centeredStepped"==i||"centeredSegmented"==i,d=g||"stepped"==i||"segmented"==i,c=it.getGroupWidth(this._chart),p=t.Agent.isRightToLeft(this.getCtx())&&nt.isVertical(this._chart)?-1:1;u&&(n=e[e.length-1]);for(var _=!1,f=0;f<e.length;f++)null!=e[f]?(s=e[f],l=e[f]._isY2,o=g?s.x-c/2*p:s.x,l&&(_&&d&&(o+=c*p),_=!_),"curved"==i&&l&&a.push(null,null),n&&d&&this._pushCoord(a,o,n.y),this._bArea||"segmented"!=i&&"centeredSegmented"!=i||(a=[],r.push(a)),this._pushCoord(a,o,s.y),n=s):(Q.isMixedFrequency(this._chart)||d&&!u&&n&&!l&&(h=g?n.x+.5*c*p:n.x+c*p,this._pushCoord(a,h,n.y)),"jet"!=this._chart.getOptions()._environment&&Q.isMixedFrequency(this._chart)||(a=[],r.push(a),n=null));if(d&&!u&&n&&!l&&(h=g?n.x+.5*c*p:n.x+c*p,this._pushCoord(a,h,n.y)),u&&r.length>1){var v=r.pop();r[0]=v.concat(r[0])}return r},D.prototype._pushCoord=function(e,i,r){var a=pt.convertAxisCoord(this._chart,new t.Point(i,r),this._availSpace);e.push(Math.round(10*a.x)/10,Math.round(10*a.y)/10)},D.prototype._isRing=function(){if(!nt.isPolar(this._chart)||!Q.hasGroupAxis(this._chart)||this._arCoord.length<J.getGroupCount(this._chart))return!1;for(var t=0;t<this._arCoord.length;t++)if(null==this._arCoord[t].x)return!1;return!0},D.prototype._getSplineType=function(){return nt.isScatterBubble(this._chart)?t.PathUtils.SPLINE_TYPE_CARDINAL:nt.isPolar(this._chart)?this._isRing()?t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED:t.PathUtils.SPLINE_TYPE_CARDINAL:nt.isHorizontal(this._chart)?t.PathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:t.PathUtils.SPLINE_TYPE_MONOTONE_VERTICAL},D.prototype._renderLines=function(){for(var e,i=this._getPointArrays(this._arCoord,this._type),r=0;r<i.length;r++){var a=i[r];if(a&&a.length>1){if("curved"==this._type){var n=D._getCurvedPathCommands(a,!1,this._getSplineType());(e=new t.Path(this.getCtx(),n)).setFill(null)}else this._isRing()?(e=new t.Polygon(this.getCtx(),a)).setFill(null):e=new t.Polyline(this.getCtx(),a);e.setStroke(this._stroke),e.setClassName(this._className).setStyle(this._style),this.addChild(e)}}},D.prototype._renderAreas=function(){var e=this._arCoord,i=this._arBaseCoord;!nt.isPolar(this._chart)&&e.length>0&&i.length>0&&(e=e.slice(0),i=i.slice(0),null!=e[0].x&&null!=i[0].x&&(D._removeAreaEdge(e,0,this._baseline),D._removeAreaEdge(i,0,this._baseline),i[0].x=e[0].x),null!=e[e.length-1].x&&null!=i[i.length-1].x&&(D._removeAreaEdge(e,e.length-1,this._baseline),D._removeAreaEdge(i,i.length-1,this._baseline),i[i.length-1].x=e[e.length-1].x));var r=this._getPointArrays(e,this._type),a=this._getPointArrays(i,this._baseType);if(r.length==a.length)for(var n,s=0;s<r.length;s++){var o=r[s],l=a[s];if(!(o.length<2)){var h="curved"==this._type,u="curved"==this._baseType;this._isRing()&&(h||o.push(o[0],o[1]),l.length>=2&&!u&&l.push(l[0],l[1]));for(var g=[],d=0;d<l.length;d+=2)g.unshift(l[d],l[d+1]);if(h||u){var c=this._getSplineType(),p=h?D._getCurvedPathCommands(o,!1,c):t.PathUtils.polyline(o,!1);p+=u?D._getCurvedPathCommands(g,!0,c):t.PathUtils.polyline(g,!0),p+=t.PathUtils.closePath(),n=new t.Path(this.getCtx(),p)}else{var _=g.concat(o);n=new t.Polygon(this.getCtx(),_)}n.setFill(this._fill),n.setClassName(this._className).setStyle(this._style),this._stroke&&n.setStroke(this._stroke),this.addChild(n)}}},D.prototype._positionIndicators=function(){for(var e,i,r,a,n,s=0;s<this._arCoord.length;s++)n=this._arCoord[s],(e=this._indicatorMap[n.groupIndex])&&e.indicator&&(a=(n.isUpstep(this._baseline)?n.y2:n.y1)+D._INDICATOR_OFFSET*(e.direction==Z.DIR_UP?-1:1),r=pt.convertAxisCoord(this._chart,new t.Point(n.x,a),this._availSpace),(i=e.indicator).setTranslate(r.x,r.y),i.setAlpha(1),i.getParent().addChild(i))},D.prototype.getAnimationParams=function(t){return D._coordsToAnimationParams(this._arCoord,t?t._arCoord:null,this._baseline)},D.prototype.setAnimationParams=function(t){var e=D._animationParamsToCoords(t);this.setCoords(e)},D.prototype.getBaseAnimationParams=function(t){return D._coordsToAnimationParams(this._arBaseCoord,t?t._arBaseCoord:null,this._baseline)},D.prototype.setBaseAnimationParams=function(t){this._arBaseCoord=D._animationParamsToCoords(t)},D.prototype.getCommonGroupIndices=function(t){for(var e=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var r=0;r<t._arCoord.length;r++)if(!t._arCoord[r].filtered&&null!=t._arCoord[r].x&&this._arCoord[i].group==t._arCoord[r].group){e.push(this._arCoord[i].groupIndex);break}return e},D.prototype.addIndicator=function(t,e,i){i.setAlpha(0),this._indicatorMap[t]={direction:e,indicator:i}},D.prototype.removeIndicators=function(){for(var t in this._indicatorMap){var e=this._indicatorMap[t].indicator;e&&e.getParent().removeChild(e)}this._indicatorMap={}},D._convertToPointCoords=function(e){for(var i=[],r=0;r<e.length;r++)if(!e[r].filtered)if(null==e[r].x)i.push(null);else if(i.push(new t.Point(e[r].x,e[r].y1)),e[r].y1!=e[r].y2){var a=new t.Point(e[r].x,e[r].y2);a._isY2=!0,i.push(a)}return i},D._coordsToAnimationParams=function(t,e,i){if(e&&e.length>0)if(t&&t.length>0){t=t.slice(0);for(var r,a,n,s=D._coordsToGroups(e),o=D._coordsToGroups(t),l=t.length,h=s.length-1;h>=0;h--)r=s[h],-1==(a=o.indexOf(r))?(0==l?(n=t[0].clone(),t[0]=t[0].clone(),D._removeCoordJump(n,t[0],i)):(n=t[l-1].clone(),t[l-1]=t[l-1].clone(),D._removeCoordJump(t[l-1],n,i)),n.groupIndex=-1,t.splice(l,0,n)):l=a}else{t=[];for(h=0;h<e.length;h++)t.push(new O(e[h].x,i,i))}for(var u=[],g=0;g<t.length;g++)t[g].filtered||(null==t[g].x?(u.push(1/0),u.push(1/0),u.push(1/0)):(u.push(t[g].x),u.push(t[g].y1),u.push(t[g].y2)),u.push(t[g].groupIndex));return u},D._animationParamsToCoords=function(t){for(var e=[],i=0;i<t.length;i+=4)t[i]==1/0||isNaN(t[i])?e.push(new O(null,null,null,t[i+3])):e.push(new O(t[i],t[i+1],t[i+2],t[i+3]));return e},D._coordsToGroups=function(t){for(var e=[],i=0;i<t.length;i++)t[i].filtered||e.push(t[i].group);return e},D._removeCoordJump=function(t,e,i){t.isUpstep(i)?e.y1=e.y2:t.y2=t.y1},D._getCurvedPathCommands=function(e,i,r){var a=[],n=[];a.push(n);for(var s=0;s<e.length;s+=2)null==e[s]?(n=[],a.push(n)):n.push(e[s],e[s+1]);if(r==t.PathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&a.length>1){var o=a.pop();a[0]=o.concat(a[0]),r=t.PathUtils.SPLINE_TYPE_CARDINAL}var l="";for(s=0;s<a.length;s++)n=a[s],l+=t.PathUtils.curveThroughPoints(n,i,r),i=!0;return l},D._removeAreaEdge=function(t,e,i){var r=t[e].clone();r.isUpstep(i)?r.y1=r.y2:r.y2=r.y1,t[e]=r};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var E=function t(e,i,r,a,n,s){this.Init(e,i,r,a,n,n,null,null,!0),s&&this.setStroke(t.DEFAULT_STROKE)};t.Obj.createSubclass(E,t.SimpleMarker),E.DEFAULT_STROKE=new t.Stroke("none"),E.SELECTED_FILL=new t.SolidFill("#FFFFFF"),E.SELECTED_STROKE=new t.Stroke("#5A5A5A",1,1.5),E.prototype.setDataColor=function(e){this._dataColor=e,this._hoverStroke=new t.Stroke(e,1,1.5)},E.prototype.getDataColor=function(){return this._dataColor},E.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)},E.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?E.SELECTED_STROKE:E.DEFAULT_STROKE)},E.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this.setFill(E.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:E.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:E.DEFAULT_STROKE)))},E.prototype.UpdateSelectionEffect=function(){};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var P=function(t){this.Init(t.getCtx(),t.processEvent,t),this._parentChart=t,this._chart=t.overview?t.overview.getBackgroundChart():null,this._id=t.getId()+"_overview"};t.Obj.createSubclass(P,t.Overview),P.prototype._renderChart=function(e,i,r){this._chartContainer=new t.Container(this.getCtx()),this.addChild(this._chartContainer);e=t.JsonUtils.merge({legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0},e),Q.hasGroupAxis(this._parentChart)&&(e.xAxis.tickLabel.rendered="off"),nt.isStock(this._parentChart)&&e.series&&e.series[0]&&(e.series=[e.series[0]],e.series[0].type="lineWithArea");var a=this._parentChart.getOptions().overview.content,n="on"===(e=t.JsonUtils.merge(a,e)).yAxis.rendered,s="on"===e.y2Axis.rendered;e.zoomAndScroll="off",this._chart||(this._chart=t.Chart.newInstance(this.getCtx()),this._chart.setId(this._id));var o=i,l=this._parentChart.__getPlotAreaSpace().x;n&&(o=l+i,e.yAxis.size=l),s&&(o=this._parentChart.getWidth()-(n?0:l),e.y2Axis.size=this._parentChart.getWidth()-(l+i)),this._chartContainer.addChild(this._chart),this._chart.render(e,o,r);var h=new t.Rect(this.getCtx(),0,0,o,r);h.setInvisibleFill(),this._chartContainer.addChild(h),this._chart.getEventManager().setKeyboardHandler(null);var u=this._chart.__getPlotAreaSpace();if(n){var g=this._chartContainer.getTranslateX()-u.x;this._chartContainer.setTranslateX(g)}return new t.Dimension(i,u.h+u.y)},P.prototype.render=function(t,e,i){t.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundImage:t.chart._resources.overviewGrippy,handleWidth:3,handleHeight:15,handleFillColor:"rgba(0,0,0,0)"},t.animationOnClick="off";var r=this._renderChart(t.chart,e,i);P.superclass.render.call(this,t,r.w,r.h)},P.prototype.destroy=function(){P.superclass.destroy.call(this),this._parentChart=null,this._chart=null},P.prototype.getBackgroundChart=function(){return this._chart},P.prototype.isBackgroundRendered=function(){return!1},P.prototype.isLeftAndRightFilterRendered=function(){return!0},P.prototype.HandleKeyDown=function(t){},P.prototype.HandleKeyUp=function(t){};
/**
   * @license
   * Copyright (c) 2011 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var L=function t(e,i,r,a,n,s,o){this.Init(e.getCtx()),this._axisCoord=i,this._availSpace=o.clone(),this._bbox=null,this._dataItemGaps=it.getDataItemGaps(e)*t._MAX_DATA_ITEM_GAP,this._setBarCoords(r,a,n,s)};t.Obj.createSubclass(L,x),L._MIN_BAR_LENGTH_FOR_GAPS=4,L._MAX_DATA_ITEM_GAP=3,L.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]},L.prototype.setAnimationParams=function(t,e){this._setBarCoords(t[0],t[1],t[2],t[3])},L.prototype.getPrimaryFill=function(){return this.getFill()},L.prototype.getDisplayAnimation=function(e){var i=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,0,0]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r},L.prototype.getDeleteAnimation=function(e){var i=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),r},L.prototype.getInsertAnimation=function(e){this.setAlpha(0);var i=this.getAnimationParams();this.setAnimationParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var r=new t.CustomAnimation(this.getCtx(),this,e);return r.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,i),r.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),r},L.prototype._setBarCoords=function(e,i,r,a){var n=this._availSpace.x+this._availSpace.w/2,s=this._availSpace.y+this._availSpace.h/2,o=Math.max(i,e),l=Math.abs(i-e)>=L._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=e?Math.min(i,e)+this._dataItemGaps:Math.min(i,e),h=360-t.Math.radsToDegrees(Math.max(r,a))+90,u=t.Math.radsToDegrees(Math.abs(a-r));this.setWedgeParams(n,s,o,o,h,u,this._dataItemGaps,l);var g=pt.polarToCartesian(e,r,this._availSpace),d=pt.polarToCartesian(e,a,this._availSpace),c=pt.polarToCartesian(i,r,this._availSpace),p=pt.polarToCartesian(i,a,this._availSpace),_=Math.min(g.x,d.x,c.x,p.x),f=Math.max(g.x,d.x,c.x,p.x),v=Math.min(g.y,d.y,c.y,p.y),m=Math.max(g.y,d.y,c.y,p.y);this._bbox=new t.Rectangle(_,v,f-_,m-v),this._baselineCoord=e,this._endCoord=i,this._x1=r,this._x2=a},L.prototype.getBoundingBox=function(){return this._bbox},L.prototype.getOriginalBarSize=function(){return this._bbox.w};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var w=function(t,e,i,r,a,n,s){this.Init(t),this._markerSize=n,this._isInvisible=s,this._drawPath(e,i,r,a)};t.Obj.createSubclass(w,t.Path),w.prototype._drawPath=function(e,i,r,a){var n=Math.atan2(a-i,r-e),s=this._markerSize/2,o=Math.PI/8,l=t.PathUtils.moveTo(e+s*Math.cos(n+o),i+s*Math.sin(n+o))+t.PathUtils.arcTo(s,s,2*(Math.PI-o),1,e+s*Math.cos(n-o),i+s*Math.sin(n-o))+t.PathUtils.lineTo(r-s*Math.cos(n+o),a-s*Math.sin(n+o))+t.PathUtils.arcTo(s,s,2*(Math.PI-o),1,r-s*Math.cos(n-o),a-s*Math.sin(n-o))+t.PathUtils.closePath();this.setCmds(l),this._x1=e,this._y1=i,this._x2=r,this._y2=a},w.prototype.setStyleProperties=function(e,i,r,a,n){this._dataColor=r;var s=t.SelectionEffectUtils.getHoverBorderColor(r);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new t.Stroke(s,1,1.5)):(this.setFill(e),this.setStroke(i),this.setHoverStroke(new t.Stroke(a,1,1),new t.Stroke(s,1,3.5)),this.setSelectedStroke(new t.Stroke(a,1,1.5),new t.Stroke(n,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(a,1,1.5),new t.Stroke(s,1,4.5)))},w.prototype.getDataColor=function(){return this._dataColor},w.prototype.showHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):w.superclass.showHoverEffect.call(this)},w.prototype.hideHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?E.SELECTED_STROKE:E.DEFAULT_STROKE)):w.superclass.hideHoverEffect.call(this)},w.prototype.setSelected=function(t){if(this._isInvisible){if(this.IsSelected==t)return;this.IsSelected=t,this.isSelected()?(this.setFill(E.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:E.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:E.DEFAULT_STROKE))}else w.superclass.setSelected.call(this,t)},w.prototype.UpdateSelectionEffect=function(){this._isInvisible||w.superclass.UpdateSelectionEffect.call(this)},w.prototype.getAnimationParams=function(){return[this._x1,this._y1,this._x2,this._y2]},w.prototype.setAnimationParams=function(t){this._drawPath(t[0],t[1],t[2],t[3])},w.prototype.isInvisible=function(){return this._isInvisible},w.prototype.getBoundingBox=function(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())},w.prototype.getBoundingBox1=function(){return new t.Rectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)},w.prototype.getBoundingBox2=function(){return new t.Rectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var R=function(t,e,i){this.Init(t,e,i)};t.Obj.createSubclass(R,t.Container),R.BEHAVIOR_SNAP="SNAP",R.BEHAVIOR_SMOOTH="SMOOTH",R.BEHAVIOR_AUTO="AUTO",R.TOOLTIP_ID="_dvtDataCursor",R.prototype.Init=function(e,i,r){R.superclass.Init.call(this,e),this._bHoriz=r,this._options=i,this.setMouseEnabled(!1),this.setVisible(!1);var a=i.lineWidth,n=i.lineColor,s=new t.Stroke(n,1,a,!1,t.Stroke.getDefaultDashProps(i.lineStyle,a));if(this._cursorLine=new t.Line(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(s),this.addChild(this._cursorLine),"off"!=i.markerDisplayed){this._marker=new t.Container(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var o=i.markerSize,l=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o+4*a,o+4*a);l.setSolidFill(n),this._marker.addChild(l);var h=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o+2*a,o+2*a);h.setSolidFill("white"),this._marker.addChild(h),this._markerInnerCircle=new t.SimpleMarker(this._context,t.SimpleMarker.CIRCLE,0,0,o,o),this._marker.addChild(this._markerInnerCircle)}},R.prototype.render=function(e,i,r,a,n,s){var o,l=this.isHorizontal(),h=t.Agent.isRightToLeft(this.getCtx());if(null!=n&&""!=n){var u=this.getCtx().getStageAbsolutePosition(),g=this.getCtx().getTooltipManager(R.TOOLTIP_ID);g.showDatatip(i+u.x,r+u.y,n,s,!1),o=g.getTooltipBounds();var d,c,p=this._options.markerSize+4*this._options.lineWidth;l?(d=h?e.x-.75*o.w:e.x+e.w-o.w/4,c=a-o.h/2,!h&&d-i<p?d=i+p:h&&i-(d+o.w)<p&&(d=i-p-o.w)):(d=a-o.w/2,r-((c=e.y-.75*o.h)+o.h)<p&&(c=r-p-o.h)),g.positionTip(d+u.x,c+u.y),(o=g.getTooltipBounds()).x-=u.x,o.y-=u.y}if(l?(this._cursorLine.setTranslateY(a),h?(this._cursorLine.setX1(o?o.x+o.w-1:e.x),this._cursorLine.setX2(e.x+e.w)):(this._cursorLine.setX1(e.x),this._cursorLine.setX2(o?o.x+1:e.x+e.w))):(this._cursorLine.setTranslateX(a),this._cursorLine.setY1(o?o.y+o.h-1:e.y),this._cursorLine.setY2(e.y+e.h)),this._marker){this._marker.setTranslate(i,r);var _=this._options.markerColor;this._markerInnerCircle.setSolidFill(_||s),t.Agent.workaroundFirefoxRepaint(this._marker)}},R.prototype.isHorizontal=function(){return this._bHoriz},R.prototype.getBehavior=function(){return this._behavior?this._behavior:R.BEHAVIOR_AUTO},R.prototype.setBehavior=function(t){this._behavior=t};
/**
   * @license
   * Copyright (c) 2013 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var B=function(t,e,i,r,a,n,s,o,l){this.Init(t,e,i,r,a,n,s,o,l)};t.Obj.createSubclass(B,t.Path),B.prototype.Init=function(e,i,r,a,n,s,o,l,h){B.superclass.Init.call(this,e.getCtx()),this._chart=e;var u=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._funnelWidth=a,this._funnelHeight=n,this._startPercent=s,this._valuePercent=o,this._fillPercent=l,this._3dRatio="on"==u.threeDEffect?1:0,this._gap=h;var g=this._getPath();this._dataColor=it.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=u.backgroundColor?u.backgroundColor:u.funnelBackgroundColor,this.setCmds(g.slice),g.bar&&(this._bar=new t.Path(this.getCtx(),g.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProperties(g.sliceBounds),this._label=this._getSliceLabel(g.sliceBounds,g.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},B._FUNNEL_3D_WIDTH_RATIO=.08,B._FUNNEL_ANGLE_2D=36,B._FUNNEL_RATIO=1/3,B._BORDER_COLOR="#FFFFFF",B._MIN_CHARS_DATA_LABEL=3,B._LINE_FRACTION=2/3,B._AREA_FRACTION=.41,B._HEIGHT_FRACTION=.28,B._LINE_FRACTION_2=.4,B._AREA_FRACTION_2=.8,B._HEIGHT_FRACTION_2=.7,B.prototype._getPath=function(){var e=t.Agent.isRightToLeft(this.getCtx()),i=J.getSeriesCount(this._chart),r=(this._numDrawnSeries+1)*this._gap,a=t.Math.degreesToRads(B._FUNNEL_ANGLE_2D-2*this._3dRatio),n=this._funnelWidth-i*this._gap,s=n/Math.sin(t.Math.degreesToRads(B._FUNNEL_ANGLE_2D)),o=this._funnelHeight/Math.sin(a),l=this._3dRatio*this._funnelWidth/this._funnelHeight*B._FUNNEL_3D_WIDTH_RATIO;l<1e-5&&(l=0);var h,u,g,d,c,p,_,f,v,m,S,C,y=this._funnelHeight,x=this._funnelHeight*B._FUNNEL_RATIO;this._startPercent<B._AREA_FRACTION?(h=this._startPercent,g=y,c=this._funnelHeight*B._LINE_FRACTION,_=B._AREA_FRACTION,v=n*B._HEIGHT_FRACTION,S=n*(1-B._HEIGHT_FRACTION)):this._startPercent<B._AREA_FRACTION_2?(h=this._startPercent-B._AREA_FRACTION,g=this._funnelHeight*B._LINE_FRACTION,c=this._funnelHeight*B._LINE_FRACTION_2,_=B._AREA_FRACTION_2-B._AREA_FRACTION,v=n*(B._HEIGHT_FRACTION_2-B._HEIGHT_FRACTION),S=n*(1-B._HEIGHT_FRACTION_2)):(h=this._startPercent-B._AREA_FRACTION_2,g=this._funnelHeight*B._LINE_FRACTION_2,c=x,_=1-B._AREA_FRACTION_2,v=n*(1-B._HEIGHT_FRACTION_2),S=0),this._startPercent+this._valuePercent<B._AREA_FRACTION?(d=y,p=this._funnelHeight*B._LINE_FRACTION,u=this._startPercent+this._valuePercent,f=B._AREA_FRACTION,m=n*B._HEIGHT_FRACTION,C=n*(1-B._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<B._AREA_FRACTION_2?(d=this._funnelHeight*B._LINE_FRACTION,p=this._funnelHeight*B._LINE_FRACTION_2,u=this._startPercent+this._valuePercent-B._AREA_FRACTION,f=B._AREA_FRACTION_2-B._AREA_FRACTION,m=n*(B._HEIGHT_FRACTION_2-B._HEIGHT_FRACTION),C=n*(1-B._HEIGHT_FRACTION_2)):(d=this._funnelHeight*B._LINE_FRACTION_2,p=x,u=this._startPercent+this._valuePercent-B._AREA_FRACTION_2,f=1-B._AREA_FRACTION_2,m=n*(1-B._HEIGHT_FRACTION_2),C=0);var A,b,M,T=Math.sqrt((_-h)/_*g*g+h/_*c*c),I=Math.sqrt((f-u)/f*d*d+u/f*p*p),O=.98*Math.asin(((T-c)*v/(g-c)+S)/s),D=.98*Math.asin(((I-p)*m/(d-p)+C)/s),E=(1+B._FUNNEL_RATIO)/2*this._funnelHeight+o,P=(1-B._FUNNEL_RATIO)/2*this._funnelHeight-o;e?(A=[s*Math.sin(O)+r,E-o*Math.cos(O),s*Math.sin(D)+r,E-o*Math.cos(D),s*Math.sin(D)+r,P+o*Math.cos(D),s*Math.sin(O)+r,P+o*Math.cos(O)],b=0,M=1):(A=[this._funnelWidth-r-s*Math.sin(O),E-o*Math.cos(O),this._funnelWidth-r-s*Math.sin(D),E-o*Math.cos(D),this._funnelWidth-r-s*Math.sin(D),P+o*Math.cos(D),this._funnelWidth-r-s*Math.sin(O),P+o*Math.cos(O)],b=1,M=0);var L=t.PathUtils.moveTo(A[0],A[1]),w=null;L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,M,A[6],A[7]),L+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,Math.PI,M,A[0],A[1]),L+=t.PathUtils.arcTo(s,o,a,b,A[2],A[3]),L+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,Math.PI,M,A[4],A[5]),L+=t.PathUtils.arcTo(s,o,a,b,A[6],A[7]);var R=new t.Rectangle(Math.min(A[0],A[2]),A[5],Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5]));if(null!=this._fillPercent){var k=Math.max(Math.min(this._fillPercent,1),0),F=e?-k*Math.PI:k*Math.PI;w=t.PathUtils.moveTo(A[0],A[1]),w+=t.PathUtils.arcTo(s,o,a,b,A[2],A[3]),w+=t.PathUtils.arcTo(l*(A[3]-A[5])/2,(A[3]-A[5])/2,F,M,A[2]+l*(A[3]-A[5])/2*Math.sin(F),(A[5]+A[3])/2+(A[3]-A[5])/2*Math.cos(F)),this._fillPercent>.95?w+=t.PathUtils.arcTo(s,o,a,b,A[6],A[1]+k*(A[7]-A[1])):this._fillPercent<.05?w+=t.PathUtils.arcTo(s,o,a,M,A[6],A[1]+k*(A[7]-A[1])):w+=t.PathUtils.lineTo(A[6]+l*(A[1]-A[7])/2*Math.sin(F),(A[7]+A[1])/2+(A[1]-A[7])/2*Math.cos(F)),w+=t.PathUtils.arcTo(l*(A[1]-A[7])/2,(A[1]-A[7])/2,F,b,A[0],A[1]),w+=t.PathUtils.closePath();var N=new t.Rectangle(Math.min(A[0],A[2]),A[5]+Math.abs(A[3]-A[5])*(1-k),Math.abs(A[0]-A[2]),Math.abs(A[3]-A[5])*k)}return{slice:L,bar:w,sliceBounds:R,barBounds:w?N:R}},B.prototype._getSliceLabel=function(e,i){var r=J.getDataLabel(this._chart,this._seriesIndex,0);if(r||(r=J.getSeriesLabel(this._chart,this._seriesIndex)),r&&"none"!=it.getDataLabelPosition(this._chart,this._seriesIndex,0)){var a=new t.MultilineText(this.getCtx(),r,0,0),n=null!=it.getPattern(this._chart,this._seriesIndex,0),s=[this._chart.getOptions().styleDefaults.dataLabelStyle,new t.CSSStyle(J.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],o=t.CSSStyle.mergeStyles(s);if(a.setCSSStyle(o),t.TextUtils.fitText(a,e.h-this._3dRatio*(.8-this._valuePercent)*50,e.w,this,B._MIN_CHARS_DATA_LABEL)){var l=a.getDimensions(),h=this._getLabelPosition(e);if(n){var u=.15*l.h,g=t.Agent.isRightToLeft(this.getCtx())?.5:-.5,d=t.PathUtils.roundedRectangle(l.x-u,l.y,l.w+2*u,l.h,2,2,2,2),c=new t.Path(this.getCtx(),d);c.setSolidFill("#FFFFFF",.9),h=h.translate(g*l.h,-g*l.w),c.setMatrix(h),this.addChild(c)}var p=n?"#000000":i.containsPoint(e.x,e.y+(e.h-l.w)/2)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(this._backgroundColor);return o.getStyle("color")&&!t.Agent.isHighContrast()||a.setCSSStyle(o.setStyle("color",p)),a.setMatrix(this._getLabelPosition(e)),a.alignCenter(),a.alignMiddle(),a}}},B.prototype._getLabelPosition=function(e){var i=this._3dRatio*(e.h*this._funnelWidth/this._funnelHeight*B._FUNNEL_3D_WIDTH_RATIO/2),r=new t.Matrix;return r=t.Agent.isRightToLeft(this.getCtx())?(r=r.rotate(Math.PI/2)).translate(e.x+e.w/2-i,e.y+e.h/2):(r=r.rotate(3*Math.PI/2)).translate(e.x+e.w/2+i,e.y+e.h/2)},B.prototype._setColorProperties=function(e){var i=et.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=it.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=B._BORDER_COLOR);var a=it.getBorderWidth(this._chart,this._seriesIndex,0),n=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor),s=et.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._backgroundColor,e,!0);this._bar?(this.setFill(s),this._bar.setFill(i),this._bar.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this._bar.setClassName(it.getClassName(this._chart,this._seriesIndex,0))):(this.setFill(i),this.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(it.getClassName(this._chart,this._seriesIndex,0))),r&&this.setSolidStroke(r,null,a),this.OriginalStroke=this.getStroke();var o=null!=this._bar?this._bar:this;if(o.setHoverStroke(new t.Stroke(n,1,2)),this._chart.isSelectionSupported()){var l=it.getSelectedInnerColor(this._chart),h=it.getSelectedOuterColor(this._chart)?it.getSelectedOuterColor(this._chart):this._dataColor;o.setSelectedStroke(new t.Stroke(l,1,1.5),new t.Stroke(h,1,4.5)),o.setSelectedHoverStroke(new t.Stroke(l,1,1.5),new t.Stroke(n,1,4.5)),this.setCursor(t.SelectionEffectUtils.getSelectingCursor())}},B.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]},B.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this._fillPercent=null!=this._fillPercent?t[2]:null,this.setAlpha(t[3]),this._3dRatio=t[4];var e=this._getPath();this.setCmds(e.slice),e.bar&&this._bar&&this._bar.setCmds(e.bar),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},B.prototype.setSelected=function(t){if(null!=this._bar){if(this.IsSelected==t)return;this.IsSelected=t,this._bar.setSelected(t)}else B.superclass.setSelected.call(this,t);var e=this.getDimensions(),i=null!=this._bar?this._bar:this,r=e.w;t?(i.setScaleX((r-3)/r),i.setTranslateX(Math.ceil(1.5)+3/r*e.x)):(i.setScaleX(1),i.setTranslateX(0))},B.prototype.showHoverEffect=function(){null!=this._bar?this._bar.showHoverEffect():B.superclass.showHoverEffect.call(this)},B.prototype.hideHoverEffect=function(){null!=this._bar?this._bar.hideHoverEffect():B.superclass.hideHoverEffect.call(this)},B.prototype.copyShape=function(){return new B(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var k=function(t,e,i,r,a,n,s,o){this.Init(t,e,i,r,a,n,s,o)};t.Obj.createSubclass(k,t.Path),k.prototype.Init=function(e,i,r,a,n,s,o,l){k.superclass.Init.call(this,e.getCtx()),this._chart=e;var h=e.getOptions().styleDefaults;this._seriesIndex=i,this._numDrawnSeries=r,this._pyramidWidth=a,this._pyramidHeight=n,this._startPercent=s,this._valuePercent=o,this._3dRatio="on"==h.threeDEffect?1:0,this._gap=l;var u=this._getPath();this._dataColor=it.getColor(this._chart,this._seriesIndex,0),this._3dRatio>0?(this.setCmds(u.threeDPathTop),this._threeDPathSide=new t.Path(this.getCtx(),u.threeDPathSide),this._mainFace=new t.Path(this.getCtx(),u.slice),this.addChild(this._threeDPathSide),this.addChild(this._mainFace)):this.setCmds(u.slice),this._setColorProperties(u.sliceBounds),this._label=this._getSliceLabel(u.sliceBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},k._BORDER_COLOR="#FFFFFF",k._MIN_CHARS_DATA_LABEL=3,k._SLICE_LABEL_HORIZONTAL_PADDING=4,k._3D_WIDTH_FACTOR=.2,k.prototype._getPath=function(){var e,i,r,a,n,s,o=t.Agent.isRightToLeft(this.getCtx()),l=J.getSeriesCount(this._chart),h=(l-this._numDrawnSeries-1)*this._gap,u=this._3dRatio*k._3D_WIDTH_FACTOR*.98*this._pyramidWidth,g=this._chart.getOptions(),d=Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent)),c=this._startPercent+this._valuePercent>=1?0:Math.sqrt(Math.pow(this._pyramidHeight-(l-1)*this._gap,2)*(1-this._startPercent-this._valuePercent)),p=.98*(1-this._3dRatio*k._3D_WIDTH_FACTOR)*this._pyramidWidth*(c/this._pyramidHeight),_=0==this._numDrawnSeries?d:d-this._gap,f=.98*(1-this._3dRatio*k._3D_WIDTH_FACTOR)*this._pyramidWidth*(_/this._pyramidHeight);if(o?(i=[this._pyramidWidth-.5*this._pyramidWidth+u/2-p/2,h+c],a=[this._pyramidWidth-.5*this._pyramidWidth+u/2-f/2,h+d],r=[this._pyramidWidth-.5*this._pyramidWidth+u/2+f/2,h+d],e=[this._pyramidWidth-.5*this._pyramidWidth+u/2+p/2,h+c]):(e=[.5*this._pyramidWidth-u/2-p/2,h+c],r=[.5*this._pyramidWidth-u/2-f/2,h+d],a=[.5*this._pyramidWidth-u/2+f/2,h+d],i=[.5*this._pyramidWidth-u/2+p/2,h+c]),"on"==g.styleDefaults.threeDEffect){var v=this._3dRatio*k._3D_WIDTH_FACTOR*f*Math.sqrt(2)/2,m=this._3dRatio*k._3D_WIDTH_FACTOR*p*Math.sqrt(2)/2;n=t.PathUtils.moveTo(i[0],i[1]),n+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(m,1),i[1]-Math.max(m,.5)),n+=t.PathUtils.lineTo(e[0]+(o?-1:1)*Math.max(m,1),e[1]-Math.max(m,.5)),n+=t.PathUtils.lineTo(e[0],e[1]),n+=t.PathUtils.closePath(),s=t.PathUtils.moveTo(i[0],i[1]),s+=t.PathUtils.lineTo(i[0]+(o?-1:1)*Math.max(m,1),i[1]-Math.max(m,.5)),s+=t.PathUtils.lineTo(a[0]+(o?-1:1)*v,a[1]-v),s+=t.PathUtils.lineTo(a[0],a[1]),s+=t.PathUtils.closePath()}var S=t.PathUtils.moveTo(i[0],i[1]);S+=t.PathUtils.lineTo(a[0],a[1]),S+=t.PathUtils.lineTo(r[0],r[1]),S+=t.PathUtils.lineTo(e[0],e[1]),S+=t.PathUtils.closePath();var C=p/f,y=.5*Math.abs(e[1]-r[1])*(1+C),x=.5*Math.abs(a[0]-r[0])*(1+C)-k._SLICE_LABEL_HORIZONTAL_PADDING,A=r[1]-y,b=r[0]+(f-x)/2*(o?-1:1);return{slice:S,sliceBounds:new t.Rectangle(b,A,x,y),threeDPathTop:n,threeDPathSide:s}},k.prototype._getSliceLabel=function(e){var i=J.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=J.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=it.getDataLabelPosition(this._chart,this._seriesIndex,0)){var r=new t.MultilineText(this.getCtx(),i,0,0),a=null!=it.getPattern(this._chart,this._seriesIndex,0),n=[this._chart.getOptions().styleDefaults.dataLabelStyle,new t.CSSStyle(J.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],s=t.CSSStyle.mergeStyles(n);if(r.setCSSStyle(s),t.TextUtils.fitText(r,e.w,e.h,this,k._MIN_CHARS_DATA_LABEL)){var o=r.getDimensions(),l=this._getLabelPosition(e);if(a){var h=.15*o.h,u=t.PathUtils.roundedRectangle(o.x-h,o.y,o.w+2*h,o.h,2,2,2,2),g=new t.Path(this.getCtx(),u);g.setSolidFill("#FFFFFF",.9),l=l.translate(-.5*o.w,-.5*o.h),g.setMatrix(l),this.addChild(g)}var d=a?"#000000":e.containsPoint(e.x+(e.w-o.w)/2,e.y)?t.ColorUtils.getContrastingTextColor(this._dataColor):t.ColorUtils.getContrastingTextColor(null);return s.getStyle("color")&&!t.Agent.isHighContrast()||r.setCSSStyle(s.setStyle("color",d)),r.setMatrix(this._getLabelPosition(e)),r.alignCenter(),r.alignMiddle(),r}}},k.prototype._getLabelPosition=function(e){var i=new t.Matrix;return i=t.Agent.isRightToLeft(this.getCtx())?i.translate(e.x-e.w/2,e.y+e.h/2):i.translate(e.x+e.w/2,e.y+e.h/2)},k.prototype._setColorProperties=function(e){var i=et.getFunnelPyramidSliceFill(this._chart,this._seriesIndex,this._dataColor,e),r=it.getBorderColor(this._chart,this._seriesIndex,0);null==r&&this._3dRatio>0&&(r=k._BORDER_COLOR);var a=it.getBorderWidth(this._chart,this._seriesIndex,0),n=t.SelectionEffectUtils.getHoverBorderColor(this._dataColor);if(this._3dRatio>0){var s=!i.getPattern&&!i.getAlphas;this._mainFace.setFill(i),this._mainFace.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this._mainFace.setClassName(it.getClassName(this._chart,this._seriesIndex,0)),this._threeDPathSide.setFill(s?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this._threeDPathSide.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this._threeDPathSide.setClassName(it.getClassName(this._chart,this._seriesIndex,0)),this.setFill(s?new t.SolidFill(t.ColorUtils.getDarker(i.getColor(),.3)):i),this.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(it.getClassName(this._chart,this._seriesIndex,0))}else this.setFill(i),this.setStyle(it.getStyle(this._chart,this._seriesIndex,0)),this.setClassName(it.getClassName(this._chart,this._seriesIndex,0));if(r&&(this.setSolidStroke(r,null,a),this._3dRatio>0&&(this._threeDPathSide.setSolidStroke(r,null,a),this._mainFace.setSolidStroke(r,null,a))),this.OriginalStroke=this.getStroke(),this.setHoverStroke(new t.Stroke(n,1,2)),this._3dRatio>0&&(this._threeDPathSide.setHoverStroke(new t.Stroke(n,1,2)),this._mainFace.setHoverStroke(new t.Stroke(n,1,2))),this._chart.isSelectionSupported()){var o=it.getSelectedInnerColor(this._chart),l=it.getSelectedOuterColor(this._chart)?it.getSelectedOuterColor(this._chart):this._dataColor;this._3dRatio>0?(this._mainFace.setSelectedStroke(new t.Stroke(o,1,1.5),new t.Stroke(l,1,4.5)),this._mainFace.setSelectedHoverStroke(new t.Stroke(o,1,1.5),new t.Stroke(n,1,4.5)),this._mainFace.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this._threeDPathSide.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.setCursor(t.SelectionEffectUtils.getSelectingCursor())):(this.setSelectedStroke(new t.Stroke(o,1,1.5),new t.Stroke(l,1,4.5)),this.setSelectedHoverStroke(new t.Stroke(o,1,1.5),new t.Stroke(n,1,4.5)),this.setCursor(t.SelectionEffectUtils.getSelectingCursor()))}},k.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this.getAlpha(),this._3dRatio]},k.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this.setAlpha(t[2]),this._3dRatio=t[3];var e=this._getPath();this._threeDPathSide&&this._mainFace?(this.setCmds(e.threeDPathTop),this._threeDPathSide.setCmds(e.threeDPathSide),this._mainFace.setCmds(e.slice)):this.setCmds(e.slice),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},k.prototype.setSelected=function(t){if(this._3dRatio>0)if(this._mainFace.setSelected(t),t){var e=this.getDimensions(),i=e.w,r=e.h,a=(i-3)/i,n=(r-5)/r;this._mainFace.setScaleX(a),this._mainFace.setScaleY(n),this._mainFace.setTranslateX(Math.ceil(1.5)+3/i*e.x),this._mainFace.setTranslateY(Math.ceil(2.5)+5/r*e.y)}else this._mainFace.setScaleX(1),this._mainFace.setScaleY(1),this._mainFace.setTranslateX(0),this._mainFace.setTranslateY(0);else k.superclass.setSelected.call(this,t)},k.prototype.showHoverEffect=function(){k.superclass.showHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.showHoverEffect(),this._mainFace.showHoverEffect())},k.prototype.hideHoverEffect=function(){k.superclass.hideHoverEffect.call(this),this._3dRatio>0&&(this._threeDPathSide.hideHoverEffect(),this._mainFace.hideHoverEffect())},k.prototype.copyShape=function(){return new k(this._chart,this._seriesIndex,this._numDrawnSeries,this._pyramidWidth,this._pyramidHeight,this._startPercent,this._valuePercent,this._gap)},k.prototype.getPrimaryFill=function(){return this._mainFace?this._mainFace.getFill():this.getFill()};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var F=function(t,e,i,r){this.Init(t,e,i,r)};F._THREED_TILT=.59,F._THREED_DEPTH=.1,F._RADIUS=.45,F._RADIUS_LABELS=.38,F._MIN_ARC_LENGTH=1.5,t.Obj.createSubclass(F,t.Container),F.prototype.Init=function(e,i,r,a){F.superclass.Init.call(this,e.getCtx()),this.chart=e,this._options=e.getOptions(),this._frame=i.clone(),e.pieChart=this;for(var n=this.getLabelPosition(),s=J.getSeriesCount(e),o=0;o<s;o++){var l=J.getDataItem(e,o,0);!l||"center"!=n&&"none"!=n||"outsideSlice"!=l.labelPosition||(n="outsideSlice")}this._center=new t.Point(i.x+Math.floor(i.w/2),i.y+Math.floor(i.h/2));var h="center"==n||"none"==n?F._RADIUS:F._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(i.w,i.h)*h),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=i.h*F._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=F._THREED_TILT),this._slices=this._createSlices(),this._centerLabel=null,this._shapesContainer=new t.Container(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0},F.prototype.getOptions=function(){return this._options},F.prototype.highlight=function(e){t.CategoryRolloverHandler.highlight(e,this._slices,"any"==this.getOptions().highlightMatch)},F.prototype._createSlices=function(){for(var e,i,r=[],a=ot.getRenderedSeriesIndices(this.chart),n=ot.getOtherValue(this.chart),s=0;s<a.length;s++)if(i=a[s],it.isDataItemRendered(this.chart,i)){var o=(e=new N(this,i)).getValue();null==o||o<=0||r.push(e)}var l=it.getHiddenCategories(this.chart).indexOf(ot.OTHER_SLICE_SERIES_ID)>=0;if(n>0&&!l){var h=new N(this);"ascending"==this.chart.getOptions().sorting?r.unshift(h):r.push(h)}return t.Agent.isRightToLeft(this.getCtx())&&r.reverse(),r},F.prototype.setInitialSelection=function(){var t=this.chart.getSelectionHandler();if(t){for(var e=J.getInitialSelection(this.chart),i=[],r=0;r<e.length;r++)for(var a=0;a<this._slices.length;a++){var n=this._slices[a].getId();null!=n&&(null!=e[r].id&&n.id==e[r].id||n.series==e[r].series&&n.group==e[r].group)&&i.push(n)}if(ot.isOtherSliceSelected(this.chart,e)){var s=ot.getOtherSliceId(this.chart);i.push(s)}t.processInitialSelections(i,this._slices)}},F.prototype.render=function(){$.addPlotAreaDnDBackground(this.chart,this,this._frame,!0),this.contains(this._shapesContainer)||(this._shapesContainer||(this._shapesContainer=new t.Container(this.getCtx())),this.addChild(this._shapesContainer)),F._layoutSlices(this._slices,this._anchorOffset);for(var e=2*Math.PI*this.getRadiusX(),i=0,r={},a=this.chart.getOptionsCache().getFromCache("hasLargeSeriesCount"),n=0;n<this._slices.length;n++){if(a){var s=this._slices[n].getAngleExtent(),o=s/360*e,l=(this._slices[n].getAngleStart()+s)/360*e;if(o<F._MIN_ARC_LENGTH&&Math.abs(i-l)<F._MIN_ARC_LENGTH){r[this._slices[n].getSeriesIndex()]=!0;continue}i=l}this._slices[n].preRender()}var h=F._orderSlicesForRendering(this._slices);this._duringDisplayAnim||(ut.createPieCenter(this),ut.layoutLabelsAndFeelers(this));for(n=0;n<h.length;n++)r[h[n].getSeriesIndex()]||h[n].render(this._duringDisplayAnim);"safari"!==t.Agent.browser&&t.Agent.engine,this.setInitialSelection(),this.highlight(it.getHighlightedCategories(this.chart))},F.prototype.getTotalValue=function(){for(var t=0,e=0;e<this._slices.length;e++){var i=this._slices[e].getValue();i>=0&&(t+=i)}return t},F._layoutSlices=function(t,e){var i,r,a=0,n=t?t.length:0;e>360&&(e-=360),e<0&&(e+=360);var s=0;n>0&&(s=t[0].getPieChart().getTotalValue());for(var o=0;o<n;o++){var l=(i=t[o]).getValue();(r=e-(a=3.6*(l==s?100:0==s?0:Math.min(l/s*100,99.99))))<0&&(r+=360),i.setAngleStart(r),i.setAngleExtent(a),e=i.getAngleStart()}},F._orderSlicesForRendering=function(t){for(var e,i,r,a,n=[],s=t?t.length:0,o=-1,l=0;l<s;l++)if((r=(i=(e=t[l]).getAngleStart())+e.getAngleExtent())>360&&(r-=360),r<0&&(r+=360),90==r||i<90&&r>90){o=l,a=r-90;break}var h=[];for(l=o;l<s;l++)h.push(t[l]);for(l=0;l<o;l++)h.push(t[l]);var u=0,g=0,d=180+a;for(l=0;l<s;l++)if(e=h[l]){if(u+e.getAngleExtent()>d){g=l;break}n.push(e),u+=e.getAngleExtent()}for(l=s-1;l>=g;l--)(e=h[l])&&n.push(e);return n},F.prototype.is3D=function(){return"on"==this._options.styleDefaults.threeDEffect},F.prototype.__calcMaxExplodeDistance=function(){var t=.5/F._RADIUS-1;return this._radiusX*t},F.prototype.getAnimationDuration=function(){return it.getAnimationDuration(this.chart)},F.prototype.getDisplayAnimation=function(){this._duringDisplayAnim=!0;var e=new t.DataAnimationHandler(this.getCtx(),this),i=this.getAnimationDuration(),r=N.createFillerSlice(this,this.getTotalValue());this._slices.push(r);var a=new t.CustomAnimation(this.getCtx(),r,i);a.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.GetAnimationParams,r.SetAnimationParams,r.getDeletedAnimationParams()),a.setOnEnd(r._removeDeletedSlice,r),e.add(a,0);for(var n=0;n<this._slices.length-1;n++)this._slices[n].animateInsert(e);var s=new t.CustomAnimation(this.getCtx(),this,i);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams()),e.add(s,0);var o=[];for(n=0;n<this._slices.length;n++)o=o.concat(this._slices[n].getLabelAndFeeler());var l=new t.AnimFadeIn(this._context,o,i);e.add(l,0),this._setAnimationParams();var h=e.getAnimation(!0);return h.setOnEnd(this._onEnd,this),h},F.prototype._onEnd=function(){this._duringDisplayAnim=!1,this._setAnimationParams()},F.prototype.getCenter=function(){return this._center},F.prototype.getId=function(){return"chart/pie"},F.prototype.getInnerRadius=function(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95},F.prototype.__getFrame=function(){return this._frame},F.prototype.getRadiusX=function(){return this._radiusX},F.prototype.getRadiusY=function(){return this._radiusY},F.prototype.getDepth=function(){return this._depth},F.prototype.getSliceDisplayable=function(t){var e=ot.getSliceBySeriesIndex(this.chart,t);return e?e.getTopDisplayable():null},F.prototype.__getShapesContainer=function(){return this._shapesContainer},F.prototype.__getSlices=function(){return this._slices},F.prototype.animateUpdate=function(e,i){var r=new t.DataAnimationHandler(this.getCtx(),this);r.constructAnimation(i.__getSlices(),this.__getSlices());var a=r.getAnimation(!0),n=new t.CustomAnimation(this.getCtx(),this,this.getAnimationDuration());n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams());var s=new t.ParallelPlayable(this.getCtx(),a,n);s.setOnEnd(this._setAnimationParams,this),e.add(s,0),this._setAnimationParams([i.getDepth(),i.getRadiusY(),i.getCenter().y])},F.prototype.animateInsert=function(t){},F.prototype.animateDelete=function(t,e){},F.prototype._getAnimationParams=function(){return[this._depth,this._radiusY,this._center.y]},F.prototype._setAnimationParams=function(t){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,t&&(this._depth=t[0],this._radiusY=t[1],this._center.y=t[2]),this.render()},F.prototype.bringToFrontOfSelection=function(t){var e=t.getPieChart()._shapesContainer;if(e){var i=e.getNumChildren();if(i-this._numFrontObjs>1){e.removeChild(t._topSurface[0]);var r=i-this._numFrontObjs-1;e.addChildAt(t._topSurface[0],r)}}},F.prototype.pushToBackOfSelection=function(t){for(var e=this._slices.length,i=0,r=0;r<e;r++)this._slices[r].isSelected()&&i++;this._numSelectedObjsInFront=i;var a=t.getPieChart()._shapesContainer;if(a){var n=a.getNumChildren()-this._numFrontObjs-1-this._numSelectedObjsInFront;n>=0&&(a.removeChild(t._topSurface[0]),a.addChildAt(t._topSurface[0],n))}},F.prototype.getLabelPosition=function(){return F.parseLabelPosition(this._options.styleDefaults.dataLabelPosition)},F.prototype.getSeriesLabelPosition=function(t){var e=this.getLabelPosition(),i=J.getDataItem(this.chart,t,0);return i&&i.labelPosition&&(e=i.labelPosition),F.parseLabelPosition(e)},F.parseLabelPosition=function(t){return"center"==t||"inside"==t?"center":"outsideSlice"==t||"outside"==t?"outsideSlice":"none"==t?"none":"auto"},F.prototype.getSkin=function(){return this._options.skin},F.prototype.setCenterLabel=function(t){this._centerLabel=t},F.prototype.getCenterLabel=function(){return this._centerLabel};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var N=function(t,e){this.Init(t,e)};t.Obj.createSubclass(N,t.Obj),N.prototype.Init=function(t,e){this._pieChart=t,this._chart=t.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=e){var r=J.getDataItem(this._chart,e,0);this._value=J.getValue(this._chart,e,0),this._explode=ot.getSliceExplode(this._chart,e),this._fillColor=it.getColor(this._chart,e,0),this._fillPattern=it.getPattern(this._chart,e,0),this._strokeColor=it.getBorderColor(this._chart,e),this._borderWidth=it.getBorderWidth(this._chart,e),this._customLabel=r?r.label:null,this._seriesLabel=J.getSeries(this._chart,e),this._drillable=$.isDataItemDrillable(this._chart,e,0),this._id=ot.getSliceId(this._chart,e),this._seriesIndex=e,this._categories=J.getCategories(this._chart,e,0)}else this._value=ot.getOtherValue(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=i.translations.labelOther,this._drillable=!1,this._id=ot.getOtherSliceId(this._chart)},N.prototype.getPieChart=function(){return this._pieChart},N.prototype.render=function(e){for(var i=N._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),r=i.length,a=0;a<r;a++)for(var n=i[a],s=n.length,o=0;o<s;o++){this._pieChart.__getShapesContainer().addChild(n[o]),n[o].render&&n[o].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),lt.associate(this,[this._sliceLabel]),e?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._drillable||this._pieChart.chart.isSelectionSupported()){var l=this.getDisplayables();for(a=0;a<l.length;a++)l[a].setCursor(t.SelectionEffectUtils.getSelectingCursor())}var h=this.getTopDisplayable();h&&(h.setAriaRole("img"),this._updateAriaLabel())},N.prototype._feelerFromPts=function(e,i){var r=new t.Line(this._pieChart.getCtx(),e.x,e.y,i.x,i.y),a=this._pieChart.getOptions().styleDefaults.pieFeelerColor,n=new t.Stroke(a);return r.setStroke(n),this._pieChart.addChild(r),r},N.prototype._renderOutsideFeeler=function(){if(this._hasFeeler){var t=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),e=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=t,this._feelerHoriz=e}},N.prototype.preRender=function(){var e,i=this._bFillerSlice?"color":it.getSeriesEffect(this._chart),r=this.getFillColor(),a=this.getFillPattern();if("pattern"==i||null!=a)e=new t.PatternFill(a,r),i="pattern";else if("gradient"==i){var n=this._pieChart.is3D()?"3D":"2D",s=lt.getGradientColors(t.ColorUtils.getRGB(r),n),o=lt.getGradientAlphas(t.ColorUtils.getAlpha(r),n),l=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];e=new t.LinearGradientFill(270,s,o,[0,1],l)}else e=new t.SolidFill(r);if(this._topSurface=lt.createTopSurface(this,e),this._depth>0||this._radiusX!=this._radiusY){var h="gradient"==i,u=new t.SolidFill(t.ColorUtils.getDarker(r,.4)),g=h?lt.generateLateralGradientFill(this,lt.SIDE):u,d=h?lt.generateLateralGradientFill(this,lt.CRUST):u;this._leftSurface=lt.createLateralSurface(this,lt.SURFACE_LEFT,g),this._rightSurface=lt.createLateralSurface(this,lt.SURFACE_RIGHT,g),this._crustSurface=lt.createLateralSurface(this,lt.SURFACE_CRUST,d)}this.setSliceLabel(null),this.setNoOutsideFeeler()},N._sortPieSurfaces=function(t,e,i,r,a,n){var s=[];return e&&i&&r&&(a<=270&&a+n>270?(s.push(e),s.push(i),s.push(r)):a>270||a+n<=90?(s.push(e),s.push(r),s.push(i)):(s.push(i),s.push(r),s.push(e))),s.push(t),s},N.oppositeDirection=function(t,e,i){return t-e>0!=t-i>0},N.prototype._explodeSlice=function(){if(0!=this._explode){var e=this._angleExtent,i=(360-(this._angleStart+e/2))*t.Math.RADS_PER_DEGREE,r=this._pieChart.is3D()?F._THREED_TILT:1,a=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(i)*a,this._explodeOffsetY=Math.sin(i)*r*a,"safari"!==t.Agent.browser&&"blink"!==t.Agent.engine||(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var n=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];N._translateShapes(this._topSurface,n[0]?n[0]+this._explodeOffsetX:this._explodeOffsetX,n[1]?n[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&N._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&N._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&N._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var s=this._outsideFeelerStart.x,o=this._outsideFeelerStart.y,l=s+this._explodeOffsetX,h=o+this._explodeOffsetY;this._feelerRad.setX1(l),this._feelerRad.setY1(h);var u=this._outsideFeelerMid.x,g=this._outsideFeelerMid.y;N.oppositeDirection(u,s,l)?(this._feelerRad.setX2(l),this._feelerHoriz.setX1(l)):(this._feelerRad.setX2(u),this._feelerHoriz.setX1(u)),N.oppositeDirection(g,o,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(g),this._feelerHoriz.setY1(g))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)},N._translateShapes=function(t,e,i){if(t)for(var r=t.length,a=0;a<r;a++){t[a].setTranslate(e,i)}},N.prototype.getRadiusX=function(){return this._radiusX},N.prototype.getRadiusY=function(){return this._radiusY},N.prototype.getCenter=function(){return new t.Point(this._centerX,this._centerY)},N.prototype.getDepth=function(){return this._depth},N.prototype.getAngleExtent=function(){return this._angleExtent},N.prototype.setAngleExtent=function(t){this._angleExtent=t},N.prototype.getAngleStart=function(){return this._angleStart},N.prototype.setAngleStart=function(t){this._angleStart=t},N.prototype.__getExplodeOffsetX=function(){return this._explodeOffsetX},N.prototype.__getExplodeOffsetY=function(){return this._explodeOffsetY},N.prototype.setOutsideFeelerPoints=function(t,e,i){this._outsideFeelerStart=t,this._outsideFeelerMid=e,this._outsideFeelerEnd=i,this._hasFeeler=!0},N.prototype.setNoOutsideFeeler=function(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1},N.prototype.getLabelAndFeeler=function(){var t=[];return this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},N.prototype.getSliceLabel=function(){return this._sliceLabel},N.prototype.setSliceLabel=function(t){this._sliceLabel=t},N.prototype.getSliceLabelString=function(){return this._sliceLabelString},N.prototype.setSliceLabelString=function(t){this._sliceLabelString=t},N.prototype.getTopSurface=function(){return this._topSurface},N.prototype.getValue=function(){return this._value},N.prototype.getId=function(){return this._id},N.prototype.getSeriesIndex=function(){return this._seriesIndex},N._shapeIsSelectable=function(t){return t instanceof x},N.prototype.contains=function(t,e){for(var i=this._pieChart.getInnerRadius(),r=this._pieChart.getCenter(),a=(t-r.x)/this._radiusX,n=(e-r.y)/this._radiusY,s=-Math.atan2(n,a)*(180/Math.PI);s<this._angleStart;)s+=360;for(;s-this._angleStart>=360;)s-=360;var o=Math.pow(a,2)+Math.pow(n,2),l=Math.sqrt(o)>i/this._radiusX&&o<=1,h=s<=this._angleStart+this._angleExtent;return l&&h},N.prototype.GetAnimationParams=function(){var e=t.ColorUtils.getRed(this._fillColor),i=t.ColorUtils.getGreen(this._fillColor),r=t.ColorUtils.getBlue(this._fillColor),a=t.ColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,e,i,r,a]},N.prototype.SetAnimationParams=function(e){this._value=e[0],this._radiusX=e[1],this._radiusY=e[2],this._explode=e[3],this._centerX=e[4],this._centerY=e[5],this._depth=e[6];var i=Math.round(e[7]),r=Math.round(e[8]),a=Math.round(e[9]),n=Math.round(e[10]);this._fillColor=t.ColorUtils.makeRGBA(i,r,a,n)},N.prototype.getDeletedAnimationParams=function(){var t=this.GetAnimationParams();return t[0]=0,t[1]=this.getInnerRadius(),t[2]=this.getInnerRadius(),t[3]=0,t},N.prototype.animateUpdate=function(e,i){var r=i.GetAnimationParams(),a=this.GetAnimationParams();if(!t.ArrayUtils.equals(r,a)){var n=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,a),e.add(n,0),this.SetAnimationParams(r)}},N.prototype.animateInsert=function(e){var i=new t.CustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());i.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.GetAnimationParams()),e.add(i,0),this.SetAnimationParams(this.getDeletedAnimationParams())},N.prototype.animateDelete=function(e,i){var r=i.__getSlices(),a=this.getPieChart().__getSlices(),n=a.indexOf(this)-1;if(n>=0){for(var s=a[n].getId(),o=0;o<r.length;o++)if(r[o].getId().equals(s)){r.splice(o+1,0,this);break}}else r.splice(0,0,this);this._pieChart=i;var l=new t.CustomAnimation(i.getCtx(),this,this.getPieChart().getAnimationDuration());l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.getDeletedAnimationParams()),l.setOnEnd(this._removeDeletedSlice,this),e.add(l,0)},N.prototype._removeDeletedSlice=function(){var t=this.getPieChart().__getSlices(),e=t.indexOf(this);e>=0&&t.splice(e,1)},N.prototype.getDisplayables=function(){var t=new Array;return this._topSurface&&(t=t.concat(this._topSurface)),this._leftSurface&&(t=t.concat(this._leftSurface)),this._rightSurface&&(t=t.concat(this._rightSurface)),this._crustSurface&&(t=t.concat(this._crustSurface)),this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},N.prototype.getAriaLabel=function(){var e,i=this._pieChart.getOptions().translations;e=null==this._seriesIndex?at.getOtherSliceDatatip(this._chart,this._value,!1):at.getDatatip(this._chart,this._seriesIndex,0,null,!1);var r=i.labelPercentage,a=ut.generateSlicePercentageString(this);e+="; "+t.ResourceUtils.format(i.labelAndValue,[r,a]);var n=[];return this.isSelectable()&&n.push(i[this.isSelected()?"stateSelected":"stateUnselected"]),$.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&n.push(i.stateDrillable),t.Displayable.generateAriaLabel(e,n)},N.prototype._updateAriaLabel=function(){var e=this.getTopDisplayable();e&&!t.Agent.deferAriaCreation()&&e.setAriaProperty("label",this.getAriaLabel())},N.prototype.getTopDisplayable=function(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null},N.prototype.isSelectable=function(){return this._chart.isSelectionSupported()},N.prototype.isSelected=function(){return this._selected},N.prototype.setSelected=function(e,i){if(this._selected=e,this.getTopSurface()){if(this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),it.isSelectionHighlighted(this._chart))for(var r=this.getDisplayables(),a=0;a<r.length;a++)N._shapeIsSelectable(r[a])&&r[a].setSelected(e);if(it.isSelectionExploded(this._chart)){var n=e?1:0;if(i||"none"==it.getAnimationOnDataChange(this._chart))this.setExplode(n);else{var s=new t.CustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimationDuration()/2);s.getAnimator().addProp(t.Animator.TYPE_NUMBER,this,this.getExplode,this.setExplode,n),s.play()}}this._updateAriaLabel()}},N.prototype.showHoverEffect=function(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)N._shapeIsSelectable(t[e])&&t[e].showHoverEffect()},N.prototype.hideHoverEffect=function(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)N._shapeIsSelectable(t[e])&&t[e].hideHoverEffect()},N.prototype.getDatatip=function(t,e,i){return t==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()},N.prototype.getDatatipColor=function(){return this.getFillColor()},N.prototype.getCategories=function(){return this._categories&&this._categories.length>0?this._categories:[this.getId().series]},N.prototype.getNextNavigable=function(e){var i=e.keyCode;if(e.type==t.MouseEvent.CLICK)return this;if(i==t.KeyboardEvent.SPACE&&e.ctrlKey)return this;var r=t.Agent.isRightToLeft(this._chart.getCtx()),a=this._pieChart.__getSlices(),n=a.indexOf(this),s=null;return i==t.KeyboardEvent.RIGHT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&!r||i==t.KeyboardEvent.UP_ARROW&&r?s=n<a.length-1?a[n+1]:a[0]:(i==t.KeyboardEvent.LEFT_ARROW||i==t.KeyboardEvent.DOWN_ARROW&&r||i==t.KeyboardEvent.UP_ARROW&&!r)&&(s=0==n?a[a.length-1]:a[n-1]),s},N.prototype.getKeyboardBoundingBox=function(e){var i=this.getDisplayables();return i[0]?i[0].getDimensions(e):new t.Rectangle(0,0,0,0)},N.prototype.getTargetElem=function(){var t=this.getDisplayables();return t[0]?t[0].getElem():null},N.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()},N.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},N.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},N.prototype.isDragAvailable=function(t){return!0},N.prototype.getDragTransferable=function(t,e){return[this.getId()]},N.prototype.getDragFeedback=function(t,e){if(this._chart.isSelectionSupported()&&this._chart.getSelectionHandler().getSelectedCount()>1){for(var i=this._chart.getSelectionHandler().getSelection(),r=[],a=0;a<i.length;a++)r=r.concat(i[a].getDisplayables());return r}return this.getDisplayables()},N.prototype.getExplode=function(){return this._explode},N.prototype.setExplode=function(t){this._explode=t,this._explodeSlice()},N.prototype.getCustomLabel=function(){return this._customLabel},N.prototype.getSeriesLabel=function(){return this._seriesLabel},N.prototype.getFillColor=function(){return this._fillColor},N.prototype.getFillPattern=function(){return this._fillPattern},N.prototype.getStrokeColor=function(){return this._strokeColor},N.prototype.getBorderWidth=function(){return this._borderWidth},N.prototype.getSliceGaps=function(){return 0==this._depth?3*it.getDataItemGaps(this._chart):0},N.prototype.getInnerRadius=function(){return this._pieChart.getInnerRadius()},N.prototype.getTooltip=function(){return null==this._seriesIndex?at.getOtherSliceDatatip(this._chart,this._value,!0):at.getDatatip(this._chart,this._seriesIndex,0,null,!0)},N.prototype.isDrillable=function(){return this._drillable},N.createFillerSlice=function(t,e){var i=new N(t);return i._value=e,i._bFillerSlice=!0,i._centerX=t.getCenter().x,i._centerY=t.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new o(null,null,null,null),i},N.prototype.getSeriesIndex=function(){return this._seriesIndex};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var H=function(){};t.Obj.createSubclass(H,t.Obj),H.createAnimation=function(e,i,r){var a=[];if(nt.isBLAC(e))H._animBarLineArea(e,r,a);else if(nt.isScatterBubble(e)||nt.isFunnel(e)||nt.isPyramid(e))H._animBubbleScatterFunnelPyramid(e,r,a);else if(nt.isPie(e)&&e.pieChart)return e.pieChart.getDisplayAnimation();return a.length>0?new t.ParallelPlayable(e.getCtx(),a):null},H._animBarLineArea=function(e,i,r){var a=e.getChartObjPeers(),n=a?a.length:0;if(n)for(var s,o,l,h=0;h<n;h++){s=(o=a[h]).getDisplayables()[0];var u=it.getSeriesType(o.getChart(),o.getSeriesIndex());if(l=null,s instanceof M||s instanceof L||s instanceof I||s instanceof T)l=s.getDisplayAnimation(i);else if(s instanceof D)l="line"==u?H._getLinePlayable(e,s,i):H._getAreaPlayable(e,s,i);else if(s instanceof t.SimpleMarker||s instanceof w){if(s instanceof E&&!s.isSelected())continue;l=new t.AnimFadeIn(e.getCtx(),s,i-.8,.8)}l&&r.push(l)}},H._animBubbleScatterFunnelPyramid=function(e,i,r){var a=e.getObjects(),n=a?a.length:0;if(n)for(var s,o,l=0;l<n;l++)(s=a[l].getDisplayables()[0])instanceof t.SimpleMarker?o=new t.AnimPopIn(e.getCtx(),s,!0,i):(s instanceof B||s instanceof k)&&(o=H._getFunnelPyramidPlayable(e,s,i)),o&&r.push(o)},H._getAreaPlayable=function(e,i,r){var a,n=e.getCtx(),s=i.getBaseline();if(i.isArea()){for(var o=i.getBaseCoords(),l=i.getBaseAnimationParams(),h=l.slice(0),u=0;u<l.length;u++)u%4!=1&&u%4!=2||(l[u]=s);i.setBaseAnimationParams(l),(a=new t.CustomAnimation(n,i,r)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getBaseAnimationParams,i.setBaseAnimationParams,h)}var g=i.getCoords(),d=i.getAnimationParams(),c=d.slice(0);for(u=0;u<d.length;u++)u%4!=1&&u%4!=2||(d[u]=s);i.setAnimationParams(d);var p=new t.CustomAnimation(n,i,r);p.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,c);var _=new t.ParallelPlayable(e.getCtx(),a,p);return _.setOnEnd((function(){i.setCoords(g,o)})),_},H._getFunnelPyramidPlayable=function(e,i,r){var a=e.getCtx(),n=i.getAnimationParams(),s=n.slice(0),o=n.slice(0);n[0]=0,nt.isFunnel(e)&&(n[2]=0,s[2]=0),i.setAnimationParams(n);var l=new t.CustomAnimation(a,i,r/2);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,s);var h=new t.CustomAnimation(a,i,r/2);return h.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,o),new t.SequentialPlayable(a,[l,h])},H._getLinePlayable=function(e,i,r){var a=i.getCoords(),n=i.getAnimationParams(),s=n.slice(0);H._getMeanPoints(n),i.setAnimationParams(n);var o=new t.CustomAnimation(e.getCtx(),i,r);return o.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,s),o.setOnEnd((function(){i.setCoords(a)})),o},H._getMeanPoints=function(t){var e,i=0,r=Number.MAX_VALUE,a=-1*Number.MAX_VALUE,n=t.length;for(e=0;e<n;e++){var s=t[e];e%4!=0&&e%4!=3&&s!=1/0&&(s<r&&(r=s),s>a&&(a=s),i+=s)}for(n>8?(i-=2*r,i-=2*a,i/=n/2-4):i/=n/2,e=0;e<n;e++)e%4!=1&&e%4!=2||(t[e]=i)};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var G=function(){};t.Obj.createSubclass(G,t.Obj),G.createAnimation=function(e,i,r,a,n){if(!G._canAnimate(e,i))return null;var s,o=i.getCtx(),l=[],h=[];nt.isPie(i)?(l.push(e.pieChart),h.push(i.pieChart)):G._buildAnimLists(o,l,e,h,i,a);var u=new t.DataAnimationHandler(o,n);u.constructAnimation(l,h),u.getNumPlayables()>0&&(s=u.getAnimation(!0));var g=i.getDataLabels();if(s&&g.length>0){for(var d=0;d<g.length;d++)g[d].setAlpha(0);s=new t.SequentialPlayable(o,s,new t.AnimFadeIn(o,g,a/4))}return s},G._buildAnimLists=function(e,i,r,a,n,s){var o,l,h,u,g,d=r.getChartObjPeers(),c=i,p=n.getCache().getFromCache("dataFiltered");for(o=0;o<2;o++){var _={},f={};for(l=0;l<d.length;l++){if(g=null,(u=(h=d[l]).getDisplayables()[0])instanceof B)g=new K(h,s);else if(u instanceof k)g=new q(h,s);else if(u instanceof M||u instanceof L){if(g=new j(h,s),p){var v=h.getSeries();_[v]=_[v]?_[v]+1:1,g.setId(v+"/"+_[v]+"/bar")}}else if(u instanceof D){var m=(g=new W(h,s)).getId();f[m]=f[m]?f[m]+1:1,g.setId(m+"/"+f[m])}else if(u instanceof t.SimpleMarker){if(u instanceof E&&!u.isSelected())continue;g=new z(h,s)}else if(u instanceof w){if(u.isInvisible()&&!u.isSelected())continue;g=new X(h,s)}else u instanceof I?g=new V(h,s):u instanceof T&&(g=new Y(h,s));g&&(c.push(g),g.setOldChart(r))}c=a,d=n.getChartObjPeers()}},G._canAnimate=function(t,e){return nt.isPie(t)&&nt.isPie(e)?t&&e:nt.isPolar(t)==nt.isPolar(e)&&(!(!nt.isBLAC(t)||!nt.isBLAC(e))||(!(!nt.isScatterBubble(t)||!nt.isScatterBubble(e))||t.getType()==e.getType()))};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var U=function(e){this.Options=e.Options,this.Peers=e.Peers,this.SeriesStyleArray=e.SeriesStyleArray,this.Cache=e.Cache,this.pieChart=e.pieChart,this._optionsCache=new t.BaseComponentCache,this._cache=new t.BaseComponentCache};t.Obj.createSubclass(U,t.Chart),U.prototype.getCache=function(){return this._cache},U.prototype.getOptionsCache=function(){return this._optionsCache};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var V=function(t,e){this.Init(t,e)};t.Obj.createSubclass(V,t.Obj),V.prototype.animateUpdate=function(t,e){var i=e._shape;this._shape&&this._shape.getUpdateAnimation&&t.add(this._shape.getUpdateAnimation(this._updateDuration,i),1)},V.prototype.animateInsert=function(e){if(this._shape&&this._shape.getInsertAnimation)e.add(this._shape.getInsertAnimation(this._insertDuration),2);else{var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,0)}},V.prototype.animateDelete=function(e,i){if(i.addChild(this._shape),this._shape&&this._shape.getDeleteAnimation)e.add(this._shape.getDeleteAnimation(this._deleteDuration),0);else{var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)}},V.prototype.getId=function(){return this._animId},V.prototype.setId=function(t){this._animId=t},V.prototype.Init=function(t,e){this._peer=t,this._updateDuration=.75*e,this._insertDuration=.5*e,this._deleteDuration=.5*e,this._shape=t.getDisplayables()[0],this._animId=t.getDataItemId()||t.getSeries()+"/"+t.getGroup()},V.prototype.setOldChart=function(t){this._oldChart=t};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var j=function(t,e){this.Init(t,e)};t.Obj.createSubclass(j,V),j.prototype.Init=function(t,e){j.superclass.Init.call(this,t,e),this._indicator=null,this._animId+="/bar"},j.prototype.animateInsert=function(t){var e=this._shape.getInsertAnimation(this._insertDuration);t.add(e,2)},j.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=this._shape.getDeleteAnimation(this._deleteDuration);t.add(i,0)},j.prototype.animateUpdate=function(e,i){var r=this._oldChart,a=this._peer.getChart(),n=nt.isHorizontal(r)!=nt.isHorizontal(a),s=i._getAnimationParams(n),o=this._getAnimationParams(),l=i._shape.getPrimaryFill(),h=this._shape.getPrimaryFill(),u=i._shape.isSelected()||this._shape.isSelected()||l.equals(h);if(!t.ArrayUtils.equals(s,o)||!l.equals(h)){var g=this._peer.getSeriesIndex(),d=i._peer.getSeriesIndex(),c=this._peer.getGroupIndex(),p=i._peer.getGroupIndex();"none"!==it.getAnimationIndicators(a)&&(this._indicator=Z.makeIndicator(r,d,p,a,g,c)),this._setAnimationParams(s),u||this._shape.setFill(l);var _=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);_.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,o),u||_.getAnimator().addProp(t.Animator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,h),this._indicator&&(_.setOnEnd(this._onEndAnimation,this),this._indicator.setAlpha(0)),e.add(_,1)}},j.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},j.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t,this._indicator)},j.prototype._onEndAnimation=function(){this._indicator&&(this._indicator.getParent().removeChild(this._indicator),this._indicator=null)};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var Y=function(t,e){this.Init(t,e)};t.Obj.createSubclass(Y,V),Y.prototype.Init=function(t,e){Y.superclass.Init.call(this,t,e),this._animId+="/boxAndWhisker"};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var W=function(t,e){this.Init(t,e)};t.Obj.createSubclass(W,V),W.prototype.animateUpdate=function(e,i){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var r,a,n=this._shape.isArea(),s=this._oldChart,o=this._chart,l=this._peer.getSeriesIndex(),h=i._peer.getSeriesIndex(),u=this._shape.getCommonGroupIndices(i._shape),g=i._shape.getCommonGroupIndices(this._shape);if(n){var d=i._getBaseAnimationParams(this._shape),c=this._getBaseAnimationParams(i._shape);W._matchGroupIndices(d,c),t.ArrayUtils.equals(d,c)||(this._setBaseAnimationParams(d),(r=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimationParams,this._setBaseAnimationParams,c))}var p=i._getAnimationParams(this._shape),_=this._getAnimationParams(i._shape);W._matchGroupIndices(p,_),t.ArrayUtils.equals(p,_)||(this._setAnimationParams(p),(a=new t.CustomAnimation(this._context,this,this._updateDuration)).getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,_));var f=it.getSeriesType(this._peer.getChart(),l);if("none"!==it.getAnimationIndicators(o)&&(!n||"lineWithArea"!=f))for(var v,m,S=0;S<u.length;S++)v=Z.getDirection(s,h,g[S],o,l,u[S]),(m=Z.makeIndicator(s,h,g[S],o,l,u[S]))&&this._shape.addIndicator(u[S],v,m);if(r||a){var C=new t.ParallelPlayable(this._context,r,a);C.setOnEnd(this._onAnimationEnd,this),e.add(C,1)}},W.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._context,this._shape,this._insertDuration);e.add(i,2)},W.prototype.animateDelete=function(e,i){var r;if("area"==it.getSeriesType(this._oldChart,this._peer.getSeriesIndex())){var a=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!a)return;a.addChild(this._deletedAreas),(r=new t.AnimFadeOut(this._context,this._deletedAreas,this._deleteDuration)).setOnEnd(this._removeDeletedAreas,this),e.add(r,0)}else i.addChild(this._shape),r=new t.AnimFadeOut(this._context,this._shape,this._deleteDuration),e.add(r,0)},W.prototype._removeDeletedAreas=function(){var t=this._chart.__getAreaContainer();t&&t.removeChild(this._deletedAreas)},W.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},W.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t)},W.prototype._getBaseAnimationParams=function(t){return this._shape.getBaseAnimationParams(t)},W.prototype._setBaseAnimationParams=function(t){this._shape.setBaseAnimationParams(t)},W.prototype._onAnimationEnd=function(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)},W._matchGroupIndices=function(t,e){for(var i=3;i<t.length;i+=4)t[i]=e[i]},W.prototype.Init=function(t,e){W.superclass.Init.call(this,t,e),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var z=function(t,e){this.Init(t,e)};t.Obj.createSubclass(z,V),z.prototype.animateUpdate=function(e,i){var r=i._shape.getCenterDimensions(),a=this._shape.getCenterDimensions();if(!a.equals(r)){this._shape.setCenterDimensions(r);var n=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);n.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,a);var s=this._peer.getChart();if(this.isValueChange(i)&&"none"!=it.getAnimationIndicators(s)&&nt.isScatterBubble(s)){var o=i._shape;o.setSolidFill("#FFFF2B",.9),o.setCenterDimensions(r),this._peer.getChart().getPlotArea().addChild(o),n.getAnimator().addProp(t.Animator.TYPE_RECTANGLE,o,o.getCenterDimensions,o.setCenterDimensions,a),n.getAnimator().addProp(t.Animator.TYPE_NUMBER,o,o.getAlpha,o.setAlpha,0),this._overlay=o,n.setOnEnd(this._onEndAnimation,this)}e.add(n,1)}},z.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)},z.prototype.animateDelete=function(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)},z.prototype.isValueChange=function(t){var e=!1;if(t){var i=t._peer.getSeriesIndex(),r=t._peer.getGroupIndex(),a=this._peer.getSeriesIndex(),n=this._peer.getGroupIndex(),s=t._oldChart.getOptions(),o=this._peer.getChart().getOptions(),l=s.series[i].items[r].x,h=s.series[i].items[r].y,u=s.series[i].items[r].z,g=o.series[a].items[n].x,d=o.series[a].items[n].y,c=o.series[a].items[n].z;e=g!==l||d!==h||c!==u}return e},z.prototype._onEndAnimation=function(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)},z.prototype.Init=function(t,e){z.superclass.Init.call(this,t,e),this._animId+="/marker"};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var X=function(t,e){this.Init(t,e)};t.Obj.createSubclass(X,V),X.prototype.Init=function(t,e){X.superclass.Init.call(this,t,e),this._animId+="/rangeMarker"},X.prototype.animateInsert=function(e){this._shape.setAlpha(0);var i=new t.AnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);e.add(i,2)},X.prototype.animateDelete=function(e,i){i.addChild(this._shape);var r=new t.AnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);e.add(r,0)},X.prototype.animateUpdate=function(e,i){var r=i._shape.getAnimationParams(),a=this._shape.getAnimationParams();this._shape.setAnimationParams(r);var n=new t.CustomAnimation(this._shape.getCtx(),this,this._updateDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimationParams,this._shape.setAnimationParams,a),e.add(n,1)};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var Z=new Object;t.Obj.createSubclass(Z,t.Obj),Z.DIR_UP=0,Z.DIR_DOWN=1,Z.DIR_NOCHANGE=2,Z.makeIndicator=function(t,e,i,r,a,n){if(nt.isPolar(r))return null;var s=Z.getDirection(t,e,i,r,a,n);if(s==Z.DIR_NOCHANGE)return null;var o=s===Z.DIR_DOWN,l=o?it.getAnimationDownColor(r):it.getAnimationUpColor(r),h=Z._drawIndicator(r.getCtx(),o,nt.isHorizontal(r),l);return r.getPlotArea().addChild(h),h},Z.getDirection=function(t,e,i,r,a,n){var s=J.getValue(t,e,i),o=J.getValue(r,a,n);return null==o||null==s||o==s?Z.DIR_NOCHANGE:o>s?Z.DIR_UP:Z.DIR_DOWN},Z._drawIndicator=function(e,i,r,a){var n;r?n=(t.Agent.isRightToLeft(e)?!i:i)?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5":n=i?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var s=new t.Path(e,n);return s.setSolidFill(a),s};
/**
   * @license
   * Copyright (c) 2013 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var K=function(t,e){this.Init(t,e)};t.Obj.createSubclass(K,V),K.prototype.animateUpdate=function(e,i){var r=this._shape,a=i._shape.getAnimationParams(),n=r.getAnimationParams(),s=i._shape.getFill(),o=this._shape.getFill();if(!t.ArrayUtils.equals(a,n)||!s.equals(o)){r.setAnimationParams(a);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),s.equals(o)||(this._shape.setFill(s),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),this._indicator&&l.setOnEnd(this._onEndAnimation,this),e.add(l,1)}},K.prototype.animateInsert=function(e){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[0]+=a[1]/2,a[1]=0,a[3]=0,i.setAnimationParams(a);var n=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),e.add(n,2)},K.prototype.animateDelete=function(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams(),n=a.slice(0);n[0]+=a[1]/2,n[1]=0,n[3]=0;var s=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);s.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),e.add(s,0)},K.prototype.Init=function(t,e){K.superclass.Init.call(this,t,e),this._animId+="/funnel"};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var q=function(t,e){this.Init(t,e)};t.Obj.createSubclass(q,V),q.prototype.animateUpdate=function(e,i){var r=this._shape,a=i._shape.getAnimationParams(),n=r.getAnimationParams(),s=i._shape.getPrimaryFill(),o=this._shape.getPrimaryFill();if(!t.ArrayUtils.equals(a,n)||!s.equals(o)){r.setAnimationParams(a);var l=new t.CustomAnimation(r.getCtx(),this,this._updateDuration);l.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,n),s.equals(o)||(this._shape.setFill(s),l.getAnimator().addProp(t.Animator.TYPE_FILL,r,r.getFill,r.setFill,o)),e.add(l,1)}},q.prototype.animateInsert=function(e){var i=this._shape,r=i.getAnimationParams(),a=r.slice(0);a[1]=0,a[2]=0,i.setAnimationParams(a);var n=new t.CustomAnimation(i.getCtx(),this,this._insertDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),e.add(n,2)},q.prototype.animateDelete=function(e,i){var r=this._shape;i.setClipPath(null),i.addChild(r);var a=r.getAnimationParams().slice(0);a[1]=0,a[2]=0;var n=new t.CustomAnimation(r.getCtx(),this,this._deleteDuration);n.getAnimator().addProp(t.Animator.TYPE_NUMBER_ARRAY,r,r.getAnimationParams,r.setAnimationParams,a),e.add(n,0)},q.prototype.Init=function(t,e){q.superclass.Init.call(this,t,e),this._animId+="/pyramid"};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var Q=new Object;t.Obj.createSubclass(Q,t.Obj),Q.getXAxisPosition=function(e){return nt.isPolar(e)?"tangential":nt.isHorizontal(e)?t.Agent.isRightToLeft(e.getCtx())?"right":"left":"bottom"},Q.getBaselineScaling=function(t,e){var i=e+"Axis",r=t.getOptions()[i].baselineScaling;return!r||"zero"!=r&&"min"!=r?nt.isStock(t)?"min":"zero":r},Q.getYAxisPosition=function(e){var i=e.getOptions().yAxis.position;return nt.isPolar(e)?"radial":nt.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"bottom":i:(nt.isStock(e)&&(i=i||"end"),t.Agent.isRightToLeft(e.getCtx())?i&&"end"==i?"left":"right":i&&"end"==i?"right":"left")},Q.getY2AxisPosition=function(e){var i=e.getOptions().y2Axis.position;return nt.isHorizontal(e)?!i||"top"!=i&&"bottom"!=i?"top":i:t.Agent.isRightToLeft(e.getCtx())?i&&"start"==i?"right":"left":i&&"start"==i?"left":"right"},Q.hasTimeAxis=function(t){return nt.isBLAC(t)&&"disabled"!=Q.getTimeAxisType(t)},Q.hasGroupAxis=function(t){return nt.isBLAC(t)&&"disabled"==Q.getTimeAxisType(t)},Q.getTimeAxisType=function(t){var e=t.getOptions().timeAxisType;return e&&"auto"!=e&&nt.isBLAC(t)&&!nt.isPolar(t)?e:nt.isStock(t)?"skipGaps":"disabled"},Q.isMixedFrequency=function(t){return"mixedFrequency"==Q.getTimeAxisType(t)},Q.getAxisOffset=function(t){var e=t.getCache().getFromCache("axisOffset");if(null!=e)return e;var i=t.getOptions().styleDefaults.groupSeparators;if(Q.hasGroupAxis(t)&&J.getNumLevels(t)>1&&"on"==i.rendered)e=.5;else if(nt.hasBarSeries(t)||nt.hasCenteredSeries(t)||nt.hasCandlestickSeries(t)||nt.hasBoxPlotSeries(t)||nt.isBLAC(t)&&1==J.getGroupCount(t))e=.5;else if(nt.isSpark(t)||$.isScrollable(t)||nt.isOverview(t))e=0;else{var r=nt.isHorizontal(t)?.2:.5;e=r-r/Math.sqrt(J.getGroupCount(t))}return t.getCache().putToCache("axisOffset",e),e},Q.isGridShifted=function(t){if(!nt.isBLAC(t))return!1;if(J.getNumLevels(t)>1)return!0;for(var e=J.getSeriesCount(t),i=0;i<e;i++)if(it.isSeriesRendered(t,i)){var r=it.getSeriesType(t,i),a=it.getLineType(t,i);if("bar"!=r&&"centeredSegmented"!=a&&"centeredStepped"!=a)return!1}return!0},Q.isGridPolygonal=function(t){return!(!nt.isBLAC(t)||nt.hasBarSeries(t))&&"polygon"==t.getOptions().polarGridShape},Q.isAxisRendered=function(t,e){if("y"==e&&nt.hasY2DataOnly(t))return!1;if("y2"==e&&!nt.hasY2Data(t))return!1;var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&!("off"==i.tickLabel.rendered&&!i.title)},Q.isAxisLineRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.axisLine.rendered&&!("auto"==i.axisLine.rendered&&"x"!=e&&nt.isBLAC(t)&&!nt.isPolar(t))},Q.isMajorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.majorTick.rendered&&!("auto"==i.majorTick.rendered&&"x"==e&&nt.isBLAC(t)&&!nt.isPolar(t))},Q.isMinorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"!=i.rendered&&"off"!=i.minorTick.rendered&&("on"==i.minorTick.rendered||Q.isLog(t,e))},Q.isLog=function(t,e){return"log"==t.getOptions()[e+"Axis"].scale},Q.getTickLabelHeight=function(e,i){var r=e.getOptions(),a=r[i+"Axis"].tickLabel.style;return a instanceof t.CSSStyle||(a=new t.CSSStyle(a)),a.mergeUnder(u.getDefaults(r.skin).tickLabel.style),t.TextUtils.getTextStringHeight(e.getCtx(),a)},Q.getTickLabelGapSize=function(t,e){if(Q.isTickLabelInside(t,e))return 0;var i=t.getOptions(),r=nt.isHorizontal(t),a=Q.getGapScalingFactor(t,e),n=Math.ceil(i.layout.tickLabelGapWidth*a),s=Math.ceil(i.layout.tickLabelGapHeight*a);return"x"==e?r?n:s:r?s:n},Q.getGapScalingFactor=function(t,e){return Q.isAxisRendered(t,e)?Q.getTickLabelHeight(t,e)/14:0},Q.isTickLabelInside=function(t,e){return!(nt.isPolar(t)||nt.isScatterBubble(t)||nt.isBLAC(t)&&"x"==e)&&"inside"==t.getOptions()[e+"Axis"].tickLabel.position},Q.getXAxisViewportMinMax=function(t,e){var i=e?"xAxisViewportMinMaxUG":"xAxisViewportMinMax",r=t.getCache().getFromCache(i);if(r)return r;var a=t.getOptions().xAxis,n=Q.hasGroupAxis(t),s=Q.getAxisOffset(t);if(e)var o=Q.getXAxisGlobalMinMax(t);var l=null;null!=a.viewportMin?l=a.viewportMin:null!=a.viewportStartGroup?l=n?J.getGroupIndex(t,a.viewportStartGroup)-s:a.viewportStartGroup:e&&(l=o.min);var h=null;return null!=a.viewportMax?h=a.viewportMax:null!=a.viewportEndGroup?h=n?J.getGroupIndex(t,a.viewportEndGroup)+s:a.viewportEndGroup:e&&(h=o.max),r={min:l,max:h},t.getCache().putToCache(i,r),r},Q.getXAxisGlobalMinMax=function(t){var e=t.getOptions().xAxis,i=Q.hasGroupAxis(t),r=Q.getAxisOffset(t);if(!i)var a=J.getMinMaxValue(t,"x");return{min:null!=e.min?e.min:i?0-r:a.min,max:null!=e.max?e.max:i?J.getGroupCount(t)-1+r:a.max}},Q.applyInitialZooming=function(t,e){var i=t.getOptions(),r=i.xAxis,a=i.initialZooming;if(nt.isBLAC(t)&&"off"!=i.zoomAndScroll&&"none"!=a){i._initialZoomed&&("last"==a?r.viewportMin=null:r.viewportMax=null);var n=Q.getXAxisViewportMinMax(t,!1),s=n.min,o=n.max;if(!("last"==a&&null!=s||"first"==a&&null!=o)){var l=nt.isHorizontal(t)?e.h:e.w,h=Math.floor(l/(2*Q.getTickLabelHeight(t,"x")))+Q.getAxisOffset(t),u=J.getGroupCount(t)-1;if(!(u<=h)){var g,d;if(Q.hasGroupAxis(t))g=0,d=u;else{var c=J.getMinMaxValue(t,"x");g=c.min,d=c.max}var p=h/u*(d-g);"last"==i.initialZooming?(null==o&&(o=d),r.viewportMin=Math.max(o-p,g)):(null==s&&(s=g),r.viewportMax=Math.min(s+p,d)),i._initialZoomed=!0}}}},Q.getGroupWidthRatios=function(t){if(!nt.hasBarSeries(t)&&!nt.hasCandlestickSeries(t)&&!nt.hasBoxPlotSeries(t))return null;var e=t.getOptions(),i=it.getBarGapRatio(t);if(i>=1)return e._averageGroupZ=1/0,null;e._averageGroupZ=0;var r,a,n,s,o,l,h=J.getGroupCount(t),u=nt.isSplitDualY(t),g=J.getStackCategories(t,"bar"),d=g.y.length,c=g.y2.length;if(t.getOptionsCache().getFromCache("hasConstantZValue")){var p=t.getOptionsCache().getFromCache("constantZValue")*(u?Math.max(d,c):d+c);l=(o=p*h)*i/(1-i),r=null}else{for(var _=[],f=0;f<h;f++){for(a=0,s=0;s<d;s++)a+=J.getBarCategoryZ(t,g.y[s],f,!1);for(n=0,s=0;s<c;s++)n+=J.getBarCategoryZ(t,g.y2[s],f,!0);_.push(u?Math.max(a,n):a+n)}o=_.reduce((function(t,e){return t+e})),l=o*i/(1-i),r=_.map((function(t){return t+l/h}))}return e._averageGroupZ=(o+l)/h,r},Q.isYAdjustmentNeeded=function(t){var e=t.getOptions().styleDefaults.dataLabelPosition,i=t.getOptionsCache().getFromCache("hasDataOutsideBarEdge"),r="outsideBarEdge"==e||i,a=it.isStackLabelRendered(t);return!(!nt.hasBarSeries(t)||!r&&!a)},Q.axisContainsPoint=function(t,e){if(!t)return!1;var i=t.getOptions().position,r="top"==i||"bottom"==i,a=r?4:10,n=r?10:4,s=t.__getBounds().clone();s.x-=n,s.y-=a,s.w+=2*n,s.h+=2*a;var o=t.stageToLocal(e);return s.containsPoint(o.x,o.y)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var J=new Object;t.Obj.createSubclass(J,t.Obj),J.hasData=function(t){var e=t.getOptions();if(!e||!e.series||e.series.length<1)return!1;for(var i=J.getSeriesCount(t),r=0;r<i;r++){var a=J.getSeriesItem(t,r);if(a&&a.items&&a.items.length>=1)return!0}return!1},J.hasInvalidData=function(t){return!J.hasData(t)||J.hasInvalidTimeData(t)},J.hasInvalidTimeData=function(t){if(nt.isFunnel(t)||nt.isPie(t)||nt.isPyramid(t))return!1;var e,i,r=t.getOptions(),a=J.getGroupCount(t);if(!r||!r.series||r.series.length<1)return!0;if(a<1)return!0;var n=J.getSeriesCount(t);if(Q.isMixedFrequency(t))for(e=0;e<n;e++)for(i=0;i<a;i++){var s=J.getDataItem(t,e,i);if(s&&(null==s.x||isNaN(s.x)))return!0}else if(Q.hasTimeAxis(t))for(i=0;i<a;i++){var o=J.getGroup(t,i);if(null==o||isNaN(o))return!0}return!1},J.hasSeriesData=function(t,e){var i=J.getSeriesItem(t,e).items;if(i)for(var r=0;r<i.length;r++)if(null!=i[r])return!0;return!1},J.processDataObject=function(i){if(J.hasData(i)){var r=i.getOptions(),a=i.getOptionsCache(),n=J.getSeriesCount(i);nt.isValidType(i)||(r.type="bar");var s=!1,o=!1,l=!0,h=null,u=!1,g=!1,d=!1,c=nt.isStock(i);c&&n>1&&(r.series=r.series.slice(0,1),n=1);var p=Q.isMixedFrequency(i),_=n>100;a.putToCache("hasLargeSeriesCount",_);for(var f=0,v=i.getSeriesStyleArray(),m=0;m<n;m++){var S=J.getSeries(i,m);!_&&null!=S&&v.indexOf(S)<0&&v.push(S);var C=J.getSeriesItem(i,m);if(C.items&&C.items.length>f&&(f=C.items.length),"hidden"==C.visibility){var y=it.getHiddenCategories(i);y.indexOf(S)<0&&y.push(S)}if(C.visibility=null,"on"==C.assignedToY2&&(s=!0),C&&C.items)for(var x=C.items,A=0;A<x.length;A++)null!=x[A]&&("object"!=e(D=x[A])&&(D={y:D},x[A]=D),p||null==D.x||(D.x=Number(D.x)),null!=D.y&&(D.y=Number(D.y),D.y<0&&(g=!0)),null!=D.z?(D.z=Number(D.z),null==h?h=D.z:h!=D.z&&(l=!1)):h=1,null!=D.value&&(D.value=Number(D.value),D.value<0&&(g=!0)),null!=D.targetValue&&(D.targetValue=Number(D.targetValue)),null!=D.open&&(D.open=Number(D.open),u=!0),null!=D.close&&(D.close=Number(D.close),u=!0,D.close<0&&(g=!0)),null!=D.low&&(D.low=Number(D.low),u=!0),null!=D.high&&(D.high=Number(D.high),u=!0),null!=D.volume&&(D.volume=Number(D.volume),o=!0),(D.color||D.borderColor||D.borderWidth||D.style||D.svgStyle||D.className||D.svgClassName)&&a.putToCachedMap("itemStyleSet",m,!0),"outsideBarEdge"==D.labelPosition&&(d=!0))}if(a.putToCache("hasVolume",o),a.putToCache("hasConstantZValue",l),a.putToCache("constantZValue",l?h:null),a.putToCache("hasLowHighSeries",u),a.putToCache("hasNegativeValues",g),a.putToCache("hasDataOutsideBarEdge",d),c&&J.hasVolumeSeries(i)&&!nt.isOverview(i)){var b=t.JsonUtils.clone(J.getSeriesItem(i,0));b.assignedToY2="on",s=!0,b.type="bar",b.categories=J.getCategories(i,0),b.id="_volume",b._selectable="off",b.items=[];for(var M=0;M<C.items.length;M++){var T={};T.color=it.getStockVolumeColor(i,0,M),T.x=C.items[M].x,T.value=C.items[M].volume,T.drilling="off",b.items.push(T)}r.series.push(b),a.putToCachedMap("itemStyleSet",r.series.length-1,!0)}a.putToCache("hasY2Assignment",s);for(var I=tt.getRefObjs(i),O=0;O<I.length;O++){if(x=I[O].items)for(A=0;A<x.length;A++){var D;(D=x[A])&&("object"!=e(D)?x[A]=Number(D):(!Q.isMixedFrequency(i)&&D.x&&(D.x=Number(D.x)),D.max&&(D.max=Number(D.max)),D.min&&(D.min=Number(D.min)),D.value&&(D.value=Number(D.value))))}}r.groups||(r.groups=new Array);var E=J.getGroupCount(i);for(O=0;O<f-E;O++){var P=r.translations.labelDefaultGroupName||"Group {0}",L=t.ResourceUtils.format(P,[r.groups.length+1]);r.groups.push(L)}a.putToCache("groupsArray",null),J._processTimeAxis(i);var w=r.sorting;if(w="on"==w?"descending":"ascending"!=w&&"descending"!=w?"off":w,nt.isBLAC(i)&&Q.hasGroupAxis(i)&&"off"!=w&&1==J.getNumLevels(i)){var R=J.getGroups(i),B={};for(A=0;A<R.length;A++){var k=0;for(O=0;O<=n;O++)if(it.isSeriesRendered(i,O)&&!J.isAssignedToY2(i,O)){var F=J.getValue(i,O,A);k+=null==F||isNaN(F)?0:F}B[R[A]]={index:A,total:k,group:r.groups[A]}}"ascending"==w?R.sort((function(t,e){return B[t].total-B[e].total})):R.sort((function(t,e){return B[e].total-B[t].total}));for(O=0;O<n;O++){var N=[];for(A=0;A<R.length;A++)N.push(J.getDataItem(i,O,B[R[A]].index));r.series[O].items=N}var H=[];for(A=0;A<R.length;A++)H.push(B[R[A]].group);r.groups=H,a.putToCache("groupsArray",null),a.putToCache("value",null)}J._sanitizeAxis(r.xAxis),J._sanitizeAxis(r.yAxis),J._sanitizeAxis(r.y2Axis)}},J._sanitizeAxis=function(t){t.min==t.max&&(t.min=null,t.max=null)},J._sanitizeDateTime=function(t,e){var i=null,r=t.getLocaleHelpers().isoToDateConverter;if(r){try{i=r(e)}catch(t){i=null}i=null!=i&&i.getTime?i.getTime():null}return null==i&&(i=Date.parse(e)),isNaN(i)&&(i=Number(e)),i},J._processTimeAxis=function(t){var e,i,r=t.getCtx(),a=t.getOptions(),n=J.getSeriesCount(t),s=J.getGroupCount(t);if(Q.isMixedFrequency(t))for(e=0;e<n;e++)for(i=0;i<s;i++){var o=J.getDataItem(t,e,i);null!=o&&"string"==typeof o.x&&null!=o.x&&(o.x=J._sanitizeDateTime(r,o.x))}else if(Q.hasTimeAxis(t)){for(i=0;i<s;i++){var l=J.getGroup(t,i);null!=l&&(a.groups[i]=J._sanitizeDateTime(r,l))}t.getOptionsCache().putToCache("groupsArray",null)}if(Q.hasTimeAxis(t)){var h=a.xAxis;null!=h.dataMin&&(h.dataMin=J._sanitizeDateTime(r,h.dataMin)),null!=h.dataMax&&(h.dataMax=J._sanitizeDateTime(r,h.dataMax)),null!=h.min&&(h.min=J._sanitizeDateTime(r,h.min)),null!=h.max&&(h.max=J._sanitizeDateTime(r,h.max)),null!=h.viewportMin&&(h.viewportMin=J._sanitizeDateTime(r,h.viewportMin)),null!=h.viewportMax&&(h.viewportMax=J._sanitizeDateTime(r,h.viewportMax)),null!=h.viewportStartGroup&&(h.viewportStartGroup=J._sanitizeDateTime(r,h.viewportStartGroup)),null!=h.viewportEndGroup&&(h.viewportEndGroup=J._sanitizeDateTime(r,h.viewportEndGroup));for(var u=tt.getRefObjs(t),g=0;g<u.length;g++){var d=u[g].items;if(d)for(var c=0;c<d.length;c++)d[c]&&null!=d[c].x&&(d[c].x=J._sanitizeDateTime(r,d[c].x))}}},J.isEqualId=function(e,i,r){return null!=e&&null!=i&&t.Obj.compareValues(r,e,i)},J.getSeriesCount=function(t){var e=t.getOptions().series;return e?e.length:0},J.getY2SeriesCount=function(t,e,i){for(var r=0,a=J.getSeriesCount(t),n=0;n<a;n++)e&&it.getSeriesType(t,n)!=e||(i||it.isSeriesRendered(t,n))&&J.isAssignedToY2(t,n)&&r++;return r},J.getSeries=function(t,e){var i=J.getSeriesItem(t,e);return i?i.id?i.id:i.name||""===i.name?i.name:String(e):null},J.getSeriesLabel=function(t,e){var i=J.getSeriesItem(t,e);return i&&(i.name||""===i.name)?i.name:null},J.getSeriesIndex=function(t,e){for(var i=J.getSeriesCount(t),r=0;r<i;r++){if(J.getSeries(t,r)==e)return r}return-1},J.getSeriesStyleIndex=function(t,e){if(t.getOptionsCache().getFromCache("hasLargeSeriesCount"))return e;var i=J.getSeries(t,e);return null==i?e:t.getSeriesStyleArray().indexOf(i)},J.getSeriesItem=function(t,e){if(isNaN(e)||null==e||e<0)return null;var i=t.getOptions();return i.series&&i.series.length>e?i.series[e]:void 0},J.getDataItem=function(t,e,i){if(isNaN(i)||null==i||i<0)return null;var r=J.getSeriesItem(t,e);return r&&r.items&&r.items.length>i?r.items[i]:null},J.getDataItemId=function(t,e,i){var r=J.getDataItem(t,e,i);return r?null!=r.id?r.id:J.createDataItemId(J.getSeries(t,e),J.getGroup(t,i)):null},J.createDataItemId=function(t,e){return t+"; "+e},J.getNestedDataItem=function(t,e,i,r){if(isNaN(r)||null==r||r<0)return null;var a=J.getDataItem(t,e,i);return a&&a.items&&a.items.length>r?a.items[r]:null},J.getNestedDataItemCount=function(t,e,i){var r=J.getDataItem(t,e,i);return r&&r.items?r.items.length:0},J.getNestedDataItemId=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);return a?null!=a.id?a.id:J.getDataItemId(t,e,i)+"; "+String(r):null},J.getNestedDataItemIndex=function(t,e,i,r){for(var a=J.getNestedDataItemCount(t,e,i),n=0;n<a;n++){var s=J.getNestedDataItemId(t,e,i,n);if(J.isEqualId(s,r,t.getCtx()))return n}return-1},J.getGroupCount=function(t){return J._getGroupsArray(t).length},J.getGroup=function(t,e){if(null!=e&&e>=0&&e<J.getGroupCount(t)){var i=J._getGroupsArray(t)[e];if(i)return null!=i.id?i.id:null!=i.name?i.name:String(e)}return null},J.getGroupIndex=function(e,i){for(var r=J.getGroups(e),a=0;a<r.length;a++)if(i instanceof Array&&r[a]instanceof Array?t.ArrayUtils.equals(i,r[a]):i===r[a])return a;return-1},J.getGroupLabel=function(t,e){if(e>=0&&e<J.getGroupCount(t)){var i=J._getGroupsArray(t)[e];if(i)return null!=i.name?i.name:null!=i.id||"string"!=typeof i?"":i}return null},J.getGroups=function(t){var e=t.getOptionsCache().getFromCache("groups");if(!e){var i=J.getGroupCount(t);e=[];for(var r=0;r<i;r++)e.push(J.getGroup(t,r));t.getOptionsCache().putToCache("groups",e)}return e},J._getGroupsArray=function(t){var e=t.getOptions(),i=t.getOptionsCache().getFromCache("groupsArray");if(!i){i=[],e.groups&&(i=J._getNestedGroups(e.groups,i));for(var r=0;r<i.length;r++)1==i[r].id.length&&(i[r].id=i[r].id[0],i[r].name=i[r].name[0]);t.getOptionsCache().putToCache("groupsArray",i)}return i},J._getNestedGroups=function(t,i){if(!t||t&&0==t.length)return[];for(var r=0;r<t.length;r++){var a=t[r],n=null,s=null;if(null!=a&&(n=a.id?a.id:a.name?a.name:a,s=a.name?a.name:a),"object"==e(n)&&(n=null),"object"==e(s)&&(s=null),a&&a.groups){var o=J._getNestedGroups(a.groups,[]);0==o.length&&o.push({id:[],name:[]});for(var l=0;l<o.length;l++)o[l].id.unshift(n),o[l].name.unshift(s);i=i.concat(o)}else i.push({id:[n],name:[s]})}return i},J.getNumLevels=function(t){var e=t.getOptionsCache().getFromCache("groupsNumLevels");if(null!=e)return e;e=0;for(var i=J._getGroupsArray(t),r=0;r<i.length;r++){var a=i[r];if(a&&a.id){var n=Array.isArray(a.id)?a.id.length:1;e=Math.max(e,n)}}return t.getOptionsCache().putToCache("groupsNumLevels",e),e},J.getValue=function(t,i,r,a){var n,s="number"==typeof a&&a>=0;if(!s&&void 0!==(n=t.getOptionsCache().getFromCachedMap2D("value",i,r)))return n;var o=s?J.getNestedDataItem(t,i,r,a):J.getDataItem(t,i,r);return n=null,null!=o&&("object"!=e(o)?n=o:nt.isStock(t)&&null!=o.close?n=o.close:null!=o.value?n=o.value:null!=o.y&&(n=o.y)),n=n||(0===n?0:null),s||t.getOptionsCache().putToCachedMap2D("value",i,r,n),n},J.getCumulativeValue=function(t,e,i,r){if(!nt.isStacked(t))return J.getValue(t,e,i);var a=r?"cumValueH":"cumValue",n=t.getCache().getFromCachedMap2D(a,e,i);if(void 0!==n)return n;var s=it.getSeriesType(t,e),o=J.isAssignedToY2(t,e),l=J.getValue(t,e,i),h=J.getStackCategory(t,e),u="bar"==s?l<0:J.isSeriesNegative(t,e);n=0;for(var g=e;g>=0;g--)if((r||it.isDataItemRendered(t,g,i))&&s==it.getSeriesType(t,g)&&o==J.isAssignedToY2(t,g)&&J.getStackCategory(t,g)==h){var d=J.getValue(t,g,i),c="bar"==s?d<0:J.isSeriesNegative(t,g);if(u&&c||!u&&!c){var p=t.getCache().getFromCachedMap2D(a,g,i);if(void 0!==p){n=l+(p||0);break}n+=null==d||isNaN(d)?0:d}}return t.getCache().putToCachedMap2D(a,e,i,n),n},J.getLowValue=function(t,e,i){var r=J.getDataItem(t,e,i);return null==r?null:"candlestick"==it.getSeriesType(t,e)?null==r.low&&null!=r.close?null!=r.open?Math.min(r.close,r.open):r.close:r.low:null!=r.low&&null==r.close?r.low:null},J.getHighValue=function(t,e,i){var r=J.getDataItem(t,e,i);return null==r?null:"candlestick"==it.getSeriesType(t,e)?null==r.high?null!=r.open?Math.max(r.close,r.open):r.close:r.high:null!=r.high&&null==r.close?r.high:null},J.getXValue=function(t,e,i){var r=J.getDataItem(t,e,i);return J.getXValueFromItem(t,r,i)},J.getXValueFromItem=function(t,e,i){return null!=e&&null!=e.x?e.x:Q.hasGroupAxis(t)?i:Q.hasTimeAxis(t)&&!Q.isMixedFrequency(t)?J.getGroupLabel(t,i):null},J.getTargetValue=function(t,i){var r=J.getDataItem(t,i,0);return null==r||"object"!=e(r)?null:r.targetValue},J.getZValue=function(t,i,r,a){var n=J.getDataItem(t,i,r);return null==n||"object"!=e(n)?a:null!=n.z?Math.max(0,n.z):a},J.isStockValueRising=function(t,e,i){var r=J.getDataItem(t,e,i);return!r||r.open<=r.close},J.getCategories=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);if(a&&a.categories)return a.categories;var n=J.getDataItem(t,e,i);if(n&&n.categories)return n.categories;var s=J.getSeriesItem(t,e);if(s&&s.categories)return s.categories;var o=J.getSeries(t,e);return null!=o?[o]:[]},J.getViewportMinMaxGroupIndex=function(t,e){var i=Q.getXAxisViewportMinMax(t,!0),r=Q.hasGroupAxis(t),a=J.getGroupCount(t),n=i.min,s=0;if(null!=n)if(r)s=Math.ceil(n);else for(var o=0;o<a;o++){if(J.getXValue(t,e,o)>=n){s=o;break}}var l=i.max,h=a-1;if(null!=h)if(r)h=Math.floor(l);else for(o=a-1;o>=s;o--){if(J.getXValue(t,e,o)<=l){h=o;break}}return{min:s,max:h}},J.getViewportGroupCount=function(t){var e=Q.getXAxisViewportMinMax(t,!0),i=Q.getXAxisGlobalMinMax(t),r=(e.max-e.min)/(i.max-i.min);return isNaN(r)?1:r*J.getGroupCount(t)},J._computeYAlongLine=function(e,i,r,a,n,s){e&&(r=t.Math.log10(r),n=t.Math.log10(n));var o=r+(n-r)*(s-i)/(a-i);return e?Math.pow(10,o):o},J.getMinMaxValue=function(t,e,i){var r=e+(i?"MinMaxDO":"MinMax"),a=t.getCache().getFromCache(r);if(a)return a;var n=t.getOptions()[e+"Axis"];if(null!=n.dataMax&&null!=n.dataMin&&i)return a={min:n.dataMin,max:n.dataMax},t.getCache().putToCache(r,a),a;var s=Q.hasTimeAxis(t);if(null!=n.max&&null!=n.min&&!i&&!s)return a={min:n.min,max:n.max},t.getCache().putToCache(r,a),a;var o="z"!=e&&Q.isLog(t,e),l="y2"==e;l&&(e="y");for(var h="y"==e,u=!i&&h&&nt.isBLAC(t),g="withoutRescale"==$.getHideAndShowBehavior(t)||"x"==e&&Q.hasTimeAxis(t),d=-1/0,c=1/0,p=J.getSeriesCount(t),_=0;_<p;_++){var f=J.getSeriesItem(t,_),v=it.getSeriesType(t,_),m=h&&(it.isRangeSeries(t,_)||"candlestick"==v||"boxPlot"==v);if(g||it.isSeriesRendered(t,_)){var S=J.isAssignedToY2(t,_);if(!h||l==S){var C=f.items;if(C){var y=0,x=C.length-1;if(u){var A=J.getViewportMinMaxGroupIndex(t,_);y=A.min,x=A.max}for(var b=y;b<=x;b++)if(g||it.isDataItemRendered(t,_,b)){var M=C[b],T=null;if(h?m||(T=J.getCumulativeValue(t,_,b,g)):"x"==e&&s&&!Q.isMixedFrequency(t)?(T=J.getGroupLabel(t,b),null!=M&&(M.x=T)):null!=M&&(T=M[e]),!("z"==e&&T<=0)){if(!(m||null==T||"number"!=typeof T||o&&T<=0)){var I=0;nt.isBubble(t)&&!i&&"z"!=e&&(I=st.getBubbleAxisRadius(t,e,M.markerSize)),d=Math.max(d,o?T*Math.pow(10,I):T+I),c=Math.min(c,o?T/Math.pow(10,I):T-I)}if(m){var O=J.getHighValue(t,_,b),D=J.getLowValue(t,_,b);o&&(O<=0||D<=0)||(d=Math.max(d,O,D),c=Math.min(c,O,D))}if(u&&!m){var E=null,P=null;if(y>0&&b==y?(E=b-1,P=Q.getXAxisViewportMinMax(t,!0).min):x<C.length-1&&b==x&&(E=b+1,P=Q.getXAxisViewportMinMax(t,!0).max),null!=E){var L=J.getXValue(t,_,b),w=J.getXValue(t,_,E),R=J.getCumulativeValue(t,_,E),B=J._computeYAlongLine(o,L,T||0,w,R||0,P);d=Math.max(d,B),c=Math.min(c,B)}}}}}}}}var k=null;if("x"==e?k=tt.getAxisRefObjs(t,"x"):l?k=tt.getAxisRefObjs(t,"y2"):h&&(k=tt.getAxisRefObjs(t,"y")),null!=k)for(var F=0;F<k.length;F++){var N=k[F],H=N.items,G="withRescale"==$.getHideAndShowBehavior(t)&&"hidden"==N.visibility;if(!G)if(H&&!G){var U=0,V=H.length-1;if(u){var j=tt.getViewportMinMaxIndex(t,H);U=j.min,V=j.max}for(var Y=U;Y<=V;Y++)if(null!=H[Y]){D=tt.getLowValue(H[Y]),O=tt.getHighValue(H[Y]);var W=isNaN(H[Y])?H[Y].value:H[Y];null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=W&&isFinite(W)&&(c=Math.min(c,W),d=Math.max(d,W))}}else{D=tt.getLowValue(N),O=tt.getHighValue(N),W=N.value;null!=D&&isFinite(D)&&(c=Math.min(c,D),d=Math.max(d,D)),null!=O&&isFinite(O)&&(c=Math.min(c,O),d=Math.max(d,O)),null!=W&&isFinite(W)&&(c=Math.min(c,W),d=Math.max(d,W))}}return a={min:c,max:d},t.getCache().putToCache(r,a),a},J.isAssignedToY2=function(t,e){if(!t.getOptionsCache().getFromCache("hasY2Assignment"))return!1;var i=J.getSeriesItem(t,e);return!(!i||"on"!=i.assignedToY2||!nt.isDualY(t))},J.getInitialSelection=function(t){var e=t.getOptions().selection,i=null!=t.getOptions().data;e||(e=[]);for(var r=t.getChartObjPeers(),a=0;a<e.length;a++){var n=null==e[a].id||i?e[a]:e[a].id;if(null!=e[a].id||e[a].series||e[a].group||(e[a]={id:n}),!(null==n||e[a].series&&e[a].group))for(var s=0;s<r.length;s++){var o=r[s];if(J.isEqualId(n,o.getDataItemId(),t.getCtx())){e[a].series=o.getSeries(),e[a].group=o.getGroup();break}}}return e},J.getCurrentSelection=function(t){var e=[],i=t.getSelectionHandler();if(i)for(var r=i.getSelectedIds(),a=0;a<r.length;a++){var n=r[a];e.push({series:n.series,group:n.group,id:n.id})}return e},J.hasVolumeSeries=function(t){var e=t.getOptionsCache().getFromCache("hasVolume");return e||!1},J.isDataSelected=function(t,e,i,r){var a=!isNaN(r)&&null!=r&&r>=0?J.getNestedDataItemId(t,e,i,r):J.getDataItemId(t,e,i),n=J.getSeries(t,e),s=J.getGroup(t,i),o=t.getOptions().selection;o||(o=[]);for(var l=0;l<o.length;l++){if(J.isEqualId(a,o[l],t.getCtx())||J.isEqualId(a,o[l].id,t.getCtx()))return!0;if(null==o[l].id&&J.isEqualId(n,o[l].series,t.getCtx())&&J.isEqualId(s,o[l].group,t.getCtx()))return!0}return!1},J.getDataLabel=function(t,e,i,r,a,n){var s,o=J.getDefaultDataLabel(t,e,i,r,a,n),l=t.getOptions().dataLabel;if(l&&!n){var h=J.getDataContext(t,e,i,r);if(h.label=o,"number"==typeof(s=l(h))){var u=at.getValueFormat(t,"label");s=at.formatValue(t,u,s)}}return s||o},J.getDefaultDataLabel=function(t,e,i,r,a,n){var s;if(n)s=J.getCumulativeValue(t,e,i);else{var o=!isNaN(r)&&null!=r&&r>=0?J.getNestedDataItem(t,e,i,r):J.getDataItem(t,e,i);if(!o)return null;s=o.label,"low"==a?s=s instanceof Array?s[0]:s:"high"==a&&(s=s instanceof Array?s[1]:null)}if(null!=s){if("number"==typeof s){var l,h,u,g=J.isAssignedToY2(t,e)&&t.y2Axis?t.y2Axis:t.yAxis;if(g){var d=g.getInfo();l=d.getGlobalMin(),h=d.getGlobalMax(),u=d.getMajorIncrement()}var c=at.getValueFormat(t,"label");return at.formatValue(t,c,s,l,h,u)}return s}return null},J.getStackCategory=function(t,e){var i=t.getCache().getFromCachedMap("stackCategory",e);return void 0!==i||(i=nt.isStacked(t)?J.getSeriesItem(t,e).stackCategory||null:J.getSeries(t,e)||null,t.getCache().putToCachedMap("stackCategory",e,i)),i},J.getStackCategories=function(t,e,i){var r=[],a=[],n={},s={},o=t.getCache().getFromCachedMap2D("stackCategories",e,i);if(o)return o;for(var l=J.getSeriesCount(t),h=0;h<l;h++)if(it.isSeriesRendered(t,h)||i){if(e){var u=it.getSeriesType(t,h);if("candlestick"!=u&&"boxPlot"!=u||(u="bar"),e!=u)continue}var g=J.getStackCategory(t,h);J.isAssignedToY2(t,h)?s[g]||(a.push(g),s[g]=!0):n[g]||(r.push(g),n[g]=!0)}return o={y:r,y2:a},t.getCache().putToCachedMap2D("stackCategories",e,i,o),o},J.getBarCategoryZ=function(t,e,i,r){for(var a=0,n=J.getSeriesCount(t),s=0;s<n;s++){var o=it.getSeriesType(t,s);if(("bar"==o||"candlestick"==o||"boxPlot"==o)&&J.getStackCategory(t,s)==e&&it.isSeriesRendered(t,s)){var l=J.isAssignedToY2(t,s);(r&&l||!r&&!l)&&(a=Math.max(a,J.getZValue(t,s,i,1)))}}return a},J.getBarInfo=function(e,i,r,a){var n,s,o=nt.isHorizontal(e),l=nt.isStacked(e),h=t.Agent.isRightToLeft(e.getCtx()),u=e.xAxis,g=it.isRangeSeries(e,i),d=it.getBarCategoryOffsetMap(e,r),c=J.getXValue(e,i,r),p=u.getUnboundedCoordAt(c),_=J.isAssignedToY2(e,i),f=_?e.y2Axis:e.yAxis,v=f.getBaselineCoord();if(g){var m=J.getLowValue(e,i,r),S=J.getHighValue(e,i,r);if(null==m||isNaN(m)||null==S||isNaN(S))return null;if((n=f.getBoundedCoordAt(m))==(s=f.getBoundedCoordAt(S))&&null==f.getCoordAt(m))return null}else{var C=J.getValue(e,i,r),y=J.getCumulativeValue(e,i,r);if(null==C||isNaN(C))return null;if((n=f.getBoundedCoordAt(y))==(s=l?f.getBoundedCoordAt(y-C):v)&&null==f.getCoordAt(y))return null}var x=J.getStackCategory(e,i),A=it.getBarWidth(e,i,r),b=l?it.getBarStackWidth(e,x,r,_):A;if("pixel"==it.getBarSpacing(e)&&"firefox"===t.Agent.browser){var M=A/(1-it.getBarGapRatio(e));A>1&&M-A<2&&(b=--A)}var T=d[_?"y2":"y"][x]+.5*(b-A),I=h&&!o?p-T-A:p+T,O=I+A,D=(I+O)/2,E=g?(n+s)/2:n;return{x1:I,x2:O,axisCoord:v,baseCoord:s,yCoord:n,dataPos:pt.convertAxisCoord(e,new t.Point(D,E),a),barWidth:A}},J.getMarkerPosition=function(e,i,r,a,n){var s,o,l=e.xAxis,h=J.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,u=nt.isPolar(e),g=it.isRangeSeries(e,i),d=!isNaN(a)&&null!=a&&a>=0,c=J.getXValue(e,i,r),p=d?J.getValue(e,i,r,a):J.getCumulativeValue(e,i,r);if(nt.isBubble(e)){if(u&&p<h.getInfo().getViewportMin())return null;s=u?l.getCoordAt(c):l.getUnboundedCoordAt(c),o=h.getUnboundedCoordAt(p)}else if(g){var _=h.getCoordAt(J.getLowValue(e,i,r)),f=h.getCoordAt(J.getHighValue(e,i,r));s=l.getCoordAt(J.getXValue(e,i,r)),o=(_+f)/2}else s=l.getCoordAt(c),o=h.getCoordAt(p);return null==s||null==o?null:pt.convertAxisCoord(e,new t.Point(s,o),n)},J.getScatterBubbleMarkerPosition=function(e,i,r){var a=e.xAxis,n=e.yAxis,s=J.getXValue(e,i,r),o=J.getValue(e,i,r),l=a.getCoordAt(s),h=n.getCoordAt(o);return null==l||null==h?null:new t.Point(l,h)},J.isSeriesNegative=function(t,e){if(!t.getOptionsCache().getFromCache("hasNegativeValues"))return!1;var i=t.getOptionsCache().getFromCachedMap("isSeriesNegative",e);if(null!=i)return i;var r=J.getGroupCount(t);i=!0;for(var a=0;a<r;a++){if(J.getValue(t,e,a)>0){i=!1;break}}return t.getOptionsCache().putToCachedMap("isSeriesNegative",e,i),i},J.getDataContext=function(t,e,i,r){var a,n=J.getSeriesItem(t,e),s=J.getDataItem(t,e,i),o=J.getNestedDataItem(t,e,i,r),l=t.getRawOptions(),h=nt.isPie(t)&&(null==e||e<0),u=t.getOptions();if(h){var g=u.translations.labelOther;a={id:g,series:g,value:ot.getOtherValue(t),color:u.styleDefaults.otherColor}}else if(o){(d=l.series[e].items[i])._noTemplate?d=d._itemData:delete d._itemData,a={id:J.getNestedDataItemId(t,e,i,r),data:[d,d.items[r]],value:J.getValue(t,e,i,r),y:J.getValue(t,e,i,r),color:it.getMarkerColor(t,e,i,r),itemData:u.series[e].items[i]._itemData}}else if(s){var d;(d=l.series[e].items[i])._noTemplate?d=d._itemData:delete d._itemData,a={id:J.getDataItemId(t,e,i),data:d,value:J.getValue(t,e,i),targetValue:J.getTargetValue(t,e,i),x:J.getXValue(t,e,i),y:J.getValue(t,e,i),z:J.getZValue(t,e,i),low:J.getLowValue(t,e,i),high:J.getHighValue(t,e,i),open:s.open,close:s.close,volume:s.volume,color:it.getColor(t,e,i),itemData:u.series[e].items[i]._itemData}}else n&&(a={id:J.getSeries(t,e),color:it.getColor(t,e)});if(a){a.component=u._widgetConstructor,(h||o||s)&&(a.group=J.getGroup(t,i),a.groupData=J.getGroupsDataForContext(t)[i]),!h&&(o||s||n)&&(a.series=J.getSeries(t,e),a.seriesData=l.series[e]),nt.isPie(t)&&t.pieChart&&(a.totalValue=t.pieChart.getTotalValue());var c=t.getOptionsCache().getFromCachedMap2D("barDims",e,i);c&&(a.dimensions=c),a=t.getCtx().fixRendererContext(a)}return a||{}},J.getGroupsDataForContext=function(t){var e=t.getOptionsCache().getFromCache("groupsDataArray");if(!e){var i=t.getRawOptions();e=J._getNestedGroupsData(i.groups),t.getOptionsCache().putToCache("groupsDataArray",e)}return e},J._getNestedGroupsData=function(t){if(!t)return[];for(var e=[],i=0;i<t.length;i++){var r=t[i];if(r.groups){for(var a=J._getNestedGroupsData(r.groups),n=0;n<a.length;n++)a[n].unshift(r);e=e.concat(a)}else e.push([r])}return e},J._computeOutermostBarMap=function(t){if(!t.getOptionsCache().getFromCache("outermostBar")){for(var e={},i=J.getSeriesCount(t),r=t.getOptionsCache().getFromCache("hasNegativeValues"),a=i-1;a>=0;a--)if(it.isSeriesRendered(t,a)&&"bar"==it.getSeriesType(t,a)){var n=(J.getStackCategory(t,a)||"")+J.isAssignedToY2(t,a);e[n]?e[n].push(a):e[n]=[a]}var s=J.getGroupCount(t);for(var o in e)for(var l=e[o],h=0;h<s;h++)for(var u=!1,g=!1,d=0;d<l.length&&!(!r&&u||u&&g);d++)if(a=l[d],it.isDataItemRendered(t,a,h)){var c=J.getValue(t,a,h);null==c?t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!1):!u&&c>=0?(u=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0)):!g&&c<0&&(g=!0,t.getOptionsCache().putToCachedMap2D("outermostBar",a,h,!0))}}},J.isOutermostBar=function(t,e,i){return J._computeOutermostBarMap(t),t.getOptionsCache().getFromCachedMap2D("outermostBar",e,i)||!1},J.isDataItemFiltered=function(t,e,i){var r=J.getDataItem(t,e,i);return!(!r||!r._filtered)},J.getFilteredChartObjPeers=function(t){if(!t.getCache().getFromCache("dataFiltered"))return[];var e=t.getCache().getFromCache("filteredChartObjPeers");if(!e){e=[];for(var i=0;i<J.getSeriesCount(t);i++)for(var r=0;r<J.getGroupCount(t);r++){var a;if(J.isDataItemFiltered(t,i,r))a="bar"==it.getSeriesType(t,i)?J.getBarInfo(t,i,r).dataPos:J.getMarkerPosition(t,i,r),e.push(new n(t,[],i,r,null,a))}t.getCache().putToCache("filteredChartObjPeers",e)}return e};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var $=new Object;t.Obj.createSubclass($,t.Obj),$.getHideAndShowBehavior=function(t){return t.getOptions().hideAndShowBehavior},$.getHoverBehavior=function(t){return t.getOptions().hoverBehavior},$.setVisibility=function(t,e,i){var r=tt.getRefObj(t,e);null!=r&&(r.visibility=i);var a=it.getHiddenCategories(t),n=a.indexOf(e);"hidden"==i&&n<0?a.push(e):"visible"==i&&n>=0&&a.splice(n,1);var s=t.getOptions();if(s&&s.legend&&s.legend.sections){for(var o=0;o<s.legend.sections.length;o++){var l=s.legend.sections[o];if(l&&l.items)for(var h=0;h<l.items.length;h++)l.items[h].id==e&&(l.items[h].categoryVisibility=i)}return!0}return!1},$.isScrollable=function(t){return!!nt.isScrollSupported(t)&&"off"!=t.getOptions().zoomAndScroll},$.isZoomable=function(t){if(!nt.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"delayed"==e},$.getZoomDirection=function(t){return nt.isScatterBubble(t)?t.getOptions().zoomDirection:"auto"},$.isLiveScroll=function(t){if(!nt.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"liveScrollOnly"==e},$.isDelayedScroll=function(t){if(!nt.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"delayed"==e||"delayedScrollOnly"==e},$.processIds=function(t,e){for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a.series==ot.OTHER_SLICE_SERIES_ID){var n=ot.getOtherSliceIds(t);i=i.concat(n)}else i.push(a)}return i},$.adjustBounds=function(t){null!=t.x&&(t.x-=1),null!=t.w&&(t.w+=2),null!=t.y&&(t.y-=1),null!=t.h&&(t.h+=2)},$.getBoundedObjects=function(t,e){for(var i=t.getChartObjPeers().concat(J.getFilteredChartObjPeers(t)),r=[],a=0;a<i.length;a++){var n=i[a],s=n.getDataPosition();if(s){s=t.getPlotArea().localToStage(s);var o=null==e.x||s.x>=e.x&&s.x<=e.x+e.w,l=null==e.y||s.y>=e.y&&s.y<=e.y+e.h;o&&l&&r.push(n)}}return r},$.getAxisBounds=function(e,i,r){var a=e.getPlotArea(),n=a.stageToLocal(new t.Point(i.x,i.y)),s=a.stageToLocal(new t.Point(i.x+i.w,i.y+i.h));null==i.x&&(n.x=null,s.x=null),null==i.y&&(n.y=null,s.y=null);var o=$._convertToAxisCoord(e,n.x,s.x,n.y,s.y),l={},h={},u={},g={};return e.xAxis&&(l=$._getAxisMinMax(e.xAxis,o.xMin,o.xMax,r),g=$.getAxisStartEndGroup(e.xAxis,l.min,l.max)),e.yAxis&&(h=$._getAxisMinMax(e.yAxis,o.yMin,o.yMax,r)),e.y2Axis&&(u=$._getAxisMinMax(e.y2Axis,o.yMin,o.yMax,r)),{xMin:l.min,xMax:l.max,unchanged:l.unchanged,yMin:h.min,yMax:h.max,y2Min:u.min,y2Max:u.max,startGroup:g.startGroup,endGroup:g.endGroup}},$._getAxisMinMax=function(t,e,i,r){if(null==e||null==i)return{min:null,max:null};var a=t.getUnboundedLinearValueAt(e),n=t.getUnboundedLinearValueAt(i);if(r){var s=t.getInfo().getMinimumExtent();if(n-a<s){var o=(n+a)/2;n=o+s/2,a=o-s/2}return $._limitToGlobal(t,a,n)}return $.getActualMinMax(t,a,n)},$.getAxisBoundsByDelta=function(t,e,i,r,a){var n=$._convertToAxisCoord(t,e,i,r,a),s=$.getZoomDirection(t),o={},l={},h={},u={};return t.xAxis&&"y"!=s&&(o=$._getAxisMinMaxByDelta(t.xAxis,n.xMin,n.xMax),u=$.getAxisStartEndGroup(t.xAxis,o.min,o.max)),t.yAxis&&"x"!=s&&(l=$._getAxisMinMaxByDelta(t.yAxis,n.yMin,n.yMax)),t.y2Axis&&(h=$._getAxisMinMaxByDelta(t.y2Axis,n.yMin,n.yMax)),{xMin:o.min,xMax:o.max,unchanged:o.unchanged,yMin:l.min,yMax:l.max,y2Min:h.min,y2Max:h.max,startGroup:u.startGroup,endGroup:u.endGroup}},$._getAxisMinMaxByDelta=function(t,e,i){var r=t.getLinearViewportMin(),a=t.getLinearViewportMax();if(i==e&&t.isFullViewport())return $.getActualMinMax(t,r,a);var n=t.getUnboundedLinearValueAt(e)-t.getUnboundedLinearValueAt(0),s=t.getUnboundedLinearValueAt(i)-t.getUnboundedLinearValueAt(0),o=1,l=a+s-(r+n),h=t.getInfo().getMinimumExtent();return e!=i&&l<h&&(o=(a-r-h)/(n-s)),r+=n*o,a+=s*o,$._limitToGlobal(t,r,a)},$._convertToAxisCoord=function(e,i,r,a,n){var s={},o=t.Agent.isRightToLeft(e.getCtx());return nt.isHorizontal(e)?(s.xMin=a,s.xMax=n,s.yMin=o?r:i,s.yMax=o?i:r):(s.xMin=o?r:i,s.xMax=o?i:r,s.yMin=n,s.yMax=a),s},$._limitToGlobal=function(t,e,i){var r=t.getLinearGlobalMin(),a=t.getLinearGlobalMax();return i-e>=a-r?(e=r,i=a):e<r?(i+=r-e,e=r):i>a&&(e-=i-a,i=a),$.getActualMinMax(t,e,i)},$.getActualMinMax=function(t,e,i){var r={min:t.linearToActual(e),max:t.linearToActual(i)};if(t.isGroupAxis()){var a=t.getLinearViewportMin(),n=t.getLinearViewportMax();Math.abs(e-a)<1e-4&&Math.abs(i-n)<1e-4&&(r.unchanged=!0)}return r},$.getAxisStartEndGroup=function(t,e,i){if(t.isGroupAxis()&&null!=e&&null!=i){var r=Math.ceil(e),a=Math.floor(i);if(a>=r)return{startGroup:t.getInfo().getGroup(r),endGroup:t.getInfo().getGroup(a)}}return{startGroup:null,endGroup:null}},$.setInitialSelection=function(t,e){var i=t.getSelectionHandler();if(i)if(e&&0!=e.length){for(var r=[],a=0;a<e.length;a++)null!=e[a].id?r.push(e[a].id):null!=e[a].series&&null!=e[a].group&&r.push(J.createDataItemId(e[a].series,e[a].group));for(var n=new(t.getCtx().KeySetImpl)(r),s=t.getChartObjPeers(),o=[],l=0;l<s.length;l++){var h=s[l];if(h.isSelectable()){var u=h.getDataItemId(),g=J.createDataItemId(h.getSeries(),h.getGroup());(n.has(u)||n.has(g))&&o.push(h.getId())}}i.processInitialSelections(o,s)}else i.clearSelection()},$.getKeyboardNavigables=function(t){var e=[];if(nt.isPie(t))for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)it.isSeriesRendered(t,i[r].getSeriesIndex())&&e.push(i[r]);else{var a=t.getChartObjPeers();for(r=0;r<a.length;r++)a[r].isNavigable()&&e.push(a[r])}return e},$.isSeriesDrillable=function(t,e){var i=J.getSeriesItem(t,e),r=null!=i?i.drilling:"inherit";return"on"==r||"off"!=r&&("on"==(r=t.getOptions().drilling)||"seriesOnly"==r)},$.isDataItemDrillable=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);a||(a=J.getDataItem(t,e,i));var n=null!=a?a.drilling:"inherit";return"on"==n||"off"!=n&&"on"==(n=t.getOptions().drilling)},$.addEventData=function(t,e){var i=J.getSeriesIndex(t,e.series),r=J.getGroupIndex(t,e.group),a=J.getNestedDataItemIndex(t,i,r,e.id),n=J.getDataContext(t,i,r,a);n&&(e.data=n.data,e.itemData=n.itemData,e.seriesData=n.seriesData,n.groupData?e.groupData=n.groupData:null!=r&&(e.groupData=J.getGroupsDataForContext(t)[r]))},$.isPlotAreaDraggable=function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drag.items:{};return Object.keys(i).length>0},$.isPlotAreaDropTarget=function(t){var e=t.getOptions(),i=e.dnd?e.dnd.drop.plotArea:{};return Object.keys(i).length>0},$.addPlotAreaDnDBackground=function(e,i,r,a){var n=$.isPlotAreaDraggable(e);($.isPlotAreaDropTarget(e)||n)&&(background=new t.Rect(e.getCtx(),0,0,a?r.w:r.h,a?r.h:r.w),background.setInvisibleFill(),i.addChild(background),e.getCache().putToCache("plotAreaBackground",background),n&&background.setClassName("oj-draggable"))};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var tt=new Object;t.Obj.createSubclass(tt,t.Obj),tt.getRefObjs=function(t){var e=tt.getAxisRefObjs(t,"x"),i=tt.getAxisRefObjs(t,"y"),r=tt.getAxisRefObjs(t,"y2");return e.concat(i,r)},tt.getAxisRefObjs=function(t,e){var i=t.getOptions();return i&&i[e+"Axis"]&&i[e+"Axis"].referenceObjects?i[e+"Axis"].referenceObjects:[]},tt.getType=function(t){return"area"==t.type?"area":"line"},tt.getLocation=function(t){return"front"==t.location?"front":"back"},tt.getColor=function(t){return t.color?t.color:"#333333"},tt.getLineWidth=function(t){return t.lineWidth?t.lineWidth:1},tt.getLineType=function(t){return t.lineType?t.lineType:"straight"},tt.isObjectRendered=function(e,i){var r=it.getHiddenCategories(e);if(r.length>0){var a=tt.getRefObjCategories(i);if(a&&t.ArrayUtils.hasAnyItem(r,a))return!1}return!("hidden"==i.visibility)},tt.getId=function(t){return null!=t.id?t.id:t.text},tt.getRefObjCategories=function(t){return t.categories?t.categories:[tt.getId(t)]},tt.getRefObj=function(t,e){for(var i=tt.getRefObjs(t),r=0;r<i.length;r++)if(tt.getId(i[r])==e)return i[r]},tt.getLowValue=function(t){return null==t?null:t.low},tt.getHighValue=function(t){return null==t?null:t.high},tt.getXValue=function(t,e,i){return J.getXValueFromItem(t,e[i],i)},tt.getViewportMinMaxIndex=function(t,e){var i=Q.getXAxisViewportMinMax(t,!0),r=Q.hasGroupAxis(t),a=i.min,n=0;if(null!=a)if(r)n=Math.ceil(a);else for(var s=0;s<e.length;s++){if(tt.getXValue(t,e,s)>=a){n=s;break}}var o=i.max,l=e.length-1;if(null!=l)if(r)l=Math.floor(o);else for(s=e.length-1;s>=n;s--){if(J.getXValue(t,e,s)<=o){l=s;break}}return{min:n,max:l}};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var et=new Object;t.Obj.createSubclass(et,t.Obj),et.getBarFill=function(t,e,i,r){var a=it.getColor(t,e,i),n=it.getPattern(t,e,i);return et.getRectangleFill(t,a,n,r)},et.getRectangleFill=function(e,i,r,a){var n=it.getSeriesEffect(e);if(r)return new t.PatternFill(r,i);if("gradient"==n&&a>3){var s,o,l=nt.isHorizontal(e)?270:0;return s=[t.ColorUtils.adjustHSL(i,0,-.09,.04),t.ColorUtils.adjustHSL(i,0,-.04,-.05)],o=[0,1],new t.LinearGradientFill(l,s,null,o)}return new t.SolidFill(i)},et.getAreaFill=function(e,i){var r,a="lineWithArea"==it.getSeriesType(e,i),n=J.getSeriesItem(e,i);n&&n.areaColor?r=n.areaColor:(r=it.getColor(e,i),a&&(r=t.ColorUtils.setAlpha(r,.2)));var s=it.getPattern(e,i),o=it.getSeriesEffect(e);if(s)return new t.PatternFill(s,r);if("gradient"==o){var l,h,u=nt.isHorizontal(e)?180:270;if(a){var g=t.ColorUtils.getAlpha(r);l=[t.ColorUtils.setAlpha(r,Math.min(g+.2,1)),t.ColorUtils.setAlpha(r,Math.max(g-.15,0))],h=[0,1]}else l=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],h=[0,1];return new t.LinearGradientFill(u,l,null,h)}return new t.SolidFill(r)},et.getMarkerFill=function(e,i,r,a){var n=it.getMarkerColor(e,i,r,a),s=it.getPattern(e,i,r,a);if(s)return new t.PatternFill(s,n);if(nt.isBubble(e)&&"gradient"==it.getSeriesEffect(e)){var o=[t.ColorUtils.adjustHSL(n,0,-.09,.04),t.ColorUtils.adjustHSL(n,0,-.04,-.05)];return new t.LinearGradientFill(270,o,null,[0,1])}return new t.SolidFill(n)},et.getFunnelPyramidSliceFill=function(e,i,r,a,n){var s,o=it.getPattern(e,i,0),l=it.getSeriesEffect(e);if(o&&!n)return("vertical"==e.getOptions().orientation||nt.isPyramid(e))&&(s=t.Agent.isRightToLeft(e.getCtx())?new t.Matrix(0,-1,1,0):new t.Matrix(0,1,-1,0)),new t.PatternFill(o,r,null,s);if("gradient"==l){var h,u,g=nt.isPyramid(e)?180:90;return"on"==e.getOptions().styleDefaults.threeDEffect?(h=[t.ColorUtils.adjustHSL(r,0,0,-.1),t.ColorUtils.adjustHSL(r,0,0,.12),r],u=[0,.65,1]):(h=[t.ColorUtils.adjustHSL(r,0,-.09,.04),t.ColorUtils.adjustHSL(r,0,-.04,-.05)],u=[0,1]),new t.LinearGradientFill(g,h,null,u,[a.x,a.y,a.w,a.h])}return new t.SolidFill(r)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var it=new Object;t.Obj.createSubclass(it,t.Obj),it._SERIES_TYPE_RAMP=["bar","line","area"],it.getSeriesType=function(t,e){var i=t.getOptionsCache().getFromCachedMap("seriesType",e);if(i)return i;if(!nt.isBLAC(t))return t.getOptionsCache().putToCachedMap("seriesType",e,"auto"),"auto";var r=J.getSeriesItem(t,e);if(i=r?r.type:null,nt.isStock(t)||"candlestick"!=i||(i="auto"),!i||"auto"==i)if(nt.isBar(t))i="bar";else if(nt.isLine(t))i="line";else if(nt.isArea(t))i="area";else if(nt.isLineWithArea(t))i="lineWithArea";else if(nt.isStock(t))i="candlestick";else if(nt.isBoxPlot(t))i="boxPlot";else if(nt.isCombo(t)){var a=J.getSeriesStyleIndex(t,e)%it._SERIES_TYPE_RAMP.length;i=it._SERIES_TYPE_RAMP[a]}return t.getOptionsCache().putToCachedMap("seriesType",e,i),i},it.isRangeSeries=function(t,e){var i=t.getOptionsCache();if(!i.getFromCache("hasLowHighSeries"))return!1;var r=i.getFromCachedMap("isRange",e);if(null!=r)return r;r=!1;var a=it.getSeriesType(t,e);if("bar"==a||"area"==a)for(var n=0;n<J.getGroupCount(t);n++)if(null!=J.getLowValue(t,e,n)||null!=J.getHighValue(t,e,n)){r=!0;break}return t.getOptionsCache().putToCachedMap("isRange",e,r),r},it.getSeriesEffect=function(t){return t.getOptions().styleDefaults.seriesEffect},it.getColor=function(t,e,i){var r=J.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=J.getSeriesItem(t,e);if(a&&a.color)return a.color;if("candlestick"==it.getSeriesType(t,e))return it.getStockItemColor(t,e,i);var n=t.getOptions().styleDefaults.colors;return n[J.getSeriesStyleIndex(t,e)%n.length]},it.getStockItemColor=function(t,e,i){var r=t.getOptions();return J.isStockValueRising(t,e,i)?r.styleDefaults.stockRisingColor:r.styleDefaults.stockFallingColor},it.getStockVolumeColor=function(t,e,i){var r=J.getDataItem(t,e,i);if(r&&r.color)return r.color;var a=t.getOptions();return a.styleDefaults.stockVolumeColor?a.styleDefaults.stockVolumeColor:it.getStockItemColor(t,e,i)},it.getSplitterPosition=function(t){var e=t.getOptions().splitterPosition;return null!=e?e:nt.isStock(t)?.8:.5},it.getPattern=function(e,i,r,a){var n=J.getNestedDataItem(e,i,r,a);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var s=J.getDataItem(e,i,r);if(s&&s.pattern&&"auto"!=s.pattern)return s.pattern;var o=it.getSeriesType(e,i);if(("line"==o||"area"==o)&&null!=r)return null;var l=J.getSeriesItem(e,i);if(l&&l.pattern&&"auto"!=l.pattern)return l.pattern;if("pattern"==it.getSeriesEffect(e)){if(nt.isStock&&"candlestick"==it.getSeriesType(e,i)){var h=J.isStockValueRising(e,i,r),u=t.Agent.isRightToLeft(e.getCtx());return h?u?"smallDiagonalLeft":"smallDiagonalRight":u?"smallDiagonalRight":"smallDiagonalLeft"}var g=e.getOptions().styleDefaults.patterns;return g[J.getSeriesStyleIndex(e,i)%g.length]}return null},it.getMarkerBorderColor=function(e,i,r,a){var n=it.getBorderColor(e,i,r,a);if(n)return n;if(it.getDataItemGaps(e)>0&&"lineWithArea"!=it.getSeriesType(e,i))return it.getBackgroundColor(e,!0);if(nt.isBubble(e)&&"gradient"!=it.getSeriesEffect(e)){var s=it.getMarkerColor(e,i,r);if(s)return t.ColorUtils.adjustHSL(s,0,.15,-.25)}return null},it.getBorderColor=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);if(a&&a.borderColor)return a.borderColor;var n=J.getDataItem(t,e,i);if(n&&n.borderColor)return n.borderColor;var s=J.getSeriesItem(t,e);if(s&&s.borderColor)return s.borderColor;var o=t.getOptions().styleDefaults;return"auto"!=o.borderColor?o.borderColor:null},it.getBorderWidth=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);if(a&&null!=a.borderWidth)return a.borderWidth;var n=J.getDataItem(t,e,i);if(n&&null!=n.borderWidth)return n.borderWidth;var s=J.getSeriesItem(t,e);if(s&&null!=s.borderWidth)return s.borderWidth;var o=t.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:nt.isScatterBubble(t)||nt.isLineArea(t)?1.25:1},it.getMarkerColor=function(t,e,i,r){if(!it.isMarkerDisplayed(t,e,i,r))return it.getColor(t,e,i);var a=J.getNestedDataItem(t,e,i,r);if(a&&a.color)return a.color;var n=J.getDataItem(t,e,i);if(n&&n.color)return n.color;var s=J.getSeriesItem(t,e);if(s&&s.markerColor)return s.markerColor;var o=t.getOptions().styleDefaults.markerColor;return o||it.getColor(t,e,i)},it.getMarkerShape=function(t,e,i,r){var a=t.getOptions(),n=a.styleDefaults.markerShape,s=J.getSeriesItem(t,e);s&&s.markerShape&&(n=s.markerShape);var o=J.getDataItem(t,e,i);o&&o.markerShape&&(n=o.markerShape);var l=J.getNestedDataItem(t,e,i,r);if(l&&l.markerShape&&(n=l.markerShape),"auto"==n)if(nt.isBubble(t)||"boxPlot"==it.getSeriesType(t,e)||it.isRangeSeries(t,e))n="circle";else{var h=J.getSeriesStyleIndex(t,e),u=a.styleDefaults.shapes;n=u[h%u.length]}return n},it.getMarkerSize=function(t,e,i,r){var a,n=J.getNestedDataItem(t,e,i,r);if(n&&null!=n.markerSize)a=Number(n.markerSize);else{var s=J.getDataItem(t,e,i);if(s&&null!=s.markerSize)a=Number(s.markerSize);else{var o=J.getSeriesItem(t,e);a=o&&null!=o.markerSize?Number(o.markerSize):Number(t.getOptions().styleDefaults.markerSize)}}return nt.isOverview(t)&&(a=Math.ceil(.6*a)),a},it.isMarkerDisplayed=function(t,e,i,r){var a,n=J.getNestedDataItem(t,e,i,r);if(n&&null!=n.markerDisplayed)a=n.markerDisplayed;else{var s=J.getDataItem(t,e,i);if(s&&null!=s.markerDisplayed)a=s.markerDisplayed;else{var o=J.getSeriesItem(t,e);a=o&&null!=o.markerDisplayed?o.markerDisplayed:t.getOptions().styleDefaults.markerDisplayed}}return"on"==a||"off"!=a&&(nt.isScatterBubble(t)||"boxPlot"==it.getSeriesType(t,e)||"none"==it.getLineType(t,e))},it.getImageSource=function(t,e,i,r,a){var n=J.getNestedDataItem(t,e,i,r);if(n&&n[a])return n[a];var s=J.getDataItem(t,e,i);if(s&&s[a])return s[a];var o=J.getSeriesItem(t,e);return o&&o[a]?o[a]:void 0},it.getLineWidth=function(t,e){var i,r=J.getSeriesItem(t,e),a=t.getOptions();return i=r&&r.lineWidth?r.lineWidth:a.styleDefaults.lineWidth?a.styleDefaults.lineWidth:"lineWithArea"==it.getSeriesType(t,e)?2:3,nt.isOverview(t)&&(i=Math.ceil(.6*i)),i},it.getLineStyle=function(t,e){var i=J.getSeriesItem(t,e);return i&&i.lineStyle?i.lineStyle:t.getOptions().styleDefaults.lineStyle},it.getLineType=function(t,e){var i,r=J.getSeriesItem(t,e);return"auto"==(i=r&&r.lineType?r.lineType:t.getOptions().styleDefaults.lineType)&&(i=nt.isScatterBubble(t)?"none":"straight"),(nt.isPolar(t)||nt.isScatterBubble(t))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},it.getBarSpacing=function(t){return t.getOptions().__sparkBarSpacing},it.getBarGapRatio=function(t){var e=t.getCache().getFromCache("barGapRatio");if(e)return e;if("string"==typeof(e=t.getOptions().styleDefaults.barGapRatio)&&"%"==e.slice(-1)&&(e=Number(e.slice(0,-1))/100),null!=e&&!isNaN(e))return e;var i=J.getStackCategories(t,"bar"),r=i.y.length,a=i.y2.length,n=nt.isSplitDualY(t)?Math.max(r,a):r+a;return e=nt.isPolar(t)?1==n?0:.25:1==n?.37+.26/J.getViewportGroupCount(t):.25,t.getCache().putToCache("barGapRatio",e),e},it.getMaxBarWidth=function(t){var e=t.getOptions().styleDefaults.maxBarWidth;return null==e||nt.isPolar(t)?1/0:e},it.getBarWidth=function(t,e,i){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0,i=0);var r=t.getCache().getFromCachedMap2D("barWidth",e,i);if(null!=r)return r;var a=J.getZValue(t,e,i,1)/t.getOptions()._averageGroupZ;return r=Math.min(a*it.getGroupWidth(t),it.getMaxBarWidth(t)),t.getCache().putToCachedMap2D("barWidth",e,i,r),r},it.getBarStackWidth=function(t,e,i,r){t.getOptionsCache().getFromCache("hasConstantZValue")&&(i=0);var a=r?"y2BarStackWidth":"yBarStackWidth",n=t.getCache().getFromCachedMap2D(a,e,i);if(null!=n)return n;var s=J.getBarCategoryZ(t,e,i,r)/t.getOptions()._averageGroupZ;return n=Math.min(s*it.getGroupWidth(t),it.getMaxBarWidth(t)),t.getCache().putToCachedMap2D(a,e,i,n),n},it.getBarCategoryOffsetMap=function(t,e){t.getOptionsCache().getFromCache("hasConstantZValue")&&(e=0);var i=t.getCache().getFromCachedMap("barCategoryOffsetMap",e);if(i)return i;var r,a=nt.isStacked(t),n=J.getStackCategories(t,"bar"),s=Q.isMixedFrequency(t),o=nt.isSplitDualY(t),l={},h={},u=0,g=0;if(a){for(c=0;c<n.y.length;c++)r=it.getBarStackWidth(t,n.y[c],e,!1),s?l[n.y[c]]=-.5*r:(l[n.y[c]]=u,u+=r);for(o||(g=u),c=0;c<n.y2.length;c++)r=it.getBarStackWidth(t,n.y2[c],e,!0),s?h[n.y2[c]]=-.5*r:(h[n.y2[c]]=g,g+=r);o||(u=g)}else for(var d=J.getSeriesCount(t),c=0;c<d;c++){var p=it.getSeriesType(t,c);if(("bar"==p||"candlestick"==p||"boxPlot"==p)&&it.isSeriesRendered(t,c)){var _=J.isAssignedToY2(t,c),f=J.getStackCategory(t,c);r=it.getBarWidth(t,c,e),_?s?h[f]=-.5*r:(h[f]=g,g+=r):s?l[f]=-.5*r:(l[f]=u,u+=r)}}for(var f in l)l[f]-=o||a?u/2:(u+g)/2;for(var f in h)h[f]-=o||a?g/2:(u+g)/2-u;return i={y:l,y2:h},t.getCache().putToCachedMap("barCategoryOffsetMap",e,i),i},it.getDataItemGaps=function(t){var e=t.getOptionsCache().getFromCache("dataItemGaps");if(null!=e)return e;var i=t.getOptions();if(null!=i.styleDefaults.sliceGaps)e=i.styleDefaults.sliceGaps;else{var r=i.styleDefaults.dataItemGaps;"auto"==r&&(r="on"==i.styleDefaults.threeDEffect?"0%":"50%");var a=r&&r.indexOf?r.indexOf("%"):-1;e=a>=0?(r=r.substring(0,a))/100:0}return t.getOptionsCache().putToCache("dataItemGaps",e),e},it.isSelectable=function(t,e,i){var r=J.getSeriesItem(t,e);return(!r||"off"!=r._selectable)&&(t.isSelectionSupported()&&null!=e&&e>=0&&null!=i&&i>=0)},it.isSeriesRendered=function(e,i){var r=it.getHiddenCategories(e);return!(r.length>0&&t.ArrayUtils.hasAnyItem(r,J.getCategories(e,i)))},it.isDataItemRendered=function(e,i,r,a){var n,s=!isNaN(a)&&null!=a&&a>=0;if(!s&&void 0!==(n=e.getOptionsCache().getFromCachedMap2D("isDataItemRendered",i,r)))return n;if(n=!0,it.isSeriesRendered(e,i)){var o=it.getHiddenCategories(e);o.length>0&&((nt.isPie(e)||nt.isFunnel(e)||nt.isPyramid(e))&&(r=0),t.ArrayUtils.hasAnyItem(o,J.getCategories(e,i,r))&&(n=!1),t.ArrayUtils.hasAnyItem(o,J.getCategories(e,i,r,a))&&(n=!1))}else n=!1;return s||e.getOptionsCache().putToCachedMap2D("isDataItemRendered",i,r,n),n},it.getAnimationOnDisplay=function(t){return t.getOptions().animationOnDisplay},it.getAnimationOnDataChange=function(t){return t.getOptions().animationOnDataChange},it.getAnimationDuration=function(e){return t.CSSStyle.getTimeMilliseconds(e.getOptions().styleDefaults.animationDuration)/1e3},it.getAnimationIndicators=function(t){return t.getOptions().styleDefaults.animationIndicators},it.getAnimationUpColor=function(t){return t.getOptions().styleDefaults.animationUpColor},it.getAnimationDownColor=function(t){return t.getOptions().styleDefaults.animationDownColor},it.getHiddenCategories=function(t){var e=t.getOptions();return e.hiddenCategories||(e.hiddenCategories=[]),e.hiddenCategories},it.getHighlightedCategories=function(t){var e=t.getOptions();return e.highlightedCategories||(e.highlightedCategories=[]),e.highlightedCategories},it.getSelectedInnerColor=function(t){return t.getOptions().styleDefaults.selectedInnerColor},it.getSelectedOuterColor=function(t){return t.getOptions().styleDefaults.selectedOuterColor},it.isSelectionHighlighted=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"highlight"==e||"highlightAndExplode"==e},it.isSelectionExploded=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"explode"==e||"highlightAndExplode"==e},it.getDataLabelStyle=function(e,i,r,a,n,s,o){var l,h=[];!n||"bar"!=it.getSeriesType(e,i)&&!nt.isBubble(e)||"center"!=s&&"inBottom"!=s&&"inTop"!=s&&"inRight"!=s&&"inLeft"!=s?h.push(new t.CSSStyle("color: #333333;")):(l=null!=it.getPattern(e,i,r,a)?"#000000":t.ColorUtils.getContrastingTextColor(n),h.push(new t.CSSStyle("color: "+l+";"))),h.push(it._parseLowHighArray(e.getOptions().styleDefaults.dataLabelStyle,o));var u=J.getDataItem(e,i,r);u&&h.push(new t.CSSStyle(it._parseLowHighArray(u.labelStyle,o)));var g=J.getNestedDataItem(e,i,r,a);return g&&h.push(new t.CSSStyle(it._parseLowHighArray(g.labelStyle,o))),l&&t.Agent.isHighContrast()&&h.push(new t.CSSStyle("color: "+l+";")),t.CSSStyle.mergeStyles(h)},it.getDataLabelPosition=function(e,i,r,a,n,s){var o,l=J.getNestedDataItem(e,i,r,a),h=J.getDataItem(e,i,r);if(s)o="outsideBarEdge";else if((o=l&&l.labelPosition?l.labelPosition:h.labelPosition)||(o=e.getOptions().styleDefaults.dataLabelPosition),"none"==(o=it._parseLowHighArray(o,n)))return"none";var u=t.Agent.isRightToLeft(e.getCtx()),g=nt.isHorizontal(e),d=nt.isPolar(e);if(nt.isFunnel(e)||nt.isPyramid(e))return"center";if("bar"==it.getSeriesType(e,i)){if("center"==o||d)return"center";var c,p=nt.isStacked(e);if("insideBarEdge"!=o){if(p&&!s)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!p){var _,f=e.getOptions().styleDefaults.dataLabelStyle,v=h.labelStyle?t.CSSStyle.mergeStyles([f,new t.CSSStyle(h.labelStyle)]):f;if(g){var m=J.getDataLabel(e,i,r,a,n);_=t.TextUtils.getTextStringWidth(e.getCtx(),m,v)}else _=t.TextUtils.getTextStringHeight(e.getCtx(),v);var S=J.getBarInfo(e,i,r);(S?Math.abs(S.baseCoord-S.yCoord):0)<=_&&(o="outsideBarEdge")}return c="low"==n?h.low<=h.high:"high"==n?h.high<h.low:J.getValue(e,i,r,a)<0,"outsideBarEdge"==o?g?!c&&!u||c&&u?"right":"left":c?"bottom":"top":g?!c&&!u||c&&u?"inRight":"inLeft":c?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(nt.isBubble(e))return"center";if("low"!=n||d)if("high"!=n||d)o="afterMarker";else{if(!g)return"top";o="afterMarker"}else{if(!g)return"bottom";o="beforeMarker"}}return!u&&"afterMarker"==o||u&&"beforeMarker"==o?"right":"left"},it.getDataLabelCollisions=function(t,e,i,r,a){var n=e&&e.x&&e.x-i.w/2||i.x,s=e&&e.y&&e.y-i.h/2||i.y,o=pt._MARKER_DATA_LABEL_GAP/2,h=t.getOptions(),u=a?l.getGapHeight(t,h.layout.legendGapHeight):l.getGapWidth(t,h.layout.legendGapWidth);return{xAxis:s+i.h+o>r.y+r.h,yAxis:n+o<r.x,y2Axis:n+i.w+o>r.x+r.w,legend:n+i.w+o>r.x+r.w+u,top:s<t.getDimensions().y}},it.adjustDataLabelPosition=function(t,e,i){var r=t;return"left"!=t&&"center"!=t||!e.yAxis?"right"!=t&&"center"!=t||!(i&&e.y2Axis||e.legend)?"top"!=t&&"center"!=t||!e.top?"bottom"!=t&&"center"!=t||!e.xAxis||(r="top"):r="bottom":r="left":r="right",r},it._parseLowHighArray=function(t,e){return t instanceof Array?"high"==e?t[1]:t[0]:t},it.isOverviewRendered=function(t){var e=t.getOptions();return nt.isOverviewSupported(t)&&"off"!=e.overview.rendered},it.getOverviewHeight=function(t){var e=t.getOptions().overview.height;return null==e&&(e=Q.hasTimeAxis(t)?.25:.2),it.getSizeInPixels(e,t.getHeight())},it.getSizeInPixels=function(t,e){if("string"==typeof t){if("%"==t.slice(-1))return e*Number(t.slice(0,-1))/100;if("px"==t.slice(-2))return Number(t.slice(0,-2));t=Number(t)}return"number"==typeof t?t<=1?e*t:t:0},it.getBackgroundColor=function(t,e){var i=t.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:e?"#FFFFFF":null},it.getHoverBehaviorDelay=function(e){var i=e.getOptions().styleDefaults.hoverBehaviorDelay;return i?(i=t.CSSStyle.getTimeMilliseconds(i),nt.isScatterBubble(e)||nt.isLine(e)?.75*i:1.25*i):0},it.optimizeMarkerStroke=function(t){return nt.isScatterBubble(t)||nt.isBoxPlot(t)},it.getGroupWidth=function(t){var e=t.getCache().getFromCache("groupWidth");return null==e&&(e=t.xAxis.getInfo().getGroupWidth(),t.getCache().putToCache("groupWidth",e)),e},it.isStackLabelRendered=function(t){var e=t.getOptions();return!(!nt.isStacked(t)||"on"!=e.stackLabel)},it.optimizeMarkerFill=function(t){return nt.isLineArea(t)},it.getClassName=function(t,e,i){var r=J.getDataItem(t,e,i);if(r&&(r.className||r.svgClassName))return r.className||r.svgClassName;var a=J.getSeriesItem(t,e);return a&&(a.className||a.svgClassName)?a.className||a.svgClassName:null},it.getAreaClassName=function(t,e){var i=J.getSeriesItem(t,e);return i&&(i.areaClassName||i.areaSvgClassName)?i.areaClassName||i.areaSvgClassName:i&&(i.className||i.svgClassName)?i.className||i.svgClassName:null},it.getMarkerClassName=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);if(a&&(a.className||a.svgClassName))return a.className||a.svgClassName;var n=J.getDataItem(t,e,i);if(n&&(n.className||n.svgClassName))return n.className||n.svgClassName;var s=J.getSeriesItem(t,e);return s&&(s.markerClassName||s.markerSvgClassName)?s.markerClassName||s.markerSvgClassName:nt.isScatterBubble(t)&&s&&(s.className||s.svgClassName)?s.className||s.svgClassName:null},it.getStyle=function(t,e,i){var r=J.getDataItem(t,e,i);if(r&&(r.style||r.svgStyle))return r.style||r.svgStyle;var a=J.getSeriesItem(t,e);return a&&(a.style||a.svgStyle)?a.style||a.svgStyle:null},it.getAreaStyle=function(t,e){var i=J.getSeriesItem(t,e);return i&&(i.areaStyle||i.areaSvgStyle)?i.areaStyle||i.areaSvgStyle:i&&(i.style||i.svgStyle)?i.style||i.svgStyle:null},it.getMarkerStyle=function(t,e,i,r){var a=J.getNestedDataItem(t,e,i,r);if(a&&(a.style||a.svgStyle))return a.style||a.svgStyle;var n=J.getDataItem(t,e,i);if(n&&(n.style||n.svgStyle))return n.style||n.svgStyle;var s=J.getSeriesItem(t,e);return s&&(s.markerStyle||s.markerSvgStyle)?s.markerStyle||s.markerSvgStyle:nt.isScatterBubble(t)&&s&&(s.style||s.svgStyle)?s.style||s.svgStyle:null},it.getBoxPlotStyleOptions=function(e,i,r){var a=J.getDataItem(e,i,r),n=a&&a.boxPlot?a.boxPlot:{},s=J.getSeriesItem(e,i),o=s&&s.boxPlot?s.boxPlot:{},l=e.getOptions().styleDefaults.boxPlot,h=t.JsonUtils.merge(n,t.JsonUtils.merge(o,l)),u=it.getColor(e,i,r);h._color=u;var g=t.ColorUtils.getBrighter(u,.8);if(h.q2Color||(h.q2Color=g),h.q3Color||(h.q3Color=g),"pattern"==it.getSeriesEffect(e)){var d=it.getPattern(e,i,r);h._q2Pattern=d,h._q3Pattern=d}var c=it.getBorderColor(e,i,r);h.borderColor=c||u,h.borderWidth=it.getBorderWidth(e,i,r);var p=t.ColorUtils.getDarker(u,.1);return it._setBoxPlotDefaultLineColor(h,"whisker",p),it._setBoxPlotDefaultLineColor(h,"whiskerEnd",p),it._setBoxPlotDefaultLineColor(h,"median",p),h},it._setBoxPlotDefaultLineColor=function(e,i,r){var a=t.JsonUtils.merge(e[i+"Style"],e[i+"SvgStyle"]);e[i+"SvgStyle"]=a,e[i+"Style"]=null,!a||a.stroke||e[i+"ClassName"]||e[i+"SvgClassName"]||(e[i+"SvgStyle"].stroke=r)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var rt=new Object;t.Obj.createSubclass(rt,t.Obj),rt.createText=function(e,i,r,a,n,s,o,l){var h=new t.OutputText(i.getCtx(),r,n,s);return h.setCSSStyle(a),t.TextUtils.fitText(h,o,l,i)?(e.associate(h,new t.SimpleObjPeer(h.getUntruncatedTextString())),h):null},rt.areTitlesRendered=function(t){var e=t.getOptions();return e.title.text||e.subtitle.text||e.footnote.text};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var at=new Object;t.Obj.createSubclass(at,t.Obj),at.getDatatipColor=function(t,e,i,r){return nt.isStock(t)?it.getColor(t,0,i):null!=r&&r>=0?it.getMarkerColor(t,e,i,r):it.getColor(t,e,i)},at.getDatatip=function(t,e,i,r,a){if(nt.isSpark(t)||nt.isOverview(t))return null;if(e<0||i<0)return null;var n,s=J.getDataItem(t,e,i),o=t.getOptions().tooltip,l=o?o.renderer:null;if(a&&l){var h=t.getCtx().getTooltipManager(at.isDataCursorEnabled(t)?R.TOOLTIP_ID:null),u=J.getDataContext(t,e,i,r);if(nt.isPie(t)){var g=ot.getSliceBySeriesIndex(t,e);u.label=g.getSliceLabelString()}else u.label=J.getDataLabel(t,e,i,r);return h.getCustomTooltip(l,u)}return s&&null!=s.shortDesc?s.shortDesc:(nt.isStock(t)?n=at._getStockDatatip(t,0,i,a):(n=[],at._addSeriesDatatip(n,t,e,i,a),at._addGroupDatatip(n,t,e,i,a),at._addValueDatatip(n,t,e,i,r,a)),at._processDatatip(n,t,a))},at.getOtherSliceDatatip=function(t,e,i){var r=t.getOptions().translations.labelOther,a=t.getOptions().tooltip,n=a?a.renderer:null;if(i&&n){var s=ot.getSliceBySeriesIndex(t,null),o=J.getDataContext(t,null,0);return o.label=s.getSliceLabelString(),t.getCtx().getTooltipManager().getCustomTooltip(n,o)}var l=[];return at._addDatatipRow(l,t,"series","labelSeries",r,i),at._addGroupDatatip(l,t,0,0,i),at._addDatatipRow(l,t,"value","labelValue",e,i),at._processDatatip(l,t,i)},at._processDatatip=function(e,i,r){return 0===e.length?null:r?t.HtmlTooltipManager.createElement("table",i.getOptions().styleDefaults._tooltipStyle,e):e.join("")},at.getRefObjTooltip=function(t,e,i,r){var a=t.getOptions().tooltip,n=a?a.renderer:null;if(n&&null!=e.id){var s=t.getCtx().getTooltipManager(at.isDataCursorEnabled(t)?R.TOOLTIP_ID:null),o={id:tt.getId(e),label:e.text,data:t.getRawOptions()[i].referenceObjects[r],value:e.value,low:tt.getLowValue(e),high:tt.getHighValue(e),color:tt.getColor(e)};return s.getCustomTooltip(n,o)}return e.shortDesc},at._getStockDatatip=function(t,e,i,r){var a=J.getDataItem(t,e,i),n=[];return at._addGroupDatatip(n,t,e,i,r),a&&(at._addDatatipRow(n,t,"open","labelOpen",a.open,r),at._addDatatipRow(n,t,"close","labelClose",a.close,r),at._addDatatipRow(n,t,"high","labelHigh",a.high,r),at._addDatatipRow(n,t,"low","labelLow",a.low,r),at._addDatatipRow(n,t,"volume","labelVolume",a.volume,r)),n},at._addSeriesDatatip=function(t,e,i,r,a){var n=J.getSeriesLabel(e,i);at._addDatatipRow(t,e,"series","labelSeries",n,a)},at._addGroupDatatip=function(t,e,i,r,a){var n;if(Q.hasTimeAxis(e)){var s=at.getValueFormat(e,"group"),o=J.getXValue(e,i,r);null==(n=at.formatDateValue(s,new Date(o)))&&(n=e.xAxis.getInfo().formatLabel(o))}else n=J.getGroupLabel(e,r);var l=J.getNumLevels(e),h="labelGroup";if(1!=l&&Array.isArray(n))for(var u=l-1;u>=0;u--)at._addDatatipRow(t,e,"group",h,n[u],a,u),n[u]&&(h=null);else at._addDatatipRow(t,e,"group",h,n,a)},at._addValueDatatip=function(t,e,i,r,a,n){var s=J.getValue(e,i,r,a),o=J.getXValue(e,i,r),l=J.getZValue(e,i,r),h=J.getLowValue(e,i,r),u=J.getHighValue(e,i,r),g=null!=a&&a>=0;if(nt.isScatterBubble(e))at._addDatatipRow(t,e,"x","labelX",o,n),at._addDatatipRow(t,e,"y","labelY",s,n),nt.isBubble(e)&&at._addDatatipRow(t,e,"z","labelZ",l,n);else if(nt.isPie(e)||nt.isPyramid(e))at._addDatatipRow(t,e,"value","labelValue",s,n);else if(nt.isFunnel(e)){at._addDatatipRow(t,e,"value","labelValue",s,n);var d=J.getTargetValue(e,i);null!=d&&at._addDatatipRow(t,e,"targetValue","labelTargetValue",d,n)}else if("boxPlot"!=it.getSeriesType(e,i)||g){if(nt.isBLAC(e)){var c=J.isAssignedToY2(e,i)?"y2":"y";null==h&&null==u||g?null==l||g?at._addDatatipRow(t,e,c,"labelValue",s,n):(at._addDatatipRow(t,e,c,"labelY",s,n),at._addDatatipRow(t,e,"z","labelZ",l,n)):(at._addDatatipRow(t,e,"high","labelHigh",u,n),at._addDatatipRow(t,e,"low","labelLow",h,n),null!=l&&at._addDatatipRow(t,e,"z","labelZ",l,n))}}else{var p=J.getDataItem(e,i,r);at._addDatatipRow(t,e,"high","labelHigh",u,n),at._addDatatipRow(t,e,"q3","labelQ3",p.q3,n),at._addDatatipRow(t,e,"q2","labelQ2",p.q2,n),at._addDatatipRow(t,e,"q1","labelQ1",p.q1,n),at._addDatatipRow(t,e,"low","labelLow",h,n),null!=l&&at._addDatatipRow(t,e,"z","labelZ",l,n)}},at._addDatatipRow=function(e,i,r,a,n,s,o){if(null!=n&&""!==n){var l,h=i.getOptions().styleDefaults,u=at.getValueFormat(i,r),g=u.tooltipDisplay,d=i.getOptions().translations;if(g&&"auto"!=g||"group"==r&&(nt.isPie(i)||nt.isFunnel(i))&&(g="off"),"off"!=g)if("string"==typeof u.tooltipLabel?l=u.tooltipLabel:Array.isArray(u.tooltipLabel)&&(l=u.tooltipLabel[o||0]),null==l&&(l=null==a?"":"labelGroup"==a&&Q.hasTimeAxis(i)?d.labelDate:d[a]),"series"!=r&&"group"!=r&&(n=at.formatValue(i,u,n)),s){var c=t.Agent.isRightToLeft(i.getCtx());h.tooltipLabelStyle.setStyle(t.CSSStyle.TEXT_ALIGN,c?"left":"right"),h.tooltipValueStyle.setStyle(t.CSSStyle.TEXT_ALIGN,c?"right":"left");var p=[t.HtmlTooltipManager.createElement("td",h.tooltipLabelStyle,l),t.HtmlTooltipManager.createElement("td",h.tooltipValueStyle,n)];e.push(t.HtmlTooltipManager.createElement("tr",null,p))}else e.push((e.length>0?"<br>":"")+t.ResourceUtils.format(d.labelAndValue,[l,n]))}},at.getValueFormat=function(t,e){var i=t.getOptions().valueFormats;return i?i[e]?i[e]:"group"==e&&Q.hasTimeAxis(t)?at.getValueFormat(t,"x"):"y"!=e&&"y2"!=e&&"min"!=e&&"max"!=e||!nt.isBLAC(t)?{}:at.getValueFormat(t,"value"):{}},at.formatValue=function(e,i,r,a,n,s){var o,l="auto",h="on";i.scaling&&(l=i.scaling),i.autoPrecision&&(h=i.autoPrecision),i.converter&&(o=i.converter),a=null!=a?a:r,n=null!=n?n:r,s=null!=s?s:0;var u=new t.LinearScaleAxisValueFormatter(e.getCtx(),a,n,s,l,h,e.getOptions().translations);return o&&(o.getAsString||o.format)?u.format(r,o):u.format(r)},at.formatDateValue=function(t,e){var i=t.converter;return i?i.getAsString?i.getAsString(e):i.format?i.format(e):null:null},at.isDataCursorEnabled=function(e){if(nt.isPie(e)||nt.isFunnel(e)||nt.isPolar(e)||nt.isPyramid(e))return!1;var i=e.getOptions();return"on"==i.dataCursor||"off"!=i.dataCursor&&(t.Agent.isTouchDevice()&&nt.isLineArea(e))},at.getDataCursorBehavior=function(t){var e=t.getOptions().dataCursorBehavior;return"snap"==e?R.BEHAVIOR_SNAP:"smooth"==e||nt.isLineArea(t)?R.BEHAVIOR_SMOOTH:R.BEHAVIOR_SNAP};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var nt=new Object;t.Obj.createSubclass(nt,t.Obj),nt._SUPPORTED_TYPES=["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","pyramid","stock","boxPlot"],nt.isValidType=function(t){return nt._SUPPORTED_TYPES.indexOf(t.getType())>=0},nt.isSpark=function(t){return t.getOptions().__spark},nt.isOverview=function(t){return t.getOptions()._isOverview},nt.isVertical=function(t){return!nt.isHorizontal(t)&&!nt.isPolar(t)},nt.isHorizontal=function(t){return"horizontal"==t.getOptions().orientation&&!nt.isPolar(t)&&!nt.isStock(t)&&(nt.isBLAC(t)||nt.isFunnel(t))},nt.isPolar=function(t){return"polar"==t.getOptions().coordinateSystem&&!nt.isStock(t)&&!nt.isBoxPlot(t)},nt.isStacked=function(t){return!("on"!=t.getOptions().stack||Q.isMixedFrequency(t)||J.getSeriesCount(t)<2)&&nt.isBLAC(t)},nt.isCombo=function(t){return"combo"==t.getType()},nt.isBar=function(t){return"bar"==t.getType()},nt.isLine=function(t){return"line"==t.getType()},nt.isLineWithArea=function(t){return"lineWithArea"==t.getType()},nt.isArea=function(t){return"area"==t.getType()},nt.isStock=function(t){return"stock"==t.getType()},nt.isBoxPlot=function(t){return"boxPlot"==t.getType()},nt.isScatter=function(t){return"scatter"==t.getType()},nt.isBubble=function(t){return"bubble"==t.getType()},nt.isPie=function(t){return"pie"==t.getType()},nt.isFunnel=function(t){return"funnel"==t.getType()},nt.isPyramid=function(t){return"pyramid"==t.getType()},nt.isDualY=function(t){return!(!nt.hasAxes(t)||nt.isScatterBubble(t)||nt.isPolar(t))},nt.isSplitDualY=function(t){return!(!nt.isStock(t)||!J.hasVolumeSeries(t)||nt.isOverview(t))||"on"==t.getOptions().splitDualY&&nt.hasY2Data(t)&&!nt.hasY2DataOnly(t)},nt.isBLAC=function(t){var e=t.getType();return"bar"==e||"line"==e||"area"==e||"lineWithArea"==e||"combo"==e||"stock"==e||"boxPlot"==e},nt.isScatterBubble=function(t){var e=t.getType();return"scatter"==e||"bubble"==e},nt.isLineArea=function(t){var e=t.getType();return"line"==e||"area"==e||"lineWithArea"==e},nt.isScrollSupported=function(t){return!(nt.isPie(t)||nt.isFunnel(t)||nt.isPolar(t)||nt.isPyramid(t))},nt.isOverviewSupported=function(t){return nt.isBLAC(t)&&nt.isVertical(t)},nt.isHorizScrollbarSupported=function(t){var e=$.getZoomDirection(t);return!nt.isPolar(t)&&(nt.isBLAC(t)&&nt.isVertical(t)||nt.isScatterBubble(t)&&"y"!=e)},nt.isVertScrollbarSupported=function(t){var e=$.getZoomDirection(t);return!nt.isPolar(t)&&(nt.isBLAC(t)&&nt.isHorizontal(t)||nt.isScatterBubble(t)&&"x"!=e)},nt.hasAxes=function(t){return!("pie"==t.getType()||"funnel"==t.getType()||"pyramid"==t.getType())},nt.hasY2DataOnly=function(t){return!!nt.isDualY(t)&&J.getY2SeriesCount(t,null,!0)==J.getSeriesCount(t)},nt.hasY2Data=function(t,e){return!!nt.isDualY(t)&&J.getY2SeriesCount(t,null,!0)>0},nt.hasY2BarData=function(t){return nt.hasY2Data(t,"bar")},nt.hasBarSeries=function(t){return nt._hasSeriesType(t,"bar")},nt.hasLineSeries=function(t){return nt._hasSeriesType(t,"line")},nt.hasAreaSeries=function(t){return nt._hasSeriesType(t,"area")},nt.hasLineWithAreaSeries=function(t){return nt._hasSeriesType(t,"lineWithArea")},nt.hasCandlestickSeries=function(t){return nt._hasSeriesType(t,"candlestick")},nt.hasBoxPlotSeries=function(t){return nt._hasSeriesType(t,"boxPlot")},nt._hasSeriesType=function(t,e){if(nt.isBLAC(t))for(var i=J.getSeriesCount(t),r=0;r<i;r++)if(it.isSeriesRendered(t,r)&&it.getSeriesType(t,r)==e)return!0;return!1},nt.hasCenteredSeries=function(t){if(!nt.isBLAC(t))return!1;for(var e=J.getSeriesCount(t),i=0;i<e;i++)if(it.isSeriesRendered(t,i)&&"bar"!=it.getSeriesType(t,i)){var r=it.getLineType(t,i);if("centeredSegmented"==r||"centeredStepped"==r)return!0}return!1},nt.hasUncenteredSeries=function(t){if(!nt.isBLAC(t))return!1;for(var e=J.getSeriesCount(t),i=0;i<e;i++)if(it.isSeriesRendered(t,i)&&"bar"!=it.getSeriesType(t,i)){var r=it.getLineType(t,i);if("segmented"==r||"stepped"==r)return!0}return!1},nt.isStandalonePlotArea=function(t){var e=t.getOptions();return!rt.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!Q.isAxisRendered(t,"x")&&(!Q.isAxisRendered(t,"y")&&!Q.isAxisRendered(t,"y2"))))},nt.isStandaloneXAxis=function(t){var e=t.getOptions();return!rt.areTitlesRendered(t)&&("off"==e.legend.rendered&&("off"==e.plotArea.rendered&&(!Q.isAxisRendered(t,"y")&&!Q.isAxisRendered(t,"y2"))))},nt.isStandaloneYAxis=function(t){var e=t.getOptions();return!rt.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!Q.isAxisRendered(t,"x")&&("off"==e.plotArea.rendered&&!Q.isAxisRendered(t,"y2"))))},nt.isStandaloneY2Axis=function(t){var e=t.getOptions();return!rt.areTitlesRendered(t)&&("off"==e.legend.rendered&&(!Q.isAxisRendered(t,"x")&&(!Q.isAxisRendered(t,"y")&&"off"==e.plotArea.rendered)))};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var st=new Object;t.Obj.createSubclass(st,t.Obj),st._MIN_BUBBLE_SIZE=6,st._MAX_BUBBLE_SIZE_RATIO=.5,st.calcBubbleSizes=function(e,i){for(var r,a,n=J.getMinMaxValue(e,"z"),s=n.min,o=n.max,l=st._MIN_BUBBLE_SIZE,h=st._MAX_BUBBLE_SIZE_RATIO*Math.min(i.w,i.h),u=J.getSeriesCount(e),g="withoutRescale"==$.getHideAndShowBehavior(e),d=0;d<u;d++)if(g||it.isSeriesRendered(e,d))for(var c=J.getSeriesItem(e,d),p=c.items?c.items.length:0,_=0;_<p;_++){var f=c.items[_];if(f){var v=t.LayoutUtils.getBubbleSize(f.z,s,o,l,h);f.markerSize=v}}nt.isPolar(e)?(r=1/0,a=e.getRadius()):(r=i.w-2.4*Q.getTickLabelHeight(e,"y"),a=i.h-1.6*Q.getTickLabelHeight(e,"x")),r-=.5*h,a-=.5*h;var m=e.getCache(),S=st._getAxisValueRange(e,"x");m.putToCache("_xAxisBubbleRatio",S/r);var C=st._getAxisValueRange(e,"y");m.putToCache("_yAxisBubbleRatio",C/a)},st.getBubbleAxisRadius=function(t,e,i){if(!i)return 0;var r="x"==e?"_xAxisBubbleRatio":"_yAxisBubbleRatio";return i/2*t.getCache().getFromCache(r)},st._getAxisValueRange=function(e,i){var r=e.getOptions()[i+"Axis"],a=Q.isLog(e,i),n=!a&&"zero"==Q.getBaselineScaling(e,i),s=J.getMinMaxValue(e,i,!0),o=r.min;null==o&&(o=n?Math.min(0,s.min):s.min);var l=r.max;return null==l&&(l=n?Math.max(0,s.max):s.max),a&&l>0&&o>0?l==o?6:t.Math.log10(l/o):l==o?60:l-o},st.sortMarkers=function(t){t.sort(st._compareSize)},st.sortMarkerInfos=function(t){t.sort(st._compareInfoSize)},st._compareSize=function(t,e){return e.getSize()-t.getSize()},st._compareInfoSize=function(t,e){return e.size-t.size},st.checkPixelMap=function(t,e,i,r){var a=r/2,n=Math.max(Math.floor(e-a),0),s=Math.max(Math.floor(i-a),0),o=Math.max(Math.ceil(e+a),0),l=Math.max(Math.ceil(i+a),0);return t.isObscured(n,s,o,l)},st.updatePixelMap=function(t,e,i,r,a){var n=.4*r,s=Math.max(Math.round(e-n),0),o=Math.max(Math.round(e+n),0),l=Math.max(Math.round(i-n),0),h=Math.max(Math.round(i+n),0);t.obscure(s,l,o,h,a)};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var ot=new Object;t.Obj.createSubclass(ot,t.Obj),ot.OTHER_SLICE_SERIES_ID="_dvtOther",ot.getSliceId=function(t,e){var i=J.getDataItem(t,e,0),r=i?i.id:null,a=J.getSeries(t,e),n=J.getGroup(t,0);return new o(r,a,n,t.getCtx())},ot.getOtherSliceId=function(t){var e=J.getGroup(t,0);return new o(null,ot.OTHER_SLICE_SERIES_ID,e,t.getCtx())},ot.getRenderedSeriesIndices=function(t){return ot._getSeriesIndicesArrays(t).rendered},ot.hasOtherSeries=function(t){return ot._getSeriesIndicesArrays(t).other.length>0},ot.getOtherValue=function(t){for(var e=ot._getSeriesIndicesArrays(t).other,i=0,r=0;r<e.length;r++){var a=e[r];if(it.isSeriesRendered(t,a)){var n=J.getValue(t,a,0);n>0&&(i+=n)}}return i},ot.getOtherSliceIds=function(t){for(var e=ot._getSeriesIndicesArrays(t).other,i=[],r=0;r<e.length;r++){var a=e[r];i.push(ot.getSliceId(t,a))}return i},ot.isOtherSliceSelected=function(t,e){for(var i=ot.getOtherSliceIds(t),r=0;r<i.length;r++){for(var a=i[r],n=!1,s=0;s<e.length;s++)if(null!=e[s].id&&a.id===e[s].id||a.series===e[s].series&&a.group===e[s].group){n=!0;break}if(!n)return!1}return!0},ot._getSeriesIndicesArrays=function(t){for(var e=[],i=[],r=J.getSeriesCount(t),a=t.getOptions(),n=a.otherThreshold*ot.getTotalValue(t),s=0;s<r;s++){var o=J.getValue(t,s,0);n>0&&o<n?i.push(s):e.push(s)}return"ascending"==a.sorting?e.sort((function(e,i){return J.getValue(t,e,0)-J.getValue(t,i,0)})):"on"!=a.sorting&&"descending"!=a.sorting||e.sort((function(e,i){return J.getValue(t,i,0)-J.getValue(t,e,0)})),{rendered:e,other:i}},ot.getTotalValue=function(t){for(var e=J.getSeriesCount(t),i=0,r=0;r<e;r++){var a=J.getValue(t,r,0);a>0&&(i+=a)}return i},ot.getSliceExplode=function(t,e){var i=J.getSeriesItem(t,e);return i&&i.pieSliceExplode?i.pieSliceExplode:0},ot.getSliceBySeriesIndex=function(t,e){for(var i=t.pieChart.__getSlices(),r=0;r<i.length;r++)if(i[r].getSeriesIndex()==e)return i[r];return null};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var lt=function(){};t.Obj.createSubclass(lt,t.Obj),lt.TWOD="2D",lt.THREED="3D",lt.CRUST="CRUST",lt.SIDE="SIDE",lt.BORDER="BORDER",lt.SURFACE_CRUST=0,lt.SURFACE_LEFT=1,lt.SURFACE_RIGHT=2,lt.SURFACE_TOP=3,lt.reflectAngleOverYAxis=function(e,i,r,a,n){var s=t.Math.degreesToRads(360-e);return{x:i+Math.cos(s)*a,y:r+Math.sin(s)*n}},lt.getGradientColors=function(e,i){return i==lt.TWOD||i==lt.THREED?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,-.09,.04)]:i==lt.CRUST?[t.ColorUtils.adjustHSL(e,0,-.04,-.05),t.ColorUtils.adjustHSL(e,0,0,-.14)]:i==lt.SIDE?[t.ColorUtils.adjustHSL(e,0,-.1,.06),t.ColorUtils.adjustHSL(e,0,-.04,-.05)]:void 0},lt.getGradientAlphas=function(t,e){var i=null==t||isNaN(t)||0==t?1:t;return e==lt.TWOD?[i,i,i]:e==lt.BORDER?[i/1.59375,i/5.3125,i/(255/96)]:e==lt.THREED?[i,i,i,i,i]:e==lt.CRUST?[i,i,i,i]:e==lt.SIDE?[i,i]:void 0},lt.createTopSurface=function(e,i){var r=e.getPieChart(),a=r.getCtx(),n=e.getCenter(),s=e.getInnerRadius(),o=r.is3D()||e.getSliceGaps()>Math.sin(t.Math.degreesToRads(e.getAngleExtent()))*e._radiusX+1?null:e.getSliceGaps(),l=new x(a,n.x,n.y,e._radiusX,e._radiusY,e.getAngleStart(),e.getAngleExtent(),o,s),h=it.getSelectedInnerColor(r.chart),u=it.getSelectedOuterColor(r.chart),g=new t.Stroke(e.getStrokeColor(),1,e.getBorderWidth()),d=e.getSeriesIndex(),c=it.getClassName(r.chart,d,0),p=it.getStyle(r.chart,d,0);l.setStyleProperties(i,g,e.getFillColor(),h,u,c,p);var _=[l];return lt.associate(e,_),_},lt.associate=function(t,e){if(e)for(var i=0;i<e.length;i++)t.getPieChart().chart.getEventManager().associate(e[i],t)},lt.createLateralSurface=function(e,i,r){if(0==e.getAngleExtent())return[];var a=[];if(t.ColorUtils.getAlpha(e.getFillColor())>0)if(i==lt.SURFACE_LEFT||i==lt.SURFACE_RIGHT)a.push(lt._generateLateralShape(e,i,null,r));else if(i==lt.SURFACE_CRUST)for(var n=lt._createCrustPathCommands(e),s=n.length,o=0;o<s;o++)a.push(lt._generateLateralShape(e,i,n[o],r));return lt.associate(e,a),a},lt.generateLateralGradientFill=function(e,i){e.getPieChart(),i==lt.CRUST&&e.getDepth();var r=lt.getGradientColors(t.ColorUtils.getRGB(e.getFillColor()),i),a=lt.getGradientAlphas(t.ColorUtils.getAlpha(e.getFillColor()),i);return new t.LinearGradientFill(270,r,a,[0,1],null)},lt._generateLateralShape=function(e,i,r,a){var n=e.getPieChart().getCtx();if(i==lt.SURFACE_LEFT||i==lt.SURFACE_RIGHT){for(var s=e.getAngleStart(),o=e.getAngleExtent(),l=e.getCenter().x,h=e.getCenter().y,u=e._radiusX,g=e._radiusY,d=e.getDepth(),c=i==lt.SURFACE_LEFT?lt.reflectAngleOverYAxis(s+o,l,h,u,g):lt.reflectAngleOverYAxis(s,l,h,u,g),p=lt._generateInnerPoints(l,h,c.x,c.y,d),_=[],f=0;f<p.length;f++)_.push(p[f].x,p[f].y);var v=new t.Polygon(n,_);return v.setFill(a),e.getStrokeColor()&&v.setSolidStroke(e.getStrokeColor()),v}if(r){var m=new t.Path(n,null);return m.setCmds(r),m.setTranslate(e.__getExplodeOffsetX(),e.__getExplodeOffsetY()),m.setFill(a),e.getStrokeColor()&&m.setSolidStroke(e.getStrokeColor()),m}return null},lt._createCrustPathCommands=function(t){var e=t.getAngleStart(),i=t.getAngleExtent(),r=e+i,a=t.getCenter().x,n=t.getCenter().y,s=t._radiusX,o=t._radiusY,l=t.getDepth(),h=[];return e<180&&r>360?(h.push(lt._makeOuterPath(a,n,s,o,l,e,180-e)),h.push(lt._makeOuterPath(a,n,s,o,l,360,r-360)),h.push(lt._makeOuterPath(a,n,s,o,l,180,180))):r>360?(h.push(lt._makeOuterPath(a,n,s,o,l,e,360-e)),h.push(lt._makeOuterPath(a,n,s,o,l,360,r-360))):e<180&&r>180?(h.push(lt._makeOuterPath(a,n,s,o,l,e,180-e)),h.push(lt._makeOuterPath(a,n,s,o,l,180,r-180))):h.push(lt._makeOuterPath(a,n,s,o,l,e,i)),h},lt._makeOuterPath=function(e,i,r,a,n,s,o){var l=t.Math.degreesToRads(o),h=-(t.Math.degreesToRads(s)+l),u=lt.reflectAngleOverYAxis(s,e,i,r,a),g=e+Math.cos(h)*r,d=i+Math.sin(h)*a,c=t.PathUtils.moveTo(u.x,u.y);return c+=t.PathUtils.arcTo(r,a,l,0,g,d),c+=t.PathUtils.lineTo(g,d+n),c+=t.PathUtils.arcTo(r,a,l,1,u.x,u.y+n),c+=t.PathUtils.lineTo(u.x,u.y)},lt._generateInnerPoints=function(t,e,i,r,a){var n=[];return n.push({x:t,y:e}),n.push({x:i,y:r}),n.push({x:i,y:r+a}),n.push({x:t,y:e+a}),n};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var ht=function(){this._init()};t.Obj.createSubclass(ht,t.Obj),ht.prototype._init=function(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1},ht.prototype.getAngle=function(){return this._angle},ht.prototype.setAngle=function(t){this._angle=t},ht.prototype.getHeight=function(){return this._height},ht.prototype.setHeight=function(t){this._height=t},ht.prototype.getInitialNumLines=function(){return this._initialNumLines},ht.prototype.setInitialNumLines=function(t){this._initialNumLines=t},ht.prototype.getMaxY=function(){return this._maxY},ht.prototype.setMaxY=function(t){this._maxY=t},ht.prototype.getMinY=function(){return this._minY},ht.prototype.setMinY=function(t){this._minY=t},ht.prototype.boundY=function(t){return this._minY<=this._maxY&&(t=Math.max(t,this._minY),t=Math.min(t,this._maxY)),t},ht.prototype.hasFeeler=function(){return this._hasFeeler},ht.prototype.setHasFeeler=function(t){this._hasFeeler=t},ht.prototype.getPosition=function(){return this._position},ht.prototype.setPosition=function(t){this._position=t},ht.prototype.getSlice=function(){return this._slice},ht.prototype.setSlice=function(t){this._slice=t},ht.prototype.getSliceLabel=function(){return this._sliceLabel},ht.prototype.setSliceLabel=function(t){this._sliceLabel=t},ht.prototype.getWidth=function(){return this._width},ht.prototype.setWidth=function(t){this._width=t},ht.prototype.getX=function(){return this._x},ht.prototype.setX=function(t){this._x=t},ht.prototype.getY=function(){return this._y},ht.prototype.setY=function(t){this._y=t};
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var ut=function(){};t.Obj.createSubclass(ut,t.Obj),ut._MAX_LINES_PER_LABEL=3,ut._COLLISION_MARGIN=1,ut._LEFT_SIDE_LABELS=1,ut._RIGHT_SIDE_LABELS=2,ut._OUTSIDE_LABEL_DISTANCE=1.04,ut._FEELER_RAD_MINSIZE=.1,ut._FEELER_HORIZ_MINSIZE=.1,ut._LABEL_TO_FEELER_OFFSET=.5,ut._LABEL_TO_FEELER_DISTANCE=3,ut._NO_COLLISION=0,ut._HALF_COLLISION=1,ut._ALL_COLLISION=2,ut.layoutLabelsAndFeelers=function(t){var e=t.getLabelPosition();ut._layoutInsideLabels(t,"auto"==e),ut._layoutOutsideLabelsAndFeelers(t)},ut._layoutInsideLabels=function(e,i){for(var r=e.__getSlices(),a=0;a<r.length;a++){var n=r[a],s=e.getSeriesLabelPosition(n.getSeriesIndex());if("none"!=s&&"outsideSlice"!=s&&!ut._skipSliceLabel(e,n)){var o=n.getAngleStart()+n.getAngleExtent()/2,l=n.getInnerRadius(),h=n.getCenter(),u=0,g=0,d=ut._createLabel(n,!0);if(1==r.length)u=h.x,g=h.y;else{var c=Math.max(.45,.65-.45*l/Math.max(n.getRadiusY(),.001)),p=lt.reflectAngleOverYAxis(o,h.x,h.y,l+(n.getRadiusX()-l)*c,l+(n.getRadiusY()-l)*c);u=p.x,g=p.y}d.setX(u),d.setY(g),d.alignMiddle(),d.alignCenter();for(var _=d.getDimensions(),f=u,v=u,m=g-_.h/2,S=g+_.h/2;n.contains(f,m)&&n.contains(f,S);)f--;for(;n.contains(v,m)&&n.contains(v,S);)v++;f=Math.ceil(f+3),v=Math.floor(v-3);var C=2*Math.min(u-f,v-u);if(C<_.w&&(d.setX((f+v)/2),C=v-f),i&&"center"!=s){d.getDimensions().w<C?n.setSliceLabel(d):n.setSliceLabel(null)}else{var y=e.getCtx().getStage(),x=ut._isTextLabel(e,n)?null:d.getTextString().length;t.TextUtils.fitText(d,C,_.h,y,x)&&(y.removeChild(d),n.setSliceLabel(d))}null!=n.getSliceLabel()&&n.setNoOutsideFeeler()}}},ut._layoutOutsideLabelsAndFeelers=function(t){var e,i,r=ut._generateInitialLayout(t);e=r[0],i=r[1];var a=ut._refineInitialLayout(t,e,ut._LEFT_SIDE_LABELS),n=ut._refineInitialLayout(t,i,ut._RIGHT_SIDE_LABELS);a==ut._HALF_COLLISION&&n!=ut._NO_COLLISION&&ut._columnLabels(t,e,!0,!0,!0),a!=ut._NO_COLLISION&&n==ut._HALF_COLLISION&&ut._columnLabels(t,i,!1,!0,!0),ut._setLabelsAndFeelers(t,e,ut._LEFT_SIDE_LABELS),ut._setLabelsAndFeelers(t,i,ut._RIGHT_SIDE_LABELS)},ut._createLabel=function(e,i){var r=e.getPieChart(),a=r.getCtx(),n=i?new t.OutputText(a):new t.MultilineText(a),s=r.getOptions().styleDefaults,o=[s.dataLabelStyle],l=J.getDataItem(r.chart,e.getSeriesIndex(),0);l&&o.push(new t.CSSStyle(l.labelStyle));var h=t.CSSStyle.mergeStyles(o),u=null!=h.getStyle("color");if(!i||u&&!t.Agent.isHighContrast())u||h.setStyle("color",s._defaultSliceLabelColor);else{var g=t.ColorUtils.getContrastingTextColor(e.getFillColor());h.setStyle("color",g)}n.setCSSStyle(h);var d=ut.generateSliceLabelString(e,s.sliceLabelType);return n.setTextString(d),e.setSliceLabelString(d),n},ut.createPieCenter=function(e){var i=e.getOptions(),r=e.getCtx(),a=ut.getPieCenterOptions(i),n=a.label,s=a.renderer,o=e.getLabelPosition(),l=i.tooltip,h=l?l.renderer:null,u=e.getCenter(),g=e.getInnerRadius();if(n||s){var d=e.getRadiusX(),c=(g=g>0?g:"outsideSlice"==o?.9*d:.5*d)*Math.sqrt(2);if(n){var p=new t.MultilineText(r),_=a.labelStyle;if(p.setCSSStyle(_),"number"==typeof n&&(n=at.formatValue(e,a,n,n,n,0)),p.setTextString(n),t.TextUtils.fitText(p,c,c,e)){var f=p.getDimensions();p.setY(u.y-f.h/2),p.setX(u.x),p.alignCenter(),h||e.chart.getEventManager().associate(p,new t.SimpleObjPeer(p.getTextString(),null,null,{type:"pieCenterLabel"})),e.addChild(p),e.setCenterLabel(p)}}if(h){var v=new t.Circle(r,u.x,u.y,g);v.setInvisibleFill(),e.addChild(v);var m=e.getCtx().getTooltipManager();e.chart.getEventManager().associate(v,new t.CustomDatatipPeer(m,h,"#4b4b4b",{component:i._widgetConstructor,label:n}))}if(s){var S={outerBounds:{x:u.x-g,y:u.y-g,width:2*g,height:2*g},innerBounds:{x:u.x-c/2,y:u.y-c/2,width:c,height:c},label:n,totalValue:e.getTotalValue(),component:i._widgetConstructor};S=r.fixRendererContext(S);var C=r.getContainer(),y=e.chart.pieCenterDiv;y&&C.removeChild(y);var x=s(S);if(!x)return;var A=r.createOverlayDiv();Array.isArray(x)?x.forEach((function(t){A.appendChild(t)})):A.appendChild(x),e.chart.pieCenterDiv=A,C.appendChild(A);var b=r.getOverlayAttachedCallback();b&&b(A)}}},ut.generateSliceLabelString=function(t,e){var i,r=ut.getDefaultSliceLabelString(t,e),a=t.getPieChart().getOptions().dataLabel;if(a){var n=J.getDataContext(t._chart,t.getSeriesIndex(),0);if(n.label=r,"number"==typeof(i=a(n))){var s=at.getValueFormat(t.getPieChart().chart,"label");i=at.formatValue(t.getPieChart(),s,i)}}return i||r},ut.getDefaultSliceLabelString=function(t,e){var i=t.getPieChart(),r=t.getCustomLabel(),a=at.getValueFormat(i.chart,"label");return null!=r?"number"==typeof r?at.formatValue(i,a,r):r:"percent"==e?ut.generateSlicePercentageString(t):"number"==e?at.formatValue(i,a,t.getValue()):"text"==e?t.getSeriesLabel():"textAndPercent"==e?t.getSeriesLabel()+", "+ut.generateSlicePercentageString(t):null},ut.generateSlicePercentageString=function(t){var e=t.getPieChart(),i=e.getTotalValue(),r=0==i?0:t.getValue()/i,a=r<.01?3:r<.1?2:r<1?1:0;2*e.getRadiusX()<150&&(a=Math.max(a-1,0));var n=e.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:a,minimumFractionDigits:a}),s="";return n&&n.getAsString?s=n.getAsString(r):n&&n.format?s=n.format(r):(r*=100,s=at.formatValue(e,{},r,null,null,100==r?1:Math.pow(10,-1*a))+"%"),s},ut._refineInitialLayout=function(t,e,i){if(e&&e.length>0){for(var r,a=t.__getFrame().y,n=!1,s=!1,o=!1,l=0,h=!1,u=h,g=i==ut._LEFT_SIDE_LABELS,d=0;d<e.length;d++)u=h,(r=e[d]).getPosition()>90&&(h=!0),l=r.getY()+r.getHeight(),a-r.getY()>ut._COLLISION_MARGIN&&(h?h&&!u?s=!0:o=!0:n=!0),l>a&&(a=l);return n&&o||s?(ut._columnLabels(t,e,g,!0,!0),ut._ALL_COLLISION):n?(ut._columnLabels(t,e,g,!0,!1),ut._HALF_COLLISION):o?(ut._columnLabels(t,e,g,!1,!0),ut._HALF_COLLISION):ut._NO_COLLISION}},ut._setLabelsAndFeelers=function(e,i,r){if(!(null==i||i.length<=0)){var a,n,s,o,l,h=r==ut._LEFT_SIDE_LABELS,u=e.__getFrame(),g=1/0;for(a=0;a<i.length;a++)if(n=(o=i[a]).getSlice(),o.hasFeeler()){l=ut._calculateFeeler(o,n,h);var d=t.TextUtils.getTextStringHeight(e.getCtx(),o.getSliceLabel().getCSSStyle()),c=o.getWidth(),p=ut._isTextLabel(e,n)?Math.min(2*d,c):c;if(ut.getMaxLabelWidth(e,o.getX(),h)+l<p||0==o.getWidth()){o.setSliceLabel(null),n.setNoOutsideFeeler();continue}g=Math.min(g,l)}else n.setNoOutsideFeeler();for(a=0;a<i.length;a++)n=(o=i[a]).getSlice(),(s=o.getSliceLabel())&&(o.hasFeeler()&&(h?o.setX(o.getX()+g):o.setX(o.getX()-g),ut._calculateFeeler(o,n,h)),s.setY(o.getY()),s.setX(o.getX()),o.getY()<u.y||o.getY()+o.getHeight()>u.y+u.h?(n.setSliceLabel(null),n.setNoOutsideFeeler()):(ut._truncateSliceLabel(e,n,o,h),0==o.getWidth()||0==o.getHeight()?(n.setSliceLabel(null),n.setNoOutsideFeeler()):n.setSliceLabel(s)))}},ut._calculateFeeler=function(e,i,r){var a,n=e.getX(),s=e.getY()+e.getHeight()*ut._LABEL_TO_FEELER_OFFSET,o=ut._FEELER_HORIZ_MINSIZE*i.getRadiusX(),l={x:r?(n+=ut._LABEL_TO_FEELER_DISTANCE)+o:(n-=ut._LABEL_TO_FEELER_DISTANCE)-o,y:s},h={x:n,y:s},u=e.getAngle(),g=ut._adjustForDepth(u,i.getDepth());a=lt.reflectAngleOverYAxis(u,i.getCenter().x,i.getCenter().y+g,i.getRadiusX(),i.getRadiusY());var d=t.Math.degreesToRads(e.getPosition()),c=Math.abs(Math.atan2(l.x-a.x,a.y-l.y)),p=(a.y-l.y)*Math.tan(d);return(d>Math.PI/2&&c>Math.PI/2&&c<d||d<Math.PI/2&&c<Math.PI/2&&c>d)&&(l.x=r?a.x-p:a.x+p),i.setOutsideFeelerPoints(a,l,h),Math.abs(h.x-l.x)-o},ut._adjustForDepth=function(t,e){var i=0;return t>189&&t<351&&(i=e),i},ut._getMiddleLabel=function(t){for(var e=91,i=-1,r=0;r<t.length;r++){var a=t[r].getPosition();Math.abs(a-90)<e&&(e=Math.abs(a-90),i=r)}return i},ut._setOptimalLabelPosition=function(e,i,r,a){i.setX(r);var n=e.getRadiusY()*(1+ut._FEELER_RAD_MINSIZE),s=t.Math.degreesToRads(i.getPosition()),o=n*Math.cos(s),l=ut._adjustForDepth(i.getAngle(),e.getDepth()),h=e.getCenter().y-o-i.getHeight()*ut._LABEL_TO_FEELER_OFFSET+l;i.setY(i.boundY(h))},ut._getRadFeelerAngle=function(t,e,i){var r=t.getSlice(),a=r.getCenter(),n=t.getAngle(),s=ut._adjustForDepth(n,r.getDepth()),o=lt.reflectAngleOverYAxis(n,a.x,a.y+s,r.getRadiusX(),r.getRadiusY());return Math.atan2(Math.abs(e-o.x),o.y-i)},ut._columnLabels=function(e,i,r,a,n){var s,o,l,h=e.__getFrame(),u=h.y,g=h.y+h.h,d=0,c=e.getCenter().x,p=e.getRadiusX()*(1+ut._FEELER_RAD_MINSIZE+ut._FEELER_HORIZ_MINSIZE);for(l=r?(c-=p)+e.getRadiusX()*ut._FEELER_HORIZ_MINSIZE:(c+=p)-e.getRadiusX()*ut._FEELER_HORIZ_MINSIZE,s=0;s<i.length;s++)o=i[s],d=t.Math.degreesToRads(o.getPosition()),ut._getRadFeelerAngle(o,l,u)-d>.45*Math.PI||ut._skipSliceLabel(e,o.getSlice())?(i.splice(s,1),s--):(i[s].setMinY(u),u+=i[s].getHeight());for(s=i.length-1;s>=0;s--)o=i[s],(d=t.Math.degreesToRads(o.getPosition()))-ut._getRadFeelerAngle(o,l,g)>.45*Math.PI||ut._skipSliceLabel(e,o.getSlice())?i.splice(s,1):(g-=i[s].getHeight(),i[s].setMaxY(g));if(0!=i.length){var _=ut._getMiddleLabel(i),f=i[_];a&&!n&&f.getMinY()+f.getHeight()>e.getCenter().y&&(n=!0),n&&!a&&f.getMaxY()<e.getCenter().y&&(a=!0);var v=f.getPosition();(n&&a||v>90&&n||v<=90&&a)&&(ut._setOptimalLabelPosition(e,f,c,r),f.setHasFeeler(!0));var m,S,C=f.getY(),y=f.getY()+f.getHeight();if(a)for(s=_-1;s>=0;s--)S=(o=i[s]).getHeight(),ut._setOptimalLabelPosition(e,o,c,r),o.setHasFeeler(!0),(m=o.getY())+S<C?C=m:C-=S,o.setY(C);if(n)for(s=_+1;s<i.length;s++)S=(o=i[s]).getHeight(),ut._setOptimalLabelPosition(e,o,c,r),o.setHasFeeler(!0),(m=o.getY())>y?y=m+S:y+=S,o.setY(y-S)}},ut._truncateSliceLabel=function(t,e,i,r){var a,n,s=i.getSliceLabel(),o=s.getCSSStyle(),l=t.getNumChildren(),h=!1;t.contains(s)||(t.addChild(s),h=!0),s.setCSSStyle(o);var u=e.getSliceLabelString();return s.setTextString(u),h&&t.removeChildAt(l),a=ut.getMaxLabelWidth(t,i.getX(),r),n=ut._getTextDimension(t,e,s,a,i.getInitialNumLines()),i.setWidth(n.x),i.getHeight()!=n.y&&(i.setHeight(n.y),!0)},ut._generateInitialLayout=function(t){for(var e=new Array(2),i=[],r=[],a=t.__getSlices(),n=t.__getFrame(),s=0;s<a.length;s++){var o=a[s],l=t.getSeriesLabelPosition(o.getSeriesIndex());if(null==o.getSliceLabel()&&"none"!=l&&"center"!=l&&!ut._skipSliceLabel(t,o)){var h=ut._createLabel(o,!1),u=o.getAngleStart()+o.getAngleExtent()/2;u>360&&(u-=360),u<0&&(u+=360);var g=lt.reflectAngleOverYAxis(u,t.getCenter().x,t.getCenter().y,t.getRadiusX()*ut._OUTSIDE_LABEL_DISTANCE,t.getRadiusY()*ut._OUTSIDE_LABEL_DISTANCE),d=u>=90&&u<270,c=ut.getMaxLabelWidth(t,g.x,d),p=ut._getTextDimension(t,o,h,c,ut._MAX_LINES_PER_LABEL);u<165&&u>15?g.y-=1*p.y:u<15||u>345?(g.y-=.5*p.y,g.x+=.2*p.y):u>165&&u<195&&(g.y-=.5*p.y,g.x-=.2*p.y);var _,f=ut._adjustForDepth(u,t.getDepth());if(g.y+=f,1==a.length&&(g.x-=p.x/2),!(g.y<n.y||g.y+p.y>n.y+n.h))u>=90&&u<270?(h.alignRight(),_=u-90,ut._createLabelInfo(o,h,u,_,p,g,i)):(_=u<=90?Math.abs(90-u):180-(u-270),ut._createLabelInfo(o,h,u,_,p,g,r))}}return e[0]=i,e[1]=r,e},ut._createLabelInfo=function(t,e,i,r,a,n,s){for(var o,l=-1,h=e,u=0;u<s.length;u++)if((o=s[u]).getPosition()>r){l=u;break}-1==l&&(l=s.length),(o=new ht).setPosition(r),o.setAngle(i),o.setSliceLabel(h),o.setSlice(t),o.setWidth(a.x),o.setHeight(a.y),o.setX(n.x),o.setY(n.y),o.setInitialNumLines(h.getLineCount()),s.splice(l,0,o)},ut._getTextDimension=function(e,i,r,a,n){r.setMaxLines(n);var s=ut._isTextLabel(e,i)?null:r.getTextString().length;if(t.TextUtils.fitText(r,a,1/0,e,s)){e.addChild(r);var o=r.getDimensions();return e.removeChild(r),{x:o.w,y:o.h}}return{x:0,y:0}},ut._isTextLabel=function(t,e){var i=e.getCustomLabel(),r=null!=t.getOptions().dataLabel;return-1!=t.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i||r},ut.getMaxLabelWidth=function(t,e,i){var r=t.__getFrame();return i?e-r.x:r.x+r.w-e},ut.getPieCenterOptions=function(e){var i=t.JsonUtils.clone(e.pieCenter),r=e.pieCenterLabel;if(r){var a=r.style,n=r.text;n&&(i.label=n),a&&(i.labelStyle=new t.CSSStyle(a))}return i},ut._skipSliceLabel=function(t,e){return e.getAngleExtent()<3&&J.getSeriesCount(t.chart)>120};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var gt=new Object;t.Obj.createSubclass(gt,t.Obj),gt._BUTTON_SIZE=16,gt._BUTTON_PADDING=5,gt._BUTTON_CORNER_DIST=4,gt._BUTTON_OPACITY=.8,gt._MOUSE_WHEEL_ZOOM_RATE_SLOW=.05,gt._MOUSE_WHEEL_ZOOM_RATE_FAST=.2,gt.render=function(t,e,i){if(gt._renderBackground(t,e,i),J.hasInvalidData(t))gt.renderEmptyText(t,e,i);else{nt.isOverview(t)||(t.getOptions()._maxOverflowCoord=i.x+i.w,t.getOptions()._minOverflowCoord=i.x),gt._addOuterGaps(t,i);var r=i.clone();gt._renderTitles(t,e,i),gt._adjustAvailSpace(i),ct.render(t,e,i),gt._adjustAvailSpace(i);var a=gt._prerenderHorizScrollbar(t,e,i),n=gt._prerenderVertScrollbar(t,e,i);gt._adjustAvailSpace(i),t.__setAxisSpace(i.clone()),dt.render(t,e,i),gt._adjustAvailSpace(i),gt._positionLegend(t.legend,i),t.__setPlotAreaSpace(i.clone()),gt._setEventHandlers(t),gt._renderScrollbars(t,a,n),gt._updateTitles(t,e,r,i),gt._renderPlotArea(t,e,i),nt.isPolar(t)&&e.addChild(t.yAxis),gt._renderDragButtons(t,e)}},gt._setEventHandlers=function(e){var i=e.getOptions(),r=e.getEventManager();if(nt.hasAxes(e)&&!nt.isOverview(e)){var a,n,s=new t.Rectangle(0,0,e.getWidth(),e.getHeight()),o=e.__getPlotAreaSpace(),l=e.__getAxisSpace(),h=new t.Rectangle(o.x,l.y,o.w,l.h),u=new t.Rectangle(l.x,o.y,l.w,o.h),g=new t.SolidFill(i.styleDefaults.marqueeColor),d=new t.Stroke(i.styleDefaults.marqueeBorderColor);if($.isScrollable(e)){var c=$.isDelayedScroll(e)?gt._MOUSE_WHEEL_ZOOM_RATE_FAST:gt._MOUSE_WHEEL_ZOOM_RATE_SLOW;if(n=new t.PanZoomHandler(e,o,s,c),r.setPanZoomHandler(n),$.isZoomable(e)){var p=$.getZoomDirection(e);a=nt.isHorizontal(e)||"y"==p?new t.MarqueeHandler(e,o,s,g,d,!1,!0,null,u):nt.isBLAC(e)||"x"==p?new t.MarqueeHandler(e,o,s,g,d,!0,!1,h,null):new t.MarqueeHandler(e,o,s,g,d,!0,!0,h,u),r.setMarqueeZoomHandler(a)}}"multiple"==i.selectionMode&&(a=new t.MarqueeHandler(e,o,s,g,d,!0,!0,h,u),r.setMarqueeSelectHandler(a))}},gt.rerenderAxisAndPlotArea=function(t,e){if(!J.hasInvalidData(t)){var i=t.__getAxisSpace().clone(),r=t.getSelectionHandler();if(r)var a=r.getSelectedIds();var n=t.__cacheChartFocus();t.__cleanUpAxisAndPlotArea(),dt.render(t,e,i),gt._adjustAvailSpace(i),t.__setPlotAreaSpace(i.clone()),gt._renderPlotArea(t,e,i),r&&r.processInitialSelections(a,t.getChartObjPeers()),t.getEventManager().autoToggleZoomButton(),gt.positionDragButtons(t),t.highlight(it.getHighlightedCategories(t)),t.__restoreChartFocus(n)}},gt._renderBackground=function(e,i,r){var a=new t.Rect(e.getCtx(),r.x,r.y,r.w,r.h);a.setInvisibleFill(),i.addChild(a)},gt._addOuterGaps=function(t,e){var i=t.getOptions(),r=l.getGapWidth(t,i.layout.outerGapWidth),a=l.getGapHeight(t,i.layout.outerGapHeight);("none"==i.styleDefaults.padding||nt.isStandalonePlotArea(t)||nt.isStandaloneXAxis(t)||nt.isStandaloneYAxis(t)||nt.isStandaloneY2Axis(t))&&(r=Math.min(r,1),a=Math.min(a,1)),e.x+=r,e.w-=2*r,e.y+=a,e.h-=2*a},gt._renderTitles=function(e,i,r){var a=e.getOptions();if(a.title.text){var n,s,o=rt.createText(e.getEventManager(),i,a.title.text,a.title.style,r.x,r.y,r.w,r.h),h=null!=a.title.hAlign?a.title.hAlign:a.title.halign,u="plotArea"==h.substring(0,8);if(o?(n=(s=o.getDimensions()).h,o.setAriaProperty("hidden",null)):(n=0,s=new t.Rectangle(0,0,0,0)),a.subtitle.text){var g=new t.OutputText(e.getCtx(),a.subtitle.text,r.x,r.y);if(g){g.setCSSStyle(a.subtitle.style),i.addChild(g);var d=g.getDimensions(),c=l.getGapWidth(e,a.layout.titleSubtitleGapWidth),p=s.w+c+d.w;if(p>r.w||u)c=l.getGapHeight(e,a.layout.titleSubtitleGapHeight),g.setY(r.y+n+c),t.TextUtils.fitText(g,r.w,r.h,i)&&(n+=(d=g.getDimensions()).h+c,t.Agent.isRightToLeft(e.getCtx())&&(g&&g.setX(r.w-d.w),o&&o.setX(r.w-s.w)));else{var _=s.h-d.h;g.setY(_+r.y),o&&(t.LayoutUtils.align(r,h,o,p),t.Agent.isRightToLeft(e.getCtx())?(g.setX(o.getX()),o&&o.setX(o.getX()+d.w+c)):g.setX(o.getX()+p-d.w))}g.setAriaProperty("hidden",null),e.getEventManager().associate(g,new t.SimpleObjPeer(g.getUntruncatedTextString()))}}else t.LayoutUtils.align(r,h,o,s.w);u&&(e.getCache().putToCache("title",o),e.getCache().putToCache("subtitle",g));var f="on"==a.titleSeparator.rendered?a.layout.titleSeparatorGap:a.layout.titlePlotAreaGap;if(r.y+=n+l.getGapHeight(e,f),r.h-=n+l.getGapHeight(e,f),"on"==a.titleSeparator.rendered){var v=new t.Line(e.getCtx(),r.x,r.y,r.x+r.w,r.y),m=new t.Line(e.getCtx(),r.x,r.y+1,r.x+r.w,r.y+1);v.setSolidStroke(a.titleSeparator.upperColor),m.setSolidStroke(a.titleSeparator.lowerColor),i.addChild(v),i.addChild(m);var S=2+l.getGapHeight(e,a.layout.titlePlotAreaGap);r.y+=S,r.h-=S}}if(a.footnote.text){var C=rt.createText(e.getEventManager(),i,a.footnote.text,a.footnote.style,r.x,0,r.w,r.h),y=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,x="plotArea"==y.substring(0,8);if(C){var A=C.getDimensions();C.setY(r.y+r.h-A.h),r.h-=A.h+l.getGapHeight(e,a.layout.footnoteGap),t.LayoutUtils.align(r,y,C,A.w),C.setAriaProperty("hidden",null)}x&&e.getCache().putToCache("footnote",C)}},gt._updateTitles=function(t,e,i,r){var a=t.getOptions(),n=null!=a.title.hAlign?a.title.hAlign:a.title.halign,s=null!=a.footnote.hAlign?a.footnote.hAlign:a.footnote.halign,o=a.title.text&&"plotArea"==n.substring(0,8),l=a.footnote.text&&"plotArea"==s.substring(0,8);if(i.x=r.x,i.w=r.w,o){var h,u=t.getCache().getFromCache("title"),g=t.getCache().getFromCache("subtitle"),d=u.getDimensions();gt._alignTextToPlotArea(e,i,n,u,d.w),g&&(h=g.getDimensions(),gt._alignTextToPlotArea(e,i,n,g,h.w))}if(l){var c=t.getCache().getFromCache("footnote"),p=c.getDimensions();gt._alignTextToPlotArea(e,i,s,c,p.w)}},gt._alignTextToPlotArea=function(e,i,r,a,n){t.TextUtils.fitText(a,i.w,i.h,e)&&("plotAreaStart"==r?t.LayoutUtils.align(i,"start",a,n):"plotAreaCenter"==r?t.LayoutUtils.align(i,"center",a,n):"plotAreaEnd"==r&&t.LayoutUtils.align(i,"end",a,n))},gt._renderPlotArea=function(e,i,r){if(nt.hasAxes(e)){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a),e.getEventManager().associate(a,new t.SimpleObjPeer(null,null,null,{type:"plotArea"}));var n=new t.Rectangle(0,0,r.w,r.h);pt.render(e,a,n)}else if(nt.isPie(e)){var s=new F(e,r);s.__getSlices().length>0?(i.addChild(s),e.setPlotArea(s),s.render()):gt.renderEmptyText(e,i,r)}else nt.isFunnel(e)?_t.render(e,i,r):nt.isPyramid(e)&&ft.render(e,i,r);r.w=0,r.h=0},gt.renderEmptyText=function(e,i,r){var a=e.getOptions();if(J.hasInvalidTimeData(e)&&J.hasData(e))var n=a.translations.labelInvalidData;else(n=a.emptyText)||(n=a.translations.labelNoData);t.TextUtils.renderEmptyText(i,n,new t.Rectangle(r.x,r.y,r.w,r.h),e.getEventManager(),a._statusMessageStyle)},gt._prerenderHorizScrollbar=function(e,i,r){var a=r.w,n=0;return $.isScrollable(e)&&nt.isHorizScrollbarSupported(e)?it.isOverviewRendered(e)?(n=Math.min(it.getOverviewHeight(e),r.h))>0&&(e.overview=new P(e),i.addChild(e.overview),t.LayoutUtils.position(r,"bottom",e.overview,a,n,10)):(n=e.getOptions().styleDefaults._scrollbarHeight,e.xScrollbar=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e),i.addChild(e.xScrollbar),t.LayoutUtils.position(r,"bottom",e.xScrollbar,a,n,8),e.overview=null):e.overview=null,new t.Dimension(a,n)},gt._prerenderVertScrollbar=function(e,i,r){var a=0,n=r.h;if($.isScrollable(e)&&nt.isVertScrollbarSupported(e)){a=e.getOptions().styleDefaults._scrollbarHeight;var s=new t.SimpleScrollbar(e.getCtx(),e.processEvent,e);i.addChild(s),t.LayoutUtils.position(r,t.Agent.isRightToLeft(e.getCtx())?"right":"left",s,a,n,8),nt.isHorizontal(e)?e.xScrollbar=s:e.yScrollbar=s}return new t.Dimension(a,n)},gt._renderScrollbars=function(e,i,r){var a=e.getOptions(),n={color:a.styleDefaults._scrollbarHandleColor,backgroundColor:a.styleDefaults._scrollbarTrackColor},s=e.__getPlotAreaSpace();if(e.xScrollbar&&(n.min=e.xAxis.getLinearGlobalMin(),n.max=e.xAxis.getLinearGlobalMax(),nt.isHorizontal(e)?(n.isHorizontal=!1,n.isReversed=!1,e.xScrollbar.setTranslateY(s.y),e.xScrollbar.render(n,r.w,s.h)):(n.isHorizontal=!0,n.isReversed=t.Agent.isRightToLeft(e.getCtx()),e.xScrollbar.setTranslateX(s.x),e.xScrollbar.render(n,s.w,i.h)),e.xScrollbar.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())),e.yScrollbar&&(n.min=e.yAxis.getLinearGlobalMin(),n.max=e.yAxis.getLinearGlobalMax(),n.isHorizontal=!1,n.isReversed=!0,e.yScrollbar.setTranslateY(s.y),e.yScrollbar.render(n,r.w,s.h),e.yScrollbar.setViewportRange(e.yAxis.getLinearViewportMin(),e.yAxis.getLinearViewportMax())),e.overview){var o={xMin:e.xAxis.getLinearGlobalMin(),xMax:e.xAxis.getLinearGlobalMax(),x1:e.xAxis.getLinearViewportMin(),x2:e.xAxis.getLinearViewportMax(),minimumWindowSize:e.xAxis.getInfo().getMinimumExtent(),chart:t.JsonUtils.clone(a)};$.isZoomable(e)||(o.featuresOff="zoom"),o.chart._minOverflowCoord=a._minOverflowCoord-s.x,o.chart._maxOverflowCoord=a._maxOverflowCoord-s.x,e.overview.setTranslateX(s.x),e.overview.render(o,s.w,i.h),e.overview.setViewportRange(e.xAxis.getLinearViewportMin(),e.xAxis.getLinearViewportMax())}},gt._positionLegend=function(t,e){if(t){var i=t.getDimensions(),r=t.getOptions().orientation;"vertical"==r&&i.h<=e.h?t.setTranslateY(Math.round(e.y+e.h/2-i.h/2)):"horizontal"==r&&i.w<=e.w&&t.setTranslateX(Math.round(e.x+e.w/2-i.w/2))}},gt._renderDragButtons=function(e,i){var a=gt._BUTTON_SIZE+2*(gt._BUTTON_PADDING+gt._BUTTON_CORNER_DIST),n=e.__getPlotAreaSpace();if(!(!nt.hasAxes(e)||nt.isOverview(e)||n.w<a||n.h<a)){var s=e.getOptions(),o=s.translations,l=e.getEventManager(),h=s.dragMode;if("user"==h){var u,g,d=t.Agent.isTouchDevice(),c=$.isScrollable(e);e.dragButtons=new t.Container(e.getCtx());var p="multiple"==s.selectionMode&&(d||c),_=c&&d,f=c&&!d&&$.isZoomable(e)&&nt.isScatterBubble(e);p&&(g=_||f?"end":"solo",l.selectButton=gt._createDragButton(e,e.dragButtons,"select",l.onSelectButtonClick,l,g),u=o.tooltipSelect,l.selectButton.setTooltip(u),l.associate(l.selectButton,l.selectButton)),_&&(g=p?"start":"solo",l.panButton=gt._createDragButton(e,e.dragButtons,"pan",l.onPanButtonClick,l,g),u=o.tooltipPan,l.panButton.setTooltip(u),l.associate(l.panButton,l.panButton)),f&&(g=p?"start":"solo",l.zoomButton=gt._createDragButton(e,e.dragButtons,"zoom",l.onZoomButtonClick,l,g),u=o.tooltipZoom,l.zoomButton.setTooltip(u),l.associate(l.zoomButton,l.zoomButton)),gt.positionDragButtons(e),l.setDragMode(null),e.dragButtons.getNumChildren()>0&&(e.addChild(e.dragButtons),d?c&&(l.panButton.setToggled(!0),l.onPanButtonClick(null)):e.hideDragButtons(),e.dragButtons.setCursor("default"))}else"pan"==h?l.setDragMode(r.DRAG_MODE_PAN):"zoom"==h?l.setDragMode(r.DRAG_MODE_ZOOM):"select"==h?l.setDragMode(r.DRAG_MODE_SELECT):l.setDragMode(r.DRAG_MODE_OFF)}},gt._positionDragButton=function(e,i,r){var a;t.Agent.isRightToLeft(e.getCtx())?(a=r.x+gt._BUTTON_PADDING,r.x+=gt._BUTTON_SIZE+2*gt._BUTTON_PADDING):a=r.x+r.w-gt._BUTTON_SIZE-gt._BUTTON_PADDING,r.w-=gt._BUTTON_SIZE+2*gt._BUTTON_PADDING,i.setTranslate(a,r.y+gt._BUTTON_PADDING)},gt.positionDragButtons=function(t){var e=t.__getPlotAreaSpace().clone();e.x+=gt._BUTTON_CORNER_DIST,e.w-=2*gt._BUTTON_CORNER_DIST,e.y+=gt._BUTTON_CORNER_DIST;var i=t.getEventManager();i.selectButton&&gt._positionDragButton(t,i.selectButton,e),i.panButton&&gt._positionDragButton(t,i.panButton,e),i.zoomButton&&gt._positionDragButton(t,i.zoomButton,e)},gt._createDragButtonBackground=function(e,i,r){var a=2,n=2,s=t.Agent.isRightToLeft(e);"start"==i?s?a=0:n=0:"end"==i&&(s?n=0:a=0);var o=a,l=n,h=-gt._BUTTON_PADDING,u=gt._BUTTON_SIZE+2*gt._BUTTON_PADDING,g=t.PathUtils.roundedRectangle(h,h,u,u,o,n,l,a),d=new t.Path(e,g);return t.Agent.getDevicePixelRatio()>1?(d.setSolidStroke(r,gt._BUTTON_OPACITY,1),d.setPixelHinting(!0)):d.setSolidStroke(r,gt._BUTTON_OPACITY,1),d},gt._createDragButton=function(e,i,r,a,n,s){var o=e.getCtx(),l=e.getOptions()._resources,h=gt._createDragButtonBackground(o,s,"#C4CED7"),u=l[r+"Up"];h.setFill(new t.LinearGradientFill(270,["#FFFFFF","#F1F3F4","#E8EBED","#E4E8EA"],[gt._BUTTON_OPACITY,gt._BUTTON_OPACITY,gt._BUTTON_OPACITY,gt._BUTTON_OPACITY],[0,.0364,.5,1])),h.addChild(new t.Image(o,u,0,0,gt._BUTTON_SIZE,gt._BUTTON_SIZE));var g=gt._createDragButtonBackground(o,s,"#C4CED7"),d=l[r+"UpHover"]?l[r+"UpHover"]:u;g.setSolidFill("#F7F8F9",gt._BUTTON_OPACITY),g.addChild(new t.Image(o,d,0,0,gt._BUTTON_SIZE,gt._BUTTON_SIZE));var c=gt._createDragButtonBackground(o,s,"#0572CE"),p=l[r+"Down"];c.setSolidFill("#0572CE",gt._BUTTON_OPACITY),c.addChild(new t.Image(o,p,0,0,gt._BUTTON_SIZE,gt._BUTTON_SIZE));var _=gt._createDragButtonBackground(o,s,"#0572CE"),f=l[r+"DownHover"]?l[r+"DownHover"]:p;_.setSolidFill("#0572CE",gt._BUTTON_OPACITY),_.addChild(new t.Image(o,f,0,0,gt._BUTTON_SIZE,gt._BUTTON_SIZE));var v=new t.Button(o,h,g,c,null,null,a,n);if(v.setOverDownState(_),v.setToggleEnabled(!0),i.addChild(v),v.addEvtListener(t.MouseEvent.MOUSEDOWN,(function(t){t.stopPropagation()})),t.Agent.isTouchDevice()){var m,S=t.Agent.isRightToLeft(o),C=2*gt._BUTTON_PADDING;(m="solo"==s?new t.Rect(o,-C,-C,gt._BUTTON_SIZE+2*C,gt._BUTTON_SIZE+2*C):"start"==s&&!S||"end"==s&&S?new t.Rect(o,-C,-C,gt._BUTTON_SIZE+1.5*C,gt._BUTTON_SIZE+2*C):new t.Rect(o,-.5*C,-C,gt._BUTTON_SIZE+1.5*C,gt._BUTTON_SIZE+2*C)).setInvisibleFill(),v.addChild(m)}return v},gt._adjustAvailSpace=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y),t.w=Math.round(t.w),t.h=Math.round(t.h)},gt.renderDataCursor=function(t){var e=null,i=t.getOptions(),r=t.getEventManager();if(at.isDataCursorEnabled(t)){(e=new R(t.getCtx(),i.styleDefaults.dataCursor,nt.isHorizontal(t))).setBehavior(at.getDataCursorBehavior(t)),t.addChild(e);var a=new h(t,e);r.setDataCursorHandler(a),t.positionDataCursor(i.dataCursorPosition)}else r.setDataCursorHandler(null);return e};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var dt=new Object;t.Obj.createSubclass(dt,t.Obj),dt._DEFAULT_AXIS_MAX_SIZE=.33,dt.render=function(t,e,i){nt.hasAxes(t)&&(Q.applyInitialZooming(t,i),nt.isBubble(t)&&st.calcBubbleSizes(t,i),nt.isPolar(t)?dt._renderPolar(t,e,i):dt._renderCartesian(t,e,i))},dt._renderCartesian=function(e,i,r){var a=e.getOptions(),n=nt.isHorizontal(e),s=nt.isSplitDualY(e),o=r.clone(),l=Q.getYAxisPosition(e),h=Q.getY2AxisPosition(e);dt._addAxisGaps(e,r),s&&l==h&&(a.yAxis._skipHighestTick=n,a.y2Axis._skipHighestTick=!n);var u=dt._createYAxis(e,i,r,o),g=dt._createY2Axis(e,i,r,o),d=!s&&"on"==a.y2Axis.alignTickMarks&&null==a.y2Axis.step;d&&u&&g&&(dt._alignYAxes(e,u,g),n||(g.dim=dt._getPreferredSize(e,g.axis,e.y2Axis,g.options,"y2",r,o)));var c,p=Q.getTickLabelGapSize(e,"y"),_=Q.getTickLabelGapSize(e,"y2");s&&l==h?(n?(c=Math.max(u.dim.h+p,g.dim.h+_),u.dim.h=c-p,g.dim.h=c-_):(c=Math.max(u.dim.w+p,g.dim.w+_),u.dim.w=c-p,g.dim.w=c-_),dt._positionAxis(r.clone(),u,p),dt._positionAxis(r,g,_)):(dt._positionAxis(r,u,p),dt._positionAxis(r,g,_));var f=J.getGroupCount(e);if("pixel"==it.getBarSpacing(e)&&nt.isBar(e)&&r.w>f){var v=Math.floor(r.w/f)*f;r.x+=(r.w-v)/2,r.w=v}var m=dt._createXAxis(e,i,r,o);m.axis.render(m.options,m.dim.w,m.dim.h),dt._positionAxis(r,m,Q.getTickLabelGapSize(e,"x"));var S=it.getSplitterPosition(e),C=t.Agent.isRightToLeft(e.getCtx()),y=dt._getSplitAvailSpace(r,S,n,n&&C),x=dt._getSplitAvailSpace(r,1-S,n,!n||!C);n?(u&&(u.axis.setTranslateX(r.x),s?u.axis.render(u.options,y.w,u.dim.h,y.x,0):u.axis.render(u.options,r.w,u.dim.h)),d&&u&&g&&dt._alignYAxes(e,u,g),g&&(g.axis.setTranslateX(r.x),s?g.axis.render(g.options,x.w,g.dim.h,x.x,0):g.axis.render(g.options,r.w,g.dim.h)),dt._setOverflow(r,u,m)):(u&&(s?u.axis.render(u.options,u.dim.w,y.h,0,y.y):u.axis.render(u.options,u.dim.w,r.h)),d&&u&&g&&dt._alignYAxes(e,u,g),g&&(s?g.axis.render(g.options,g.dim.w,x.h,0,x.y):g.axis.render(g.options,g.dim.w,r.h)),dt._setOverflow(r,m,u,g)),dt._storeAxes(e,m,u,g)},dt._renderPolar=function(t,e,i){var r=dt._createXAxis(t,e,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h);var a=dt._createYAxis(t,e,i,i);a.axis.setTranslateX(i.x),a.axis.setTranslateY(i.y),a.axis.render(a.options,i.w,i.h),dt._storeAxes(t,r,a)},dt._createXAxis=function(e,i,r,a){var n=e.getOptions(),s=Q.getXAxisPosition(e),o=t.JsonUtils.clone(n.xAxis);o.position=s,o.isStandalone=nt.isStandaloneXAxis(e),o.groupSeparators=n.styleDefaults.groupSeparators,dt._addCommonAxisAttributes(o,"x",e),o.groups=n.groups,o._groupWidthRatios=Q.getGroupWidthRatios(e),o.timeAxisType=Q.getTimeAxisType(e),o._environment=n._environment,o._locale=n._locale,o.drilling=n.drilling,o._isGroupAxis=Q.hasGroupAxis(e);var l="top"==s||"bottom"==s,h=Q.isGridShifted(e);if("tangential"==s&&Q.hasGroupAxis(e))h?(o.startGroupOffset=.5,o.endGroupOffset=.5):o.endGroupOffset=1;else{var u=Q.getAxisOffset(e);if(o.startGroupOffset=u,o.endGroupOffset=u,nt.hasUncenteredSeries(e)&&(o.endGroupOffset+=1),!$.isScrollable(e)&&!nt.isOverview(e)){var g=J.getGroupCount(e);Q.isAxisRendered(e,"y")&&Q.isTickLabelInside(e,"y")&&(o[(l?"start":"end")+"GroupOffset"]+=.04*g),Q.isAxisRendered(e,"y2")&&Q.isTickLabelInside(e,"y2")&&(o[(l?"end":"start")+"GroupOffset"]+=.04*g)}}o.leftBuffer=l?r.x-a.x:0,o.rightBuffer=l?a.w+a.x-(r.w+r.x):0,o._renderGridAtLabels=!h||Q.hasTimeAxis(e),o.translations=n.translations;var d=new b(e.getCtx(),e.processEvent,e);i.addChild(d);var c=dt._getPreferredSize(e,d,e.xAxis,o,"x",r,a);return o._minOverflowCoord=n._minOverflowCoord-r.x,o._maxOverflowCoord=n._maxOverflowCoord-r.x,{axis:d,options:o,dim:c}},dt._createYAxis=function(e,i,r,a){var n=e.getOptions();if(nt.hasY2DataOnly(e))return null;var s=t.JsonUtils.clone(n.yAxis);s.position=Q.getYAxisPosition(e),s.isStandalone=nt.isStandaloneYAxis(e),dt._addCommonAxisAttributes(s,"y",e),dt._addCommonYAxisAttributes(s,e),s.translations=n.translations;var o=new b(e.getCtx(),e.processEvent,e);i.addChild(o);var l=dt._getPreferredSize(e,o,e.yAxis,s,"y",r,a);return dt._adjustYAxisForLabels(o,s,e,"y"),n.yAxis.min=s.min,n.yAxis.max=s.max,{axis:o,options:s,dim:l}},dt._createY2Axis=function(e,i,r,a){var n=e.getOptions();if(nt.hasY2Data(e)){var s=t.JsonUtils.clone(n.y2Axis);s.position=Q.getY2AxisPosition(e),s.isStandalone=nt.isStandaloneY2Axis(e),dt._addCommonAxisAttributes(s,"y2",e),dt._addCommonYAxisAttributes(s,e),s.translations=n.translations;var o=new b(e.getCtx(),e.processEvent,e);i.addChild(o);var l=dt._getPreferredSize(e,o,e.y2Axis,s,"y2",r,a);return dt._adjustYAxisForLabels(o,s,e,"y2"),n.y2Axis.min=s.min,n.y2Axis.max=s.max,{axis:o,options:s,dim:l}}},dt._addCommonAxisAttributes=function(t,e,i){var r=i.getOptions();if(t.skin=r.skin,t.tickLabel.position=Q.isTickLabelInside(i,e)?"inside":"outside",t.baselineScaling=Q.getBaselineScaling(i,e),(Q.isTickLabelInside(i,e)||"tangential"==t.position)&&(t._skipHighestTick=!0),t.zoomAndScroll=nt.isPolar(i)?"off":r.zoomAndScroll,t._isOverview=nt.isOverview(i),t._duringZoomAndScroll=r._duringZoomAndScroll,"x"!=e||!Q.hasGroupAxis(i)){var a=J.getMinMaxValue(i,e);t.dataMin=null!=t.dataMin?t.dataMin:a.min,t.dataMax=null!=t.dataMax?t.dataMax:a.max}nt.isPolar(i)&&(t.polarGridShape=Q.isGridPolygonal(i)?"polygon":"circle",t._radius=i.getRadius()),t.dnd=r.dnd},dt._addCommonYAxisAttributes=function(e,i){if(e.timeAxisType="disabled",$.isLiveScroll(i)&&nt.isBLAC(i)&&!nt.isPolar(i)&&(e._continuousExtent="on"),e.isStandalone)e.leftBuffer=0,e.rightBuffer=0;else if(nt.isSplitDualY(i))e.leftBuffer=1/0,e.rightBuffer=1/0;else{var r=t.Agent.isRightToLeft(i.getCtx());e.leftBuffer=r?0:t.BaseAxisInfo.MINIMUM_AXIS_BUFFER,e.rightBuffer=r?t.BaseAxisInfo.MINIMUM_AXIS_BUFFER:0}},dt._adjustYAxisForLabels=function(e,i,r,a){var n=r.getOptions();if(Q.isYAdjustmentNeeded(r)){var s=n.styleDefaults.dataLabelStyle,o=n.styleDefaults.stackLabelStyle,l=e.getInfo(),h=it.isStackLabelRendered(r),u=t.TextUtils.getTextStringHeight(r.getCtx(),h?o:s),g=0;if("log"==i.scale){g=e.getUnboundedValueAt(e.getUnboundedCoordAt(l.getDataMax())-u)-l.getDataMax()}else{var d=1;nt.isSplitDualY(r)&&(d="y"==a?it.getSplitterPosition(r):1-it.getSplitterPosition(r));var c=Math.abs(l.getEndCoord()-l.getStartCoord())*d;g=Math.abs(l.getViewportMax()-l.getViewportMin())/c*u}nt.isHorizontal(r)?g*=4:g*=2,l.getDataMin()-l.getGlobalMin()<=g&&l.getDataMin()<0&&(i.dataMin-=g),l.getGlobalMax()-l.getDataMax()<=g&&l.getDataMax()>0&&(i.dataMax+=g)}},dt._getPreferredSize=function(e,i,r,a,n,s,o){var l=a.isStandalone,h=a.position,u="top"==h||"bottom"==h,g=Q.getTickLabelGapSize(e,n),d=a.maxSize,c=a.size,p=s.w,_=s.h;if("radial"==h||"tangential"==h)p=0,_=0;else if("off"==a.rendered)u?_=0:p=0;else if(l)u?_=s.h-g:p=s.w-g;else if(null!=c)u?(_=it.getSizeInPixels(c,o.h)-g,null!=d&&(_=Math.min(_,it.getSizeInPixels(d,o.h)-g))):(p=it.getSizeInPixels(c,o.w)-g,null!=d&&(p=Math.min(p,it.getSizeInPixels(d,o.w)-g)));else{if(!e.getOptions()._duringZoomAndScroll||!r)return d=null==d?dt._DEFAULT_AXIS_MAX_SIZE:d,u?i.getPreferredSize(a,s.w,it.getSizeInPixels(d,o.h)-g):i.getPreferredSize(a,it.getSizeInPixels(d,o.w)-g,s.h);if(u){var f=t.Agent.isRightToLeft(e.getCtx());a._startOverflow=f?r.getRightOverflow():r.getLeftOverflow(),a._endOverflow=f?r.getLeftOverflow():r.getRightOverflow(),_=r.getHeight()}else p=r.getWidth()}return Q.isYAdjustmentNeeded(e)&&i.getPreferredSize(a,p,_),new t.Dimension(p,_)},dt._addAxisGaps=function(t,e){var i=nt.isHorizontal(t),r=Q.getYAxisPosition(t),a=Q.getY2AxisPosition(t),n=Q.isAxisRendered(t,"x"),s=Q.isAxisRendered(t,"y"),o=Q.isAxisRendered(t,"y2"),l=t.getOptions().layout.verticalAxisGap;l*=i?Q.getGapScalingFactor(t,"x"):Math.max(Q.getGapScalingFactor(t,"y"),Q.getGapScalingFactor(t,"y2")),l=Math.ceil(l),(!i||"top"==r&&s||"top"==a&&o)&&i||(e.y+=l,e.h-=l),(!i||"bottom"==r&&s||"bottom"==a&&o)&&(i||n)||(e.h-=l)},dt._positionAxis=function(e,i,r){i&&t.LayoutUtils.position(e,i.options.position,i.axis,i.dim.w,i.dim.h,r)},dt._alignYAxes=function(t,e,i){var r=e.axis.getInfo();if(r){var a=r.getMajorTickCount(),n=r.getMinorTickCount(),s=i.options,o=i.axis.getInfo();o&&Q.isLog(t,"y")&&Q.isLog(t,"y2")&&a<o.getMajorTickCount()&&(s._logScaleUnit=o.alignLogScaleToTickCount(o.getLogScaleUnit(),a)),s._majorTickCount=a,s._minorTickCount=n}},dt._getSplitAvailSpace=function(t,e,i,r){var a=t.clone();return i?(a.w=t.w*e,a.x=r?t.w*(1-e):0):(a.h=t.h*e,a.y=r?t.h*(1-e):0),a},dt._setOverflow=function(t,e,i,r){if(e){var a=e.axis.getLeftOverflow(),n=e.axis.getRightOverflow();t.x+=a,t.w-=a+n,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?a:-n)),r&&r.axis.setTranslateX(r.axis.getTranslateX()+("left"==r.options.position?a:-n))}},dt._storeAxes=function(t,e,i,r){t.xAxis&&(t.xAxis.destroy(),t.removeChild(t.xAxis)),t.yAxis&&(t.yAxis.destroy(),t.removeChild(t.yAxis)),t.y2Axis&&(t.y2Axis.destroy(),t.removeChild(t.y2Axis)),t.xAxis=e.axis,t.yAxis=i?i.axis:null,t.y2Axis=r?r.axis:null};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var ct=new Object;t.Obj.createSubclass(ct,t.Obj),ct._DEFAULT_LINE_WIDTH_WITH_MARKER=2,ct._DEFAULT_MAX_SIZE=.3,ct._PIE_SIZE_RATIO=1.2,ct.render=function(e,i,r){var a=e.getOptions(),n=a.legend.position;if(!("off"==a.legend.rendered||"auto"==a.legend.rendered&&e.getOptionsCache().getFromCache("hasLargeSeriesCount"))){var s=t.JsonUtils.clone(a.legend);delete s.position,s.skin=a.skin,s.hideAndShowBehavior=$.getHideAndShowBehavior(e),s.hoverBehavior=$.getHoverBehavior(e),s.hoverBehaviorDelay=it.getHoverBehaviorDelay(e),s.hiddenCategories=it.getHiddenCategories(e),s.highlightedCategories=it.getHighlightedCategories(e),s.dnd=a.dnd,s._dropColor=a._dropColor,s.translations=a.translations,"auto"==n&&(n=r.w>=r.h?"end":"bottom");var o="top"==n||"bottom"==n;if(s.orientation=o?"horizontal":"vertical","start"==n&&(s.halign="end"),"start"!=n&&"end"!=n||(s.valign="middle"),"top"==n&&(s.valign="bottom"),"top"!=n&&"bottom"!=n||(s.halign="center"),ct._addLegendData(e,s),0!=s.sections.length){var h,u=t.Legend.newInstance(e.getCtx(),e.processEvent,e);if(null!=e.getId()&&u.setId(e.getId()+"legend"),i.addChild(u),null!=s.size)h=o?new t.Dimension(r.w,it.getSizeInPixels(s.size,r.h)):new t.Dimension(it.getSizeInPixels(s.size,r.w),r.h);else{var g=s.maxSize;if(null==g&&(g=ct._DEFAULT_MAX_SIZE,nt.isPie(e))){var d=1-ct._PIE_SIZE_RATIO*(o?r.w/r.h:r.h/r.w);g=Math.max(g,d)}var c=o?r.w:it.getSizeInPixels(g,r.w),p=o?it.getSizeInPixels(g,r.h):r.h;h=u.getPreferredSize(s,c,p)}u.render(s,h.w,h.h);var _=o?l.getGapHeight(e,a.layout.legendGapHeight):l.getGapWidth(e,a.layout.legendGapWidth);t.LayoutUtils.position(r,n,u,h.w,h.h,_);var f=Object.keys(s.dnd.drag.series).length>0,v=u.getCache().getFromCache("background");f&&v&&v.setClassName("oj-draggable");var m=u.__getBounds(),S=u.localToStage(new t.Point(m.x,m.y));if(!nt.isOverview(e)){var C=t.Agent.isRightToLeft(e.getCtx());"end"==n?C?a._minOverflowCoord=S.x+m.w+_/2:a._maxOverflowCoord=S.x-_/2:"start"==n&&(C?a._maxOverflowCoord=S.x-_/2:a._minOverflowCoord=S.x+m.w+_/2)}e.legend&&(e.legend.destroy(),i.removeChild(e.legend)),e.legend=u}}},ct._addLegendData=function(t,e){var i=ct._getSeriesItems(t,"vertical"==e.orientation);if(i.length>0){var r=e.seriesSection;r.items=i,e.sections.unshift(r),delete e.seriesSection}var a=ct._getRefObjItems(t);if(a.length>0){var n=e.referenceObjectSection;n.items=a,e.sections.push(n),delete e.referenceObjectSection}},ct._getSeriesItems=function(t,e){var i,r,a=[];if("pie"==t.getType()||"pyramid"==t.getType()||"funnel"==t.getType()){var n=ot.getRenderedSeriesIndices(t);"pyramid"==t.getType()&&e&&(n=n.reverse());for(var s=0;s<n.length;s++){r=n[s];var o=J.getValue(t,r,0);o>=0&&null!=o&&(i=ct._createLegendItem(t,r))&&a.push(i)}ot.hasOtherSeries(t)&&(i={id:ot.OTHER_SLICE_SERIES_ID,text:t.getOptions().translations.labelOther,categoryVisibility:it.getHiddenCategories(t).indexOf(ot.OTHER_SLICE_SERIES_ID)>=0?"hidden":"visible",symbolType:"marker",color:t.getOptions().styleDefaults.otherColor,borderColor:t.getOptions().styleDefaults.borderColor},a.push(i))}else{var l={},h={},u=J.getSeriesCount(t);for(r=0;r<u;r++)if(i=ct._createLegendItem(t,r)){var g=J.getStackCategory(t,r);J.isAssignedToY2(t,r)?h[g]?h[g].push(i):h[g]=[i]:l[g]?l[g].push(i):l[g]=[i]}var d=J.getStackCategories(t,null,!0),c=nt.isStacked(t)&&nt.isVertical(t)&&e;a=ct._getSeriesItemsForAxis(l,d.y,c,a),a=ct._getSeriesItemsForAxis(h,d.y2,c,a)}return a},ct._getSeriesItemsForAxis=function(t,e,i,r){for(var a,n=0;n<e.length;n++)(a=t[e[n]])&&(r=i?r.concat(a.reverse()):r.concat(a));return r},ct._createLegendItem=function(t,e){var i=J.getSeriesItem(t,e),r=t.getType(),a=it.getSeriesType(t,e),n=it.getLineType(t,e),s=i.displayInLegend;if(!i||"off"==s)return null;if("on"!=s&&(nt.isFunnel(t)||nt.isPyramid(t)||nt.isStock(t)))return null;if("on"!=s&&!J.hasSeriesData(t,e))return null;var o=J.getSeriesLabel(t,e);if("on"!=s&&(null==o||"string"==typeof o&&0===o.trim().length))return null;var l={id:J.getSeries(t,e),text:o,categories:J.getCategories(t,e),categoryVisibility:it.isSeriesRendered(t,e)?"visible":"hidden",_dataContext:J.getDataContext(t,e,-1)};if("line"==a||"lineWithArea"==a||"scatter"==r||"bubble"==r)if(l.lineStyle=it.getLineStyle(t,e),l.lineWidth=it.getLineWidth(t,e),it.isMarkerDisplayed(t,e)){var h=it.getImageSource(t,e,null,null,"source");h?(l.symbolType="image",l.source=h):(l.symbolType="none"==n?"marker":"lineWithMarker","lineWithMarker"==l.symbolType&&(l.lineWidth=Math.min(ct._DEFAULT_LINE_WIDTH_WITH_MARKER,l.lineWidth)),l.markerShape=it.getMarkerShape(t,e),l.markerColor=it.getMarkerColor(t,e))}else l.symbolType="line";else if("boxPlot"==a){var u=it.getBoxPlotStyleOptions(t,e);u.q2Color!=u.q3Color?(l.symbolType=nt.isHorizontal(t)?"_horizontalBoxPlot":"_verticalBoxPlot",l._boxPlot=u):l.symbolType="marker"}else l.symbolType="marker","none"==it.getLineType(t,e)&&(l.markerShape=it.getMarkerShape(t,e));return l.color=it.getColor(t,e),l.borderColor=it.getBorderColor(t,e),l.pattern=it.getPattern(t,e),l.svgStyle="area"==a?it.getAreaStyle(t,e):it.getStyle(t,e),l.svgClassName="area"==a?it.getAreaClassName(t,e):it.getClassName(t,e),l.markerSvgStyle=it.getMarkerStyle(t,e),l.markerSvgClassName=it.getMarkerClassName(t,e),l.drilling=$.isSeriesDrillable(t,e)?"on":"off",l.shortDesc=i.shortDesc,l},ct._getRefObjItems=function(t){var e=tt.getRefObjs(t);if(e.length<=0)return[];for(var i=[],r=0;r<e.length;r++){var a=e[r];if(a&&"on"==a.displayInLegend&&a.text){var n=tt.getType(a);i.push({symbolType:"area"==n?"square":"line",text:a.text,color:tt.getColor(a),lineStyle:a.lineStyle,lineWidth:tt.getLineWidth(a),categories:tt.getRefObjCategories(a),categoryVisibility:tt.isObjectRendered(t,a)?"visible":"hidden",shortDesc:a.shortDesc,svgStyle:a.style||a.svgStyle,svgClassName:a.className||a.svgClassName})}}return i};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var pt=new Object;t.Obj.createSubclass(pt,t.Obj),pt._MIN_TOUCH_MARKER_SIZE=16,pt._MARKER_DATA_LABEL_GAP=4,pt._MIN_CHARS_DATA_LABEL=3,pt.FILTER_THRESHOLD_SCATTER_BUBBLE=1e4,pt.render=function(t,e,i){"off"==t.getOptions().plotArea.rendered?pt._renderAxisLines(t,e,i):i.w>0&&i.h>0&&(t._currentMarkers=new Array,t._currentAreas=new Array,pt._renderBackgroundObjects(t,e,i),pt._renderTicks(t,e,i),pt._renderForegroundObjects(t,e,i))},pt._renderBackgroundObjects=function(e,i,r){var a=e.getOptions(),n=pt._getBackgroundShape(e,r),s=it.getBackgroundColor(e);if(s?n.setSolidFill(s):n.setInvisibleFill(),i.addChild(n),e.getCache().putToCache("plotAreaBackground",n),$.isPlotAreaDraggable(e)&&n.setClassName("oj-draggable"),a.xAxis.referenceObjects||a.yAxis.referenceObjects||a.y2Axis.referenceObjects){var o=pt.createClippedGroup(e,i,r);vt.renderBackgroundObjects(e,o,r)}if(nt.isBLAC(e)){var l=new t.Container(e.getCtx());i.addChild(l),e.__setAreaContainer(l),nt.hasAreaSeries(e)&&pt._renderAreas(e,l,r,!1)}},pt._getBackgroundShape=function(e,i){var r,a=e.getCtx();if(nt.isPolar(e)){var n=i.x+i.w/2,s=i.y+i.h/2;if(Q.isGridPolygonal(e)){var o=t.PolygonUtils.getRegularPolygonPoints(n,s,J.getGroupCount(e),e.getRadius(),0);r=new t.Polygon(a,o)}else r=new t.Circle(a,n,s,e.getRadius())}else r=new t.Rect(a,i.x,i.y,i.w,i.h);return r},pt._renderTicks=function(t,e,i){t.xAxis&&Q.isMinorTickRendered(t,"x")&&pt._renderMinorTicks(t,e,t.xAxis,i),t.yAxis&&Q.isMinorTickRendered(t,"y")&&pt._renderMinorTicks(t,e,t.yAxis,i),t.y2Axis&&Q.isMinorTickRendered(t,"y2")&&pt._renderMinorTicks(t,e,t.y2Axis,i),t.xAxis&&Q.isMajorTickRendered(t,"x")&&pt._renderMajorTicks(t,e,t.xAxis,i),t.yAxis&&Q.isMajorTickRendered(t,"y")&&pt._renderMajorTicks(t,e,t.yAxis,i),t.y2Axis&&Q.isMajorTickRendered(t,"y2")&&pt._renderMajorTicks(t,e,t.y2Axis,i)},pt._renderAxisLines=function(t,e,i){t.xAxis&&t.yAxis&&Q.isAxisLineRendered(t,"x")&&pt._renderAxisLine(t,e,t.xAxis,t.yAxis,i),t.xAxis&&t.y2Axis&&Q.isAxisLineRendered(t,"x")&&(t.yAxis&&!nt.isSplitDualY(t)||pt._renderAxisLine(t,e,t.xAxis,t.y2Axis,i)),t.yAxis&&t.xAxis&&Q.isAxisLineRendered(t,"y")&&pt._renderAxisLine(t,e,t.yAxis,t.xAxis,i),t.y2Axis&&t.xAxis&&Q.isAxisLineRendered(t,"y2")&&pt._renderAxisLine(t,e,t.y2Axis,t.xAxis,i)},pt._renderMajorTicks=function(t,e,i,r){pt._renderGridlines(t,e,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),r)},pt._renderMinorTicks=function(t,e,i,r){pt._renderGridlines(t,e,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,r)},pt._renderAxisLine=function(t,e,i,r,a){var n=i.getOptions(),s=n.position,o="bottom"==s||"right"==s||"tangential"==s?r.getMaxCoord():r.getMinCoord();pt._renderGridlines(t,e,n.axisLine,r.getPosition(),[o],null,a)},pt._renderGridlines=function(e,i,r,a,n,s,o){var l=r.lineColor,h=r.lineStyle,u=new t.Stroke(l,1,r.lineWidth,!1,t.Stroke.getDefaultDashProps(h,r.lineWidth)),g=u.getColor();"inherit"!=r.baselineColor&&(g="auto"==r.baselineColor?t.ColorUtils.getDarker(l,.6):r.baselineColor);for(var d=null!=r.baselineWidth?r.baselineWidth:r.lineWidth,c=r.baselineStyle?r.baselineStyle:r.lineStyle,p=new t.Stroke(g,1,d,!1,t.Stroke.getDefaultDashProps(c,d)),_="",f=0;f<n.length;f++){var v=null!=s&&n[f]==s;"radial"==a||"tangential"==a||v?pt._renderGridline(e,i,a,n[f],v?p:u,o):_+="top"==a||"bottom"==a?t.PathUtils.moveTo(n[f],o.y)+t.PathUtils.verticalLineTo(o.y+o.h):t.PathUtils.moveTo(o.x,n[f])+t.PathUtils.horizontalLineTo(o.x+o.w)}if(""!=_){var m=new t.Path(e.getCtx(),_);(!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1)&&m.setPixelHinting(!0),m.setStroke(u),m.setMouseEnabled(!1),i.addChild(m)}},pt._renderGridline=function(e,i,r,a,n,s){var o,l=i.getCtx(),h=!t.Agent.isTouchDevice()||t.Agent.getDevicePixelRatio()>1;if("radial"==r){if(Q.isGridPolygonal(e)){var u=t.PolygonUtils.getRegularPolygonPoints(0,0,J.getGroupCount(e),a,0);o=new t.Polygon(l,u)}else o=new t.Circle(l,0,0,a);o.setInvisibleFill(),o.setTranslate(s.x+s.w/2,s.y+s.h/2)}else if("tangential"==r){o=new t.Line(l,0,0,e.getRadius()*Math.sin(a),-e.getRadius()*Math.cos(a));var g=a%(Math.PI/2);(g<.001||g>Math.PI/2-.001)&&h&&o.setPixelHinting(!0),o.setTranslate(s.x+s.w/2,s.y+s.h/2)}else o="top"==r||"bottom"==r?new t.Line(l,a,s.y,a,s.y+s.h):new t.Line(l,s.x,a,s.x+s.w,a),h&&o.setPixelHinting(!0);o.setStroke(n),o.setMouseEnabled(!1),i.addChild(o)},pt._renderForegroundObjects=function(t,e,i){var r=t.getOptions(),a=pt.createClippedGroup(t,e,i);pt._renderAxisLines(t,e,i);var n=r.plotArea.borderColor,s=r.plotArea.borderWidth;if(n&&0!=s){var o=pt._getBackgroundShape(t,i);o.setInvisibleFill(),o.setSolidStroke(n,null,s),o.setMouseEnabled(!1),e.addChild(o)}nt.isBLAC(t)?(nt.hasLineWithAreaSeries(t)&&pt._renderAreas(t,e,i,!0),nt.hasBarSeries(t)&&pt._renderBars(t,a,i),nt.hasCandlestickSeries(t)&&pt._renderStock(t,a,i),nt.hasBoxPlotSeries(t)&&pt._renderBoxPlot(t,a,i),nt.hasLineSeries(t)&&pt._renderLines(t,e,a,i)):nt.isScatterBubble(t)&&pt._renderScatterBubble(t,e,a,!0,i),(r.xAxis.referenceObjects||r.yAxis.referenceObjects||r.y2Axis.referenceObjects)&&(a=pt.createClippedGroup(t,e,i),vt.renderForegroundObjects(t,a,i));var l=J.getInitialSelection(t);$.setInitialSelection(t,l),t.highlight(it.getHighlightedCategories(t))},pt._renderDataLabel=function(e,i,r,a,n,s,o,l,h,u){if(!nt.isOverview(e)){var g="bar"==it.getSeriesType(e,a),d=nt.isHorizontal(e),c={width:d?r.w:u,height:d?u:r.h},p=e.getOptions(),_=p.styleDefaults,f=null!=e.y2Axis,v="on"===p.legend.rendered;g&&e.getOptionsCache().putToCachedMap2D("barDims",a,n,c);var m=J.getDataLabel(e,a,n,s,l,h);if(null!=m){var S=it.getDataLabelPosition(e,a,n,s,l,h);if("none"!=S){var C=new t.OutputText(e.getCtx(),m,0,0);C.setMouseEnabled(!1);var y=h?_.stackLabelStyle:it.getDataLabelStyle(e,a,n,s,o,S,l);C.setCSSStyle(y),C.setY(r.y+r.h/2),C.setX(r.x+r.w/2),C.alignCenter(),C.alignMiddle();var x=C.getDimensions(),A=e.getCache().getFromCache("plotAreaDims");A||(A=e.getPlotArea().getDimensions(),e.getCache().putToCache("plotAreaDims",A));var b=function(t,e,i,r){var a={x:null,y:null},n=r&&r.xAxis&&("left"==t||"right"==t),s=r&&r.top&&("left"==t||"right"==t),o=r&&((f||!v)&&r.y2Axis||r.legend)&&("top"==t||"bottom"==t),l=r&&r.yAxis&&("top"==t||"bottom"==t);"left"==t?a.x=e.x-i.w/2-pt._MARKER_DATA_LABEL_GAP:"right"==t?a.x=e.x+e.w+i.w/2+pt._MARKER_DATA_LABEL_GAP:"top"==t?a.y=e.y-i.h/2:"bottom"==t&&(a.y=e.y+e.h+i.h/2+pt._MARKER_DATA_LABEL_GAP/2);var h=2*pt._MARKER_DATA_LABEL_GAP;return o?a.x=A.x+A.w-i.w/2-h:l?a.x=i.w/2+h:n?a.y=A.y+A.h-i.h/2-h:s&&(a.y=i.h/2+h),a},M=_.dataLabelCollision,T=b(S,r,x);if("fitInBounds"===M&&!h){var I=it.getDataLabelCollisions(e,T,x,A,d),O=it.adjustDataLabelPosition(S,I,f);O!=S&&nt.isBubble(e)&&(y=h?_.stackLabelStyle:it.getDataLabelStyle(e,a,n,s,o,O,l),C.setCSSStyle(y)),T=b(S=O,r,x,I)}if(null!=T.x||null!=T.y)null!=T.x&&C.setX(T.x),null!=T.y&&C.setY(T.y);else{if(g){if(x.w>c.width||x.h>c.height)return;"inLeft"==S?C.setX(r.x+x.w/2+pt._MARKER_DATA_LABEL_GAP):"inRight"==S?C.setX(r.x+r.w-x.w/2-pt._MARKER_DATA_LABEL_GAP):"inTop"==S?C.setY(r.y+x.h/2+pt._MARKER_DATA_LABEL_GAP):"inBottom"==S&&C.setY(r.y+r.h-x.h/2-pt._MARKER_DATA_LABEL_GAP/2)}else if(nt.isBubble(e)){r.x+=pt._MARKER_DATA_LABEL_GAP,r.y+=pt._MARKER_DATA_LABEL_GAP,r.h-=2*pt._MARKER_DATA_LABEL_GAP,r.w-=2*pt._MARKER_DATA_LABEL_GAP;var D=t.TextUtils.getOptimalFontSize(C.getCtx(),C.getTextString(),C.getCSSStyle(),r);if(C.setFontSize(D),!t.TextUtils.fitText(C,r.w,r.h,i,pt._MIN_CHARS_DATA_LABEL))return}if(null!=it.getPattern(e,a,n)){var E=.15*(x=C.getDimensions()).h,P=t.PathUtils.roundedRectangle(x.x-E,x.y,x.w+2*E,x.h,2,2,2,2),L=new t.Path(e.getCtx(),P);L.setSolidFill("#FFFFFF",.9),i.addChild(L)}}if(nt.isBar(e)){var w,R=C.getDimensions(),B=!1;if("left"==S&&R.x<0)B=!0,w=r.x-pt._MARKER_DATA_LABEL_GAP;else if("right"==S&&R.x+R.w>A.w+pt._MARKER_DATA_LABEL_GAP)B=!0,w=A.w-r.w-pt._MARKER_DATA_LABEL_GAP;else{if("top"==S&&R.y<0)return;if("bottom"==S&&R.y+R.h>A.y+A.h+pt._MARKER_DATA_LABEL_GAP)return}if(B){if(!isNaN(m))return;if(!t.TextUtils.fitText(C,w,r.h,i,1))return;x=C.getDimensions(),"left"==S?C.setX(r.x-x.w/2-pt._MARKER_DATA_LABEL_GAP):"right"==S&&C.setX(r.x+r.w+x.w/2+pt._MARKER_DATA_LABEL_GAP)}}it.optimizeMarkerStroke(e)&&C.setSolidStroke("none"),i.addChild(C),e.addDataLabel(C)}}}},pt._renderDataLabelForMarker=function(e,i,r){var a=e.getEventManager().getLogicalObject(r);if(a){var n=a.getSeriesIndex(),s=a.getGroupIndex(),o=a.getNestedDataItemIndex();if(r instanceof t.SimpleMarker){var l=new t.Rectangle(r.getCx()-r.getWidth()/2,r.getCy()-r.getHeight()/2,r.getWidth(),r.getHeight());pt._renderDataLabel(e,i,l,n,s,o,r.getDataColor())}else r instanceof w&&(pt._renderDataLabel(e,i,r.getBoundingBox1(),n,s,o,r.getDataColor(),"low"),pt._renderDataLabel(e,i,r.getBoundingBox2(),n,s,o,r.getDataColor(),"high"))}},pt._renderScatterBubble=function(e,i,r,a,n){var s,o=pt._filterScatterBubble(e,a,n),l=J.getSeriesCount(e);for(s=0;s<l;s++)"none"!=it.getLineType(e,s)&&pt._renderLinesForSeries(e,r,s,n);var h=it.getMarkerBorderColor(e),u=it.getBorderWidth(e),g=new t.Stroke(h,1,u),d=[];if(o)for(var c=it.optimizeMarkerStroke(e),p=c?g.getColor():null,_=c?g.getWidth():null,f=0;f<o.length;f++){var v=o[f],m=pt._createMarker(e,v,p,_);d.push(m)}else{for(s=0;s<l;s++){var S=pt._getMarkersForSeries(e,s,n,g);d=d.concat(S)}a&&st.sortMarkers(d)}nt.isBubble(e)?pt._addMarkersToContainer(e,r,d,g):pt._addMarkersToContainer(e,i,d,g)},pt._renderMarkersForSeries=function(e,i,r,a){var n,s=it.getMarkerBorderColor(e,r),o=it.getBorderWidth(e,r),l=new t.Stroke(s,1,o);n=it.isRangeSeries(e,r)?pt._getRangeMarkersForSeries(e,r,a):pt._getMarkersForSeries(e,r,a,l),pt._addMarkersToContainer(e,i,n,l)},pt._addMarkersToContainer=function(e,i,r,a){var n=i,s=it.optimizeMarkerStroke(e),o=it.optimizeMarkerFill(e);(s||o)&&(n=new t.Container(e.getCtx()),s?n.setStroke(a):n.setInvisibleFill(),i.addChild(n));for(var l=0;l<r.length;l++)n.addChild(r[l]),pt._renderDataLabelForMarker(e,n,r[l]);e._currentMarkers.push(r)},pt._getMarkerInfo=function(e,i,r,a,n){var s=e.getOptions(),o=J.getValue(e,i,r,a);if(null==o||isNaN(o))return null;if(J.isDataItemFiltered(e,i,r))return null;var l=J.getGroupCount(e),h=it.isMarkerDisplayed(e,i,r,a);if(!h&&(null==a||a<0))if("jet"!=s._environment&&Q.isMixedFrequency(e))l<2&&(h=!0);else{var u=l-1,g=nt.isPolar(e),d=g&&u>0&&0==r?u:r-1,c=g&&u>0&&r==u?0:r+1,p=J.getValue(e,i,d),_=J.getValue(e,i,c);null!=p&&!isNaN(p)||null!=_&&!isNaN(_)||(h=!0)}if(!h){if(nt.isSpark(e))return null;if((s._duringZoomAndScroll||nt.isOverview(e))&&!J.isDataSelected(e,i,r,a))return null}if(!it.isDataItemRendered(e,i,r,a))return!1;var f=!0,v=J.getMarkerPosition(e,i,r,a,n),m=it.getMarkerSize(e,i,r,a);return n&&v&&m&&(f=n.intersects(new t.Rectangle(v.x-m/2,v.y-m/2,m,m))),v&&f?{seriesIndex:i,groupIndex:r,itemIndex:a,x:v.x,y:v.y,size:m,markerDisplayed:h}:null},pt._getScatterBubbleMarkerInfo=function(t,e,i,r){if(!it.isDataItemRendered(t,e,i))return!1;var a=J.getScatterBubbleMarkerPosition(t,e,i);if(!a)return null;var n=it.getMarkerSize(t,e,i);return n?{seriesIndex:e,groupIndex:i,x:a.x,y:a.y,size:n}:null},pt._getMarkersForSeries=function(t,e,i,r){if(!it.isSeriesRendered(t,e))return[];for(var a=it.optimizeMarkerStroke(t),n=a?r.getColor():null,s=a?r.getWidth():null,o=[],l=J.getGroupCount(t),h=0;h<l;h++){var u=pt._getMarkerInfo(t,e,h,null,i);if(u){var g=pt._createMarker(t,u,n,s);null!=g&&o.push(g)}}return o},pt._createMarker=function(e,i,r,a){var s,o=t.Agent.isTouchDevice(),l=e.getCtx(),h=it.optimizeMarkerStroke(e),u=it.optimizeMarkerFill(e),g=i.seriesIndex,d=i.groupIndex,c=i.itemIndex,p=it.getMarkerColor(e,g,d,c),_=it.getMarkerShape(e,g,d,c),f=i.markerDisplayed;if(null==f&&(f=it.isMarkerDisplayed(e,g,d,c)),f){var v=it.getImageSource(e,g,d,c,"source");if(v){var m=it.getImageSource(e,g,d,c,"sourceSelected"),S=it.getImageSource(e,g,d,c,"sourceHover"),C=it.getImageSource(e,g,d,c,"sourceHoverSelected");s=new t.ImageMarker(l,i.x,i.y,i.size,i.size,null,v,m,S,C)}else{(s=new t.SimpleMarker(l,_,i.x,i.y,i.size,i.size,null,null,!0)).setFill(et.getMarkerFill(e,g,d,c));var y=it.getMarkerBorderColor(e,g,d,c),x=it.getBorderWidth(e,g,d,c);y==r&&x==a||s.setSolidStroke(y,null,x),s.setDataColor(p,!0);var A=t.SelectionEffectUtils.getHoverBorderColor(p),b=it.getSelectedInnerColor(e),M=it.getSelectedOuterColor(e);s.setHoverStroke(new t.Stroke(b,1,1),new t.Stroke(A,1,3.5)),s.setSelectedStroke(new t.Stroke(b,1,1.5),new t.Stroke(M,1,4.5)),s.setSelectedHoverStroke(new t.Stroke(b,1,1.5),new t.Stroke(A,1,4.5)),s.setClassName(it.getMarkerClassName(e,g,d,c)),s.setStyle(it.getMarkerStyle(e,g,d,c))}it.isSelectable(e,g,d)&&s.setCursor(t.SelectionEffectUtils.getSelectingCursor()),o&&i.size<pt._MIN_TOUCH_MARKER_SIZE&&pt._addMarkerHitArea(s,i.x,i.y,h)}else it.isSelectable(e,g,d)?((s=new E(l,_,i.x,i.y,i.size,h)).setCursor(t.SelectionEffectUtils.getSelectingCursor()),o&&pt._addMarkerHitArea(s,i.x,i.y,h)):(o&&(i.size=pt._MIN_TOUCH_MARKER_SIZE),s=new E(l,t.SimpleMarker.SQUARE,i.x,i.y,i.size,h)),null!=s&&(u||s.setInvisibleFill(),s.setDataColor(p));return null!=s&&n.associate(s,e,g,d,c,i),s},pt._addMarkerHitArea=function(e,i,r,a){var n=new t.Rect(e.getCtx(),i-pt._MIN_TOUCH_MARKER_SIZE/2,r-pt._MIN_TOUCH_MARKER_SIZE/2,pt._MIN_TOUCH_MARKER_SIZE,pt._MIN_TOUCH_MARKER_SIZE);a&&n.setSolidStroke("none"),n.setInvisibleFill(),e.addChild(n)},pt._getRangeMarkersForSeries=function(e,i,r){if(!it.isSeriesRendered(e,i))return[];for(var a=t.Agent.isTouchDevice(),s=e.getCtx(),o=e.xAxis,l=J.isAssignedToY2(e,i)?e.y2Axis:e.yAxis,h=e.getOptions(),u=J.getGroupCount(e),g=[],d=0;d<u;d++)if(!J.isDataItemFiltered(e,i,d)&&it.isDataItemRendered(e,i,d)){var c=o.getCoordAt(J.getXValue(e,i,d)),p=l.getUnboundedCoordAt(J.getLowValue(e,i,d)),_=l.getUnboundedCoordAt(J.getHighValue(e,i,d));if(null!=c&&null!=p&&null!=_){var f=it.isMarkerDisplayed(e,i,d);if(!f){var v=u-1,m=nt.isPolar(e),S=m&&v>0&&0==d?v:d-1,C=m&&v>0&&d==v?0:d+1,y=J.getLowValue(e,i,S),x=J.getHighValue(e,i,S),A=J.getLowValue(e,i,C),b=J.getHighValue(e,i,S);null==y&&null==x&&null==A&&null==b&&(f=!0)}if(!(h._duringZoomAndScroll||nt.isOverview(e)||nt.isSpark(e))||f||J.isDataSelected(e,i,d)){var M=pt.convertAxisCoord(e,new t.Point(c,p),r),T=pt.convertAxisCoord(e,new t.Point(c,_),r),I=new t.Point((M.x+T.x)/2,(M.y+T.y)/2),O=it.getMarkerSize(e,i,d),D=new w(s,M.x,M.y,T.x,T.y,O,!f),E=et.getMarkerFill(e,i,d),P=it.getMarkerBorderColor(e,i,d),L=it.getBorderWidth(e,i,d),R=new t.Stroke(P,1,L),B=it.getMarkerColor(e,i,d),k=it.getSelectedInnerColor(e),F=it.getSelectedOuterColor(e);D.setStyleProperties(E,R,B,k,F),it.isSelectable(e,i,d)&&D.setCursor(t.SelectionEffectUtils.getSelectingCursor());var N=new t.Line(s,M.x,M.y,T.x,T.y);N.setSolidStroke("rgba(0,0,0,0)",null,a?Math.max(O,pt._MIN_TOUCH_MARKER_SIZE):O),D.addChild(N),g.push(D),n.associate(D,e,i,d,null,I)}}}return g},pt._renderBars=function(e,i,r){for(var a=nt.isHorizontal(e),s=nt.isPolar(e),o=nt.isStock(e),l="pixel"==it.getBarSpacing(e),h=t.Agent.isRightToLeft(e.getCtx()),u=it.isStackLabelRendered(e),g=nt.isStacked(e),d=it.getSelectedInnerColor(e),c=it.getSelectedOuterColor(e),p=e.getOptions()._duringZoomAndScroll,_=it.getGroupWidth(e),f={},v=0;v<J.getSeriesCount(e);v++)if("bar"==it.getSeriesType(e,v)){pt._filterPointsForSeries(e,v);for(var m="",S=e.getOptionsCache().getFromCachedMap("itemStyleSet",v),C=J.getStackCategory(e,v)||"",y=J.isAssignedToY2(e,v),x=J.getViewportMinMaxGroupIndex(e,v),A=x.min-1;A<=x.max+1;A++)if(!J.isDataItemFiltered(e,v,A)&&it.isDataItemRendered(e,v,A)&&0!=J.getZValue(e,v,A)){var b=J.getBarInfo(e,v,A,r);if(null!=b){var T=b.yCoord,I=b.baseCoord,O=b.axisCoord,D=b.x1,E=b.x2,P=b.barWidth;if(g){var w=""+A+C+y+(J.getValue(e,v,A)<0);if(Math.abs(I-T)<.5&&Math.abs(T-f[w])<.5&&!J.isOutermostBar(e,v,A))continue;f[w]&&(I=f[w]),f[w]=T}var R,B=!1;if(Math.abs(T-I)<1&&(it.isRangeSeries(e,v)?T--:g&&!J.isOutermostBar(e,v,A)||(B=!0,T=T>I||a&&!h&&T==I?I+3:I-3)),s)R=new L(e,O,I,T,D,E,r);else{var k=p&&_<5&&!S;if(R=new M(e,O,I,T,D,E,k),k){var F=R.getBoundingBox();m+=t.PathUtils.moveTo(F.x,F.y)+t.PathUtils.horizontalLineTo(F.x+F.w)+t.PathUtils.verticalLineTo(F.y+F.h)+t.PathUtils.horizontalLineTo(F.x)+t.PathUtils.closePath();continue}}i.addChild(R),it.isSelectable(e,v,A)&&R.setCursor(t.SelectionEffectUtils.getSelectingCursor());var N,H=null;if(B)N=t.SolidFill.invisibleFill();else{N=et.getBarFill(e,v,A,P);var G=it.getBorderColor(e,v,A),U=it.getBorderWidth(e,v,A);G&&(H=new t.Stroke(G,1,U))}var V=it.getColor(e,v,A),j=it.getClassName(e,v,A),Y=it.getStyle(e,v,A);R.setStyleProperties(N,H,V,d,c,j,Y),l&&R.setPixelHinting(!0),n.associate(R,e,v,A,null,b.dataPos),it.isRangeSeries(e,v)?(pt._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,"low",!1,R.getOriginalBarSize()),pt._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,"high",!1,R.getOriginalBarSize())):pt._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,V,null,!1,R.getOriginalBarSize());var W=new Array;W.push(R),o&&0!=v||e._currentMarkers.push(W),u&&J.isOutermostBar(e,v,A)&&pt._renderDataLabel(e,i,R.getBoundingBox(),v,A,null,null,null,!0,R.getOriginalBarSize())}}if(m){var z=new t.Path(e.getCtx(),m),X=it.getColor(e,v);z.setSolidFill(X);var Z=it.getBorderColor(e,v);if(Z){var K=it.getBorderWidth(e,v);z.setSolidStroke(Z,null,K)}var q=it.getClassName(e,v),Q=it.getStyle(e,v);z.setClassName(q).setStyle(Q),l&&z.setPixelHinting(!0),i.addChild(z)}}},pt._renderStock=function(e,i,r){var a=e.getOptions(),s=e.xAxis,o=e.yAxis;if("candlestick"==it.getSeriesType(e,0))for(var l=J.getViewportMinMaxGroupIndex(e,0),h=l.min-1;h<=l.max+1;h++)if(it.isDataItemRendered(e,0,h)){var u=J.getDataItem(e,0,h);if(u){var g=u.open,d=u.close,c=u.low,p=u.high,_=null!=c&&null!=p;if(null!=g&&null!=d){var f,v=J.getXValue(e,0,h),m=s.getUnboundedCoordAt(v),S=it.getBarWidth(e,0,h),C=o.getBoundedCoordAt(g),y=o.getBoundedCoordAt(d),x=null;_&&(f=o.getBoundedCoordAt(c),x=o.getBoundedCoordAt(p));var A=new I(e.getCtx(),m,S,C,y,f,x);i.addChild(A),it.isSelectable(e,0,h)&&A.setCursor(t.SelectionEffectUtils.getSelectingCursor());var b=et.getBarFill(e,0,h,S),M=null,T=it.getBorderColor(e,0,h),O=it.getBorderWidth(e,0,h);T?M=new t.Stroke(T,1,O):b instanceof t.PatternFill&&(M=new t.Stroke(b.getColor(),1,O));var D=it.getColor(e,0,h),E=it.getSelectedInnerColor(e),P=it.getSelectedOuterColor(e),L=a.styleDefaults.stockRangeColor;A.setChangeStyle(b,M,D,E,P),A.setRangeStyle(new t.SolidFill(L),M,L,P);var w=new t.Point(m,(C+y)/2);n.associate(A,e,0,h,null,w);var R=new Array;R.push(A._changeShape),e._currentMarkers.push(R)}}}},pt._renderBoxPlot=function(e,i,r){for(var a=e.xAxis,s=0;s<J.getSeriesCount(e);s++)for(var o=J.getViewportMinMaxGroupIndex(e,s),l=o.min-1;l<=o.max+1;l++)if(it.isDataItemRendered(e,s,l)&&"boxPlot"==it.getSeriesType(e,s)){var h=J.getDataItem(e,s,l);if(h){var u=h.low,g=h.q1,d=h.q2,c=h.q3,p=h.high;if(null!=u&&null!=g&&null!=d&&null!=c&&null!=p){var _=it.getBarWidth(e,s,l),f=it.getBarCategoryOffsetMap(e,l),v=J.isAssignedToY2(e,s),m=J.getStackCategory(e,s),S=f[v?"y2":"y"][m]+_/2;t.Agent.isRightToLeft(e.getCtx())&&nt.isVertical(e)&&(S*=-1);var C=J.getXValue(e,s,l),y=a.getUnboundedCoordAt(C)+S,x=v?e.y2Axis:e.yAxis,A=x.getBoundedCoordAt(u),b=x.getBoundedCoordAt(g),M=x.getBoundedCoordAt(d),I=x.getBoundedCoordAt(c),O=x.getBoundedCoordAt(p),D=it.getBoxPlotStyleOptions(e,s,l),E=new T(e,y,_,A,b,M,I,O,D);i.addChild(E),it.isSelectable(e,s,l)&&E.setCursor(t.SelectionEffectUtils.getSelectingCursor());var P=pt.convertAxisCoord(e,new t.Point(y,M),r);n.associate(E,e,s,l,null,P),pt._renderBoxPlotMarkers(e,i,s,l,r,y),e._currentMarkers.push([E._medianLine])}}}},pt._renderBoxPlotMarkers=function(e,i,r,a,n,s){for(var o=it.getMarkerBorderColor(e,r,a),l=it.getBorderWidth(e,r,a),h=new t.Stroke(o,1,l),u=[],g=J.getNestedDataItemCount(e,r,a),d=0;d<g;d++){var c=pt._getMarkerInfo(e,r,a,d,n);if(c){nt.isHorizontal(e)?c.y=s:c.x=s;var p=pt._createMarker(e,c,o,l);null!=p&&u.push(p)}}pt._addMarkersToContainer(e,i,u,h)},pt._renderLines=function(t,e,i,r){var a,n=[],s=J.getSeriesCount(t);for(a=0;a<s;a++)it.isSeriesRendered(t,a)&&"line"==it.getSeriesType(t,a)&&n.push(a);for(var o=0;o<n.length;o++)a=n[o],"none"!=it.getLineType(t,a)&&(pt._filterPointsForSeries(t,a),pt._renderLinesForSeries(t,i,a,r));for(o=0;o<n.length;o++)pt._renderMarkersForSeries(t,e,n[o],r)},pt._renderAreas=function(t,e,i,r){for(var a=J.getSeriesCount(t),n=r?"lineWithArea":"area",s=[],o=[],l=0;l<a;l++)it.isSeriesRendered(t,l)&&it.getSeriesType(t,l)==n&&(J.isAssignedToY2(t,l)?o.push(l):s.push(l));s.length>0&&pt._renderAreasForAxis(t,e,s,t.yAxis.getBaselineCoord(),i,r),o.length>0&&pt._renderAreasForAxis(t,e,o,t.y2Axis.getBaselineCoord(),i,r)},pt._renderAreasForAxis=function(e,i,r,a,s,o){for(var l=nt.isStacked(e),h=pt.createClippedGroup(e,i,s),u={},g={},d={},c={},p=[],_=J.getGroupCount(e),f=0;f<_;f++)p.push(new O(null,a,a,f,J.getGroup(e,f),!0));for(var v=0;v<r.length;v++){var m=r[v],S=J.getStackCategory(e,m),C=J.isSeriesNegative(e,m),y=u[S],x=g[S],A=d[S],b=c[S];if("none"!=it.getLineType(e,m)){var M,T,I,E=et.getAreaFill(e,m),P=it.getBorderColor(e,m),L=it.getBorderWidth(e,m),w=it.getAreaClassName(e,m),R=it.getAreaStyle(e,m),B=P?new t.Stroke(P,1,L):null,k=it.getLineType(e,m);pt._filterPointsForSeries(e,m),it.isRangeSeries(e,m)?(M=pt._getCoordsForSeries(e,m,s,"high"),T=pt._getCoordsForSeries(e,m,s,"low"),I=k):C?(M=pt._getAreaCoordsForSeries(e,m,s,A||p),T=A||[],I=b):(M=pt._getAreaCoordsForSeries(e,m,s,y||p),T=y||[],I=x);var F=new D(e,!0,s,a,R,w,E,B,k,M,I,T);h.addChild(F),e._currentAreas.push(F),n.associate(F,e,m),C?(d[S]=M,c[S]=k):(u[S]=M,g[S]=k),l||((o||it.getDataItemGaps(e)>0&&!P)&&pt._renderLinesForSeries(e,h,m,s,!o),o||pt._renderMarkersForSeries(e,i,m,s),v+1<r.length&&(h=pt.createClippedGroup(e,i,s)))}else pt._renderMarkersForSeries(e,i,m,s)}for(v=0;v<r.length;v++)if(m=r[v],"none"!=it.getLineType(e,m)){var N=it.getBorderColor(e,m)||it.getBorderColor(e,m+1);l&&(o||it.getDataItemGaps(e)>0&&!N)&&pt._renderLinesForSeries(e,h,m,s,!o),(l||o)&&pt._renderMarkersForSeries(e,i,m,s)}},pt._getAreaCoordsForSeries=function(t,e,i,r){for(var a=pt._getCoordsForSeries(t,e,i),n=[],s=0;s<r.length;s++)n.push(r[s].clone());var o=a.length-1,l=nt.isPolar(t);for(s=0;s<a.length;s++)if(null!=a[s].x){var h=n[a[s].groupIndex],u=l&&0==s?o:s-1,g=l&&s==o?0:s+1;u>=0&&null!=a[u].x&&(h.y1=a[s].y1),g<=o&&null!=a[g].x&&(h.y2=a[s].y2),h.x=a[s].x,h.filtered=h.y1==h.y2&&a[s].filtered}return n},pt._renderLinesForSeries=function(e,i,r,a,s){var o;if(s){var l=2.5*it.getDataItemGaps(e);o=new t.Stroke(it.getBackgroundColor(e,!0),1,l)}else{var h=it.getColor(e,r),u=it.getLineWidth(e,r),g=it.getLineStyle(e,r);o=new t.Stroke(h,1,u,!1,t.Stroke.getDefaultDashProps(g,u))}var d=J.isAssignedToY2(e,r)?e.y2Axis.getBaselineCoord():e.yAxis.getBaselineCoord(),c=it.getLineType(e,r),p=it.getClassName(e,r),_=it.getStyle(e,r),f=function(t){var s=pt._getCoordsForSeries(e,r,a,t),l=new D(e,!1,a,d,_,p,null,o,c,s);i.addChild(l),n.associate(l,e,r)};it.isRangeSeries(e,r)?(f("high"),f("low")):f("value")},pt._filterScatterBubble=function(e,i,r){var a,n=J.getSeriesCount(e),s=J.getGroupCount(e);if(n*s<pt.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;for(var o=[],l=0;l<n;l++)if(it.isSeriesRendered(e,l))for(var h=0;h<s;h++)null!=(a=pt._getScatterBubbleMarkerInfo(e,l,h,r))&&o.push(a);if(o.length<pt.FILTER_THRESHOLD_SCATTER_BUBBLE)return null;i&&st.sortMarkerInfos(o);for(var u=new t.PixelMap(25,new t.PixelMap(5,new t.PixelMap)),g=[],d=o.length-1;d>=0;d--){if(a=o[d],!st.checkPixelMap(u,a.x,a.y,a.size)){var c=it.getColor(e,a.seriesIndex,a.groupIndex),p=it.isMarkerDisplayed(e,l,h)?t.ColorUtils.getAlpha(c):0;p>0&&(st.updatePixelMap(u,a.x,a.y,a.size,p),g.push(a))}}return e.getCache().putToCache("dataFiltered",!0),g.reverse(),g},pt._filterPointsForSeries=function(t,e){if(!nt.isPolar(t)&&!it.isRangeSeries(t,e)){var i=t.__getPlotAreaSpace().w,r=J.getSeriesItem(t,e).items,a="bar"==it.getSeriesType(t,e),n=t.xAxis.getInfo(),s=(n.getDataMax()-n.getDataMin())/(n.getViewportMax()-n.getViewportMin()),o=a?.5:2,l=s?Math.round(o*(r.length/s)/i):1;if(l<(a?2:3))for(var h=0;h<r.length;h++)(p=r[h])&&(p._filtered=!1);else{var u,g,d,c,p,_,f=!1;for(h=0;h<r.length;h+=l){u=-1,g=-1/0,d=-1,c=1/0;for(var v=h;v<Math.min(h+l,r.length);v++)_=J.getCumulativeValue(t,e,v),p=r[v],null!=_&&null!=p&&((!a||_>0)&&_>g&&(u=v,g=_),(!a||_<0)&&_<c&&(d=v,c=_),p._filtered=!0,f=!0);for(v=h;v<Math.min(h+l,r.length);v++)null!=(p=r[v])&&(v!=u&&v!=d||(p._filtered=!1))}t.getCache().putToCache("dataFiltered",f)}}},pt._getCoordsForSeries=function(t,e,i,r){var a=t.xAxis,n=t.yAxis;J.isAssignedToY2(t,e)&&(n=t.y2Axis);for(var s=[],o=J.getViewportMinMaxGroupIndex(t,e),l=o.min-1;l<=o.max+1;l++){var h=J.getGroup(t,l);if(null!=h){var u=J.getXValue(t,e,l),g=null;if("low"==r?g=J.getLowValue(t,e,l):"high"==r?g=J.getHighValue(t,e,l):null!=J.getValue(t,e,l)&&(g=J.getCumulativeValue(t,e,l)),null!=g&&!isNaN(g)&&it.isDataItemRendered(t,e,l)){nt.isPolar(t)&&(g=Math.max(g,n.getInfo().getViewportMin()));var d=a.getUnboundedCoordAt(u),c=n.getUnboundedCoordAt(g);if(null!=d&&null!=c){var p=new O(d,c,c,l,h,J.isDataItemFiltered(t,e,l));s.push(p)}else s.push(new O(null,null,null,l,h,!1))}else s.push(new O(null,null,null,l,h,!1))}}return s},pt.createClippedGroup=function(e,i,r){var a=new t.Container(i.getCtx());i.addChild(a);var n=new t.ClipPath(e.getId()),s=pt._extendClipGroup(e);if(nt.isPolar(e)){var o=r.x+r.w/2,l=r.y+r.h/2;if(Q.isGridPolygonal(e)){var h=t.PolygonUtils.getRegularPolygonPoints(o,l,J.getGroupCount(e),e.getRadius(),0);n.addPolygon(h)}else n.addCircle(o,l,e.getRadius())}else nt.isHorizontal(e)?n.addRect(r.x-s,r.y,r.w+2*s,r.h):n.addRect(r.x,r.y-s,r.w,r.h+2*s);return a.setClipPath(n),a},pt.polarToCartesian=function(e,i,r){var a=r.x+r.w/2+e*Math.sin(i),n=r.y+r.h/2-e*Math.cos(i);return new t.Point(a,n)},pt.convertAxisCoord=function(e,i,r){if(nt.isPolar(e)){var a=pt.polarToCartesian(i.y,i.x,r);return new t.Point(a.x,a.y)}return nt.isHorizontal(e)?new t.Point(i.y,i.x):new t.Point(i.x,i.y)},pt._extendClipGroup=function(t){if((nt.hasLineSeries(t)||nt.hasLineWithAreaSeries(t))&&!nt.isSpark(t)){var e=it.getLineWidth(t),i=function(t){var i=t.getInfo(),r=i.getCoordAt(i.getGlobalMax()),a=i.getCoordAt(i.getDataMax()),n=i.getCoordAt(i.getGlobalMin()),s=i.getCoordAt(i.getDataMin());return null!=r&&null!=a&&a-r<=e/2||null!=n&&null!=s&&n-s<=e/2};if(t.yAxis&&i(t.yAxis)||t.y2Axis&&i(t.y2Axis))return Math.ceil(e/2)}return 0};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var _t=new Object;t.Obj.createSubclass(_t,t.Obj),_t._DEFAULT_3D_GAP_RATIO=1/36,_t._DEFAULT_2D_GAP_RATIO=1/70,_t._MAX_WIDTH_FOR_GAPS=.25,_t._GROUP_INDEX=0,_t._SLICE_VALUE_THRESHOLD=1e-4,_t.render=function(e,i,r){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a);var n,s=nt.isHorizontal(e);if(s)n=new t.Rectangle(0,0,r.w,r.h);else{var o=new t.Matrix,l=t.Agent.isRightToLeft(e.getCtx())?-1:1;o=(o=(o=o.translate(-r.h/2,-r.w/2)).rotate(l*Math.PI/2)).translate(r.x+r.w/2,r.y+r.h/2),n=new t.Rectangle(0,0,r.h,r.w),a.setMatrix(o)}$.addPlotAreaDnDBackground(e,a,r,s),_t._renderFunnelSlices(e,a,n)||gt.renderEmptyText(e,i,r);var h=J.getInitialSelection(e);$.setInitialSelection(e,h),e.highlight(it.getHighlightedCategories(e))},_t._renderFunnelSlices=function(t,e,i){for(var r=t.getOptions(),a=J.getSeriesCount(t),s=it.getDataItemGaps(t),o=("on"==r.styleDefaults.threeDEffect?_t._DEFAULT_3D_GAP_RATIO:_t._DEFAULT_2D_GAP_RATIO)*i.w,l=s*Math.min(_t._MAX_WIDTH_FOR_GAPS*i.w/(a-1),o),h=0,u=0,g=0,d=0;d<a;d++){if(it.isDataItemRendered(t,d))null==(p=J.getTargetValue(t,d))&&(p=J.getValue(t,d,_t._GROUP_INDEX)),p<=0||(h+=p)}if(0==h)return!1;for(d=a-1;d>=0;d--)if(it.isDataItemRendered(t,d)){var c,p=J.getValue(t,d,_t._GROUP_INDEX),_=J.getTargetValue(t,d);if(!(p<=0&&null==_||null!=_&&_<=0))if(!((null!=_?_:p)<_t._SLICE_VALUE_THRESHOLD*h))null!=_?(g+=_/h,c=new B(t,d,u,i.w,i.h,1-g,_/h,p/_,l)):(g+=p/h,c=new B(t,d,u,i.w,i.h,1-g,p/h,null,l)),u++,e.addChild(c),n.associate(c,t,d,_t._GROUP_INDEX)}return!0};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var ft=new Object;t.Obj.createSubclass(ft,t.Obj),ft._DEFAULT_GAP_RATIO=1/70,ft._MAX_HEIGHT_FOR_GAPS=.25,ft._GROUP_INDEX=0,ft.render=function(e,i,r){var a=new t.Container(e.getCtx());a.setTranslate(r.x,r.y),i.addChild(a),e.setPlotArea(a);var n=new t.Rectangle(0,0,r.w,r.h);$.addPlotAreaDnDBackground(e,a,r,!0),ft._renderPyramidSlices(e,a,n)||gt.renderEmptyText(e,i,r);var s=J.getInitialSelection(e);$.setInitialSelection(e,s),e.highlight(it.getHighlightedCategories(e))},ft._renderPyramidSlices=function(t,e,i){for(var r=J.getSeriesCount(t),a=it.getDataItemGaps(t),s=ft._DEFAULT_GAP_RATIO*i.h,o=a*Math.min(ft._MAX_HEIGHT_FOR_GAPS*i.h/(r-1),s),l=0,h=0,u=0,g=0;g<r;g++){if(it.isDataItemRendered(t,g))(d=J.getValue(t,g,ft._GROUP_INDEX))<=0||(l+=d)}if(0==l)return!1;for(g=0;g<r;g++){var d;if(it.isDataItemRendered(t,g))if(!((d=J.getValue(t,g,ft._GROUP_INDEX))<=0)){var c=new k(t,g,h,i.w,i.h,u,d/l,o);u+=d/l,h++,e.addChild(c),n.associate(c,t,g,ft._GROUP_INDEX)}}return!0};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var vt=new Object;t.Obj.createSubclass(vt,t.Obj),vt.renderBackgroundObjects=function(t,e,i){vt._renderObjects(t,e,i,"back")},vt.renderForegroundObjects=function(t,e,i){vt._renderObjects(t,e,i,"front")},vt._renderObjects=function(t,e,i,r){vt._renderObjectsForAxis(t,e,i,r,t.xAxis,tt.getAxisRefObjs(t,"x")),vt._renderObjectsForAxis(t,e,i,r,t.yAxis,tt.getAxisRefObjs(t,"y")),vt._renderObjectsForAxis(t,e,i,r,t.y2Axis,tt.getAxisRefObjs(t,"y2"))},vt._renderObjectsForAxis=function(t,e,i,r,a,n){if(n&&a)for(var o=0;o<n.length;o++){var l=n[o];if(tt.isObjectRendered(t,l)&&(l&&tt.getLocation(l)==r)){var h,u=tt.getType(l);if("area"==u?h=vt._createReferenceArea(l,t,i,a):"line"==u&&(h=vt._createReferenceLine(l,t,i,a)),null!=h){var g=a==t.xAxis?"xAxis":a==t.yAxis?"yAxis":"y2Axis",d=new s(t,[h],l,o,g);t.registerObject(d),t.getEventManager().associate(h,d),e.addChild(h)}}}},vt._createReferenceArea=function(e,i,r,a){var n,s=i.getCtx(),o=a.getPosition(),l="top"==o||"bottom"==o,h="radial"==o,u=tt.getColor(e),g=tt.getLineType(e),d=e.style||e.svgStyle,c=e.className||e.svgClassName;if(null==e.items||a!=i.yAxis&&a!=i.y2Axis){var p=tt.getLowValue(e),_=tt.getHighValue(e);null!=p&&p!=-1/0||(p=a.getInfo().getGlobalMin()),null!=_&&_!=1/0||(_=a.getInfo().getGlobalMax());var f=vt._getAxisCoord(i,a,p),v=vt._getAxisCoord(i,a,_);if(nt.isPolar(i)){var m,S=r.x+r.w/2,C=r.y+r.h/2;if(h)if(Q.isGridPolygonal(i)){var y=J.getGroupCount(i),x=t.PolygonUtils.getRegularPolygonPoints(S,C,y,v,0,1),A=t.PolygonUtils.getRegularPolygonPoints(S,C,y,f,0,0);m=t.PathUtils.polyline(x)+t.PathUtils.polyline(A)+t.PathUtils.closePath()}else m=t.PathUtils.moveTo(S,C-v)+t.PathUtils.arcTo(v,v,Math.PI,1,S,C+v)+t.PathUtils.arcTo(v,v,Math.PI,1,S,C-v)+t.PathUtils.moveTo(S,C-f)+t.PathUtils.arcTo(f,f,Math.PI,0,S,C+f)+t.PathUtils.arcTo(f,f,Math.PI,0,S,C-f)+t.PathUtils.closePath();else{var b=i.getRadius(),M=pt.polarToCartesian(b,f,r),T=pt.polarToCartesian(b,v,r);m=t.PathUtils.moveTo(S,C)+t.PathUtils.lineTo(M.x,M.y)+t.PathUtils.arcTo(b,b,v-f,t.Agent.isRightToLeft(s)?0:1,T.x,T.y)+t.PathUtils.lineTo(T.x,T.y)+t.PathUtils.closePath()}n=new t.Path(s,m)}else{var I;I=l?[f,0,v,0,v,r.h,f,r.h]:[0,f,0,v,r.w,v,r.w,f],n=new t.Polygon(s,I)}n.setSolidFill(u),n.setStyle(d).setClassName(c)}else{var E=e.items,P=[],L=[];if(i.xAxis.isGroupAxis())for(;E.length<J.getGroupCount(i);)E.push(null);for(var w=0;w<E.length;w++){var R=E[w],B=tt.getLowValue(R),k=tt.getHighValue(R);if(null!=B&&null!=k){var F=a.getUnboundedCoordAt(B),N=a.getUnboundedCoordAt(k),H=i.xAxis.getUnboundedCoordAt(tt.getXValue(i,E,w));P.push(new O(H,N,N)),L.push(new O(H,F,F))}else P.push(new O),L.push(new O)}n=new D(i,!0,r,null,d,c,new t.SolidFill(u),null,g,P,g,L)}return n},vt._createReferenceLine=function(i,r,a,n){var s,o=n.getPosition(),l="top"==o||"bottom"==o,h="radial"==o,u="tangential"==o,g=tt.getLineWidth(i),d=tt.getLineType(i),c=tt.getColor(i),p=i.style||i.svgStyle,_=i.className||i.svgClassName,f=new t.Stroke(c,1,g,!1,t.Stroke.getDefaultDashProps(i.lineStyle,g)),v=r.getCtx();if(null==i.items||n!=r.yAxis&&n!=r.y2Axis){if(null==i.value)return null;var m=vt._getAxisCoord(r,n,i.value);if(null==m||m==1/0||m==-1/0)return null;var S=a.x+a.w/2,C=a.y+a.h/2;if(h){if(Q.isGridPolygonal(r)){x=t.PolygonUtils.getRegularPolygonPoints(S,C,J.getGroupCount(r),m,0);s=new t.Polygon(v,x)}else s=new t.Circle(v,S,C,m);s.setFill(null)}else if(u){var y=pt.polarToCartesian(r.getRadius(),m,a);s=new t.Line(v,S,C,y.x,y.y)}else(s=l?new t.Line(v,m,0,m,a.h):new t.Line(v,0,m,a.w,m)).setPixelHinting(!0);s.setStroke(f),s.setStyle(p).setClassName(_)}else{var x,A=i.items;if([].push(x=[]),r.xAxis.isGroupAxis())for(;A.length<J.getGroupCount(r);)A.push(null);for(var b=[],M=0;M<A.length;M++){var T=A[M],I=null;if(null!=T&&("object"!=e(T)?I=T:null!=T.value&&(I=T.value)),null!=I){var E=n.getUnboundedCoordAt(I),P=r.xAxis.getUnboundedCoordAt(tt.getXValue(r,A,M));b.push(new O(P,E,E))}else b.push(new O)}s=new D(r,!1,a,null,p,_,null,f,d,b)}return s},vt._getAxisCoord=function(t,e,i){if(e.isGroupAxis()){var r=J.getGroupIndex(t,i);if(r>=0)return e.getUnboundedCoordAt(r)}return isNaN(i)?null:e.getUnboundedCoordAt(i)},
/**
   * @license
   * Copyright (c) 2008 %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
t.SparkChart=function(){},t.Obj.createSubclass(t.SparkChart,t.BaseComponent),t.SparkChart.newInstance=function(e,i,r){var a=new t.SparkChart;return e.getStage().setCursor(""),a.Init(e,i,r),a},t.SparkChart.getDefaults=function(t){return(new St).getDefaults(t)},t.SparkChart.prototype.Init=function(e,i,r){t.SparkChart.superclass.Init.call(this,e,i,r),this.Defaults=new St(e),this.EventManager=new Ct(this),this.EventManager.addListeners(this),this._chart=t.Chart.newInstance(e,this._onRenderEnd,this),this.addChild(this._chart),t.Agent.isTouchDevice()||this.EventManager.setKeyboardHandler(new t.KeyboardHandler(this.EventManager,this)),this._tooltipMask=new t.Rect(e),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))},t.SparkChart.prototype.SetOptions=function(e){e?(this.Options=this.Defaults.calcOptions(e),t.Agent.isEnvironmentTest()&&(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())},t.SparkChart.prototype.setId=function(e){t.SparkChart.superclass.setId.call(this,e),this._chart&&this._chart.setId(e+"chart")},t.SparkChart.prototype.render=function(e,i,r){this.SetOptions(e),isNaN(i)||isNaN(r)||(this.Width=i,this.Height=r),this._eventReceived=!1,this._isDoneRendering=!1,yt.render(this,this.Width,this.Height);var a=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill();var n=this.Options.tooltip,s=n?n.renderer:null,o=this.Options.color;if(s){var l={component:this.Options._widgetConstructor,color:o};this._peer=new t.CustomDatatipPeer(this.getCtx().getTooltipManager(),s,o,l),this.EventManager.associate(this._tooltipMask,this._peer)}else a?(this._peer=new t.SimpleObjPeer(null,a,o),this.EventManager.associate(this._tooltipMask,this._peer)):this._peer=null;this.Options._selectingCursor&&this.setCursor(t.SelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0},t.SparkChart.prototype._onRenderEnd=function(t){this._eventReceived=!0,"ready"==t.type&&this._isDoneRendering&&this.RenderComplete()},t.SparkChart.prototype.__getChart=function(){return this._chart},t.SparkChart.prototype.getAutomation=function(){return new mt(this)},t.SparkChart.prototype.UpdateAriaAttributes=function(){var e=t.Displayable.generateAriaLabel(t.TextUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null),i=this.Options.translations;this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(t.ResourceUtils.format(i.labelAndValue,[i.labelDataVisualization,e]))):(this.setAriaRole("img"),this.setAriaProperty("label",e))},t.SparkChart.prototype.__getLogicalObject=function(){return this._peer};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var mt=function(t){this._sparkChart=t};t.Obj.createSubclass(mt,t.Automation),mt.prototype.getDataItem=function(t){var e=this._sparkChart.__getChart().getAutomation().getDataItem(0,t);return e?{borderColor:e.borderColor,color:e.color,date:e.x,low:e.low,high:e.high,value:null==e.low||null==e.high?e.value:e.high-e.low}:null};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var St=function t(e){this.Init({alta:t.SKIN_ALTA},e)};t.Obj.createSubclass(St,t.BaseComponentDefaults),St.SKIN_ALTA={skin:t.CSSStyle.SKIN_ALTA,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",areaSvgClassName:"",emptyText:null,color:"#267db3",firstColor:"",lastColor:"",highColor:"",lowColor:"",visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,referenceObjects:[],svgClassName:"",_statusMessageStyle:new t.CSSStyle("font-size: 12px; color: #404259;")},St.prototype.getAnimationDuration=function(t){return t.animationDuration};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var Ct=function(t){this.Init(t.getCtx(),t.dispatchEvent,t,t),this._sparkChart=t};t.Obj.createSubclass(Ct,t.EventManager),Ct.prototype.ProcessKeyboardEvent=function(e){if(!this.KeyboardHandler)return!1;if(e.keyCode==t.KeyboardEvent.TAB){var i=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(e,i.x,i.y,this._sparkChart.__getLogicalObject(),this._sparkChart)}return!1},Ct.prototype.OnBlur=function(t){Ct.superclass.OnBlur.call(this,t),this.hideTooltip()};
/**
   * @license
   * Copyright (c) %FIRST_YEAR% %CURRENT_YEAR%, Oracle and/or its affiliates.
   * The Universal Permissive License (UPL), Version 1.0
   * @ignore
   */
var yt=new Object;t.Obj.createSubclass(yt,t.Obj),yt.render=function(t,e,i){var r=t.__getChart(),a=yt._convertOptionsObj(t),n=t.getOptions();if("area"==n.type||"line"==n.type||"lineWithArea"==n.type){var s=yt._getDataItems(t),o=!1;if(n.firstColor||n.lastColor||n.highColor||n.lowColor)o=!0;else for(var l=0;l<s.length;l++)if(s[l]&&"on"==s[l].markerDisplayed){o=!0;break}if(o&&s.length>0||"none"==n.lineType){var h=n.markerSize/2;e-=2*h,i-=2*h,r.setTranslate(h,h)}}r.render(a,e,i)},yt._getDataItems=function(t){var e=t.getOptions();return e&&e.items?e.items:[]},yt._convertOptionsObj=function(e){var i=e.getOptions(),r={styleDefaults:{},xAxis:{},yAxis:{},groups:[]};r.translations=i.translations;for(var a=[],n=-1,s=-1,o=-1/0,l=1/0,h=yt._getDataItems(e),u=0;u<h.length;u++){var g=h[u],d={};g instanceof Object?(d.value=g.value,d.low=g.low,d.high=g.high,g.date&&(r.timeAxisType="enabled",r.groups.push(g.date)),"on"==g.markerDisplayed&&(d.markerDisplayed="on"),g.color&&(d.color=g.color),g.borderColor&&(d.borderColor=g.borderColor),g.markerShape&&(d.markerShape=g.markerShape),g.markerSize&&(d.markerSize=g.markerSize),(g.className||g.svgClassName)&&(d.svgClassName=g.className||g.svgClassName),(g.style||g.svgStyle)&&(d.svgStyle=g.style||g.svgStyle)):d.value=g,a.push(d);var c=null!=d.value?d.value:Math.max(d.low,d.high);o<c&&(o=c,n=u);var p=null!=d.value?d.value:Math.min(d.low,d.high);l>p&&(l=p,s=u)}i.highColor&&n>=0&&(a[n].markerDisplayed="on",a[n].color||(a[n].color=i.highColor)),i.lowColor&&s>=0&&(a[s].markerDisplayed="on",a[s].color||(a[s].color=i.lowColor)),i.firstColor&&a.length>0&&(a[0].markerDisplayed="on",a[0].color||(a[0].color=i.firstColor)),i.lastColor&&a.length>0&&(a[a.length-1].markerDisplayed="on",a[a.length-1].color||(a[a.length-1].color=i.lastColor)),r.series=[{items:a,areaColor:i.areaColor,svgClassName:i.className||i.svgClassName,svgStyle:i.style||i.svgStyle,areaSvgClassName:i.areaClassName||i.areaSvgClassName,areaStyle:i.areaStyle||i.areaSvgStyle}],i.referenceObjects&&i.referenceObjects.length>0&&(r.yAxis.referenceObjects=i.referenceObjects),r.__spark=!0;var _=i.barSpacing;"auto"==_&&(_=t.Agent.getDevicePixelRatio()>1?"subpixel":"pixel"),r.__sparkBarSpacing=_,r.type=i.type,r.animationOnDataChange=i.animationOnDataChange,r.animationOnDisplay=i.animationOnDisplay,r.emptyText=i.emptyText,i.color&&(r.styleDefaults.colors=[i.color]),r.styleDefaults.animationDuration=i.animationDuration,r.styleDefaults.animationIndicators="none",r.styleDefaults.lineWidth=i.lineWidth,r.styleDefaults.lineStyle=i.lineStyle,r.styleDefaults.lineType=i.lineType,r.styleDefaults.markerSize=i.markerSize,r.styleDefaults.markerShape=i.markerShape,r.styleDefaults.barGapRatio=i.barGapRatio,r.styleDefaults.dataItemGaps="0%",r.xAxis.rendered="off",r.yAxis.rendered="off";var f="zero"==i.baselineScaling,v=o!=l?.1*(o-l):.1*Math.abs(o);return r.yAxis.min=f&&l>=0?0:l-v,r.yAxis.max=f&&o<=0?0:o+v,"none"==i.visualEffects||"area"!=i.type&&"lineWithArea"!=i.type?r.styleDefaults.seriesEffect="color":r.styleDefaults.seriesEffect="gradient",r.layout={gapWidthRatio:0,gapHeightRatio:0},r.legend={rendered:"off"},r._statusMessageStyle=i._statusMessageStyle,r}}(t),t}));